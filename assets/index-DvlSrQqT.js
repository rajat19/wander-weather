function uS(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function cS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var od={exports:{}},Qa={},ad={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function hS(){if(Yy)return De;Yy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,L={};function k(O,Q,de){this.props=O,this.context=Q,this.refs=L,this.updater=de||x}k.prototype.isReactComponent={},k.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function q(){}q.prototype=k.prototype;function G(O,Q,de){this.props=O,this.context=Q,this.refs=L,this.updater=de||x}var Z=G.prototype=new q;Z.constructor=G,P(Z,k.prototype),Z.isPureReactComponent=!0;var J=Array.isArray,ue=Object.prototype.hasOwnProperty,le={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function A(O,Q,de){var _e,Te={},Ce=null,Ne=null;if(Q!=null)for(_e in Q.ref!==void 0&&(Ne=Q.ref),Q.key!==void 0&&(Ce=""+Q.key),Q)ue.call(Q,_e)&&!b.hasOwnProperty(_e)&&(Te[_e]=Q[_e]);var ke=arguments.length-2;if(ke===1)Te.children=de;else if(1<ke){for(var $e=Array(ke),xt=0;xt<ke;xt++)$e[xt]=arguments[xt+2];Te.children=$e}if(O&&O.defaultProps)for(_e in ke=O.defaultProps,ke)Te[_e]===void 0&&(Te[_e]=ke[_e]);return{$$typeof:t,type:O,key:Ce,ref:Ne,props:Te,_owner:le.current}}function R(O,Q){return{$$typeof:t,type:O.type,key:Q,ref:O.ref,props:O.props,_owner:O._owner}}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function D(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(de){return Q[de]})}var V=/\/+/g;function C(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):Q.toString(36)}function B(O,Q,de,_e,Te){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var Ne=!1;if(O===null)Ne=!0;else switch(Ce){case"string":case"number":Ne=!0;break;case"object":switch(O.$$typeof){case t:case e:Ne=!0}}if(Ne)return Ne=O,Te=Te(Ne),O=_e===""?"."+C(Ne,0):_e,J(Te)?(de="",O!=null&&(de=O.replace(V,"$&/")+"/"),B(Te,Q,de,"",function(xt){return xt})):Te!=null&&(M(Te)&&(Te=R(Te,de+(!Te.key||Ne&&Ne.key===Te.key?"":(""+Te.key).replace(V,"$&/")+"/")+O)),Q.push(Te)),1;if(Ne=0,_e=_e===""?".":_e+":",J(O))for(var ke=0;ke<O.length;ke++){Ce=O[ke];var $e=_e+C(Ce,ke);Ne+=B(Ce,Q,de,$e,Te)}else if($e=E(O),typeof $e=="function")for(O=$e.call(O),ke=0;!(Ce=O.next()).done;)Ce=Ce.value,$e=_e+C(Ce,ke++),Ne+=B(Ce,Q,de,$e,Te);else if(Ce==="object")throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Ne}function U(O,Q,de){if(O==null)return O;var _e=[],Te=0;return B(O,_e,"","",function(Ce){return Q.call(de,Ce,Te++)}),_e}function K(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(de){(O._status===0||O._status===-1)&&(O._status=1,O._result=de)},function(de){(O._status===0||O._status===-1)&&(O._status=2,O._result=de)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var re={current:null},Y={transition:null},ne={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:Y,ReactCurrentOwner:le};function ee(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:U,forEach:function(O,Q,de){U(O,function(){Q.apply(this,arguments)},de)},count:function(O){var Q=0;return U(O,function(){Q++}),Q},toArray:function(O){return U(O,function(Q){return Q})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},De.Component=k,De.Fragment=n,De.Profiler=o,De.PureComponent=G,De.StrictMode=i,De.Suspense=p,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,De.act=ee,De.cloneElement=function(O,Q,de){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var _e=P({},O.props),Te=O.key,Ce=O.ref,Ne=O._owner;if(Q!=null){if(Q.ref!==void 0&&(Ce=Q.ref,Ne=le.current),Q.key!==void 0&&(Te=""+Q.key),O.type&&O.type.defaultProps)var ke=O.type.defaultProps;for($e in Q)ue.call(Q,$e)&&!b.hasOwnProperty($e)&&(_e[$e]=Q[$e]===void 0&&ke!==void 0?ke[$e]:Q[$e])}var $e=arguments.length-2;if($e===1)_e.children=de;else if(1<$e){ke=Array($e);for(var xt=0;xt<$e;xt++)ke[xt]=arguments[xt+2];_e.children=ke}return{$$typeof:t,type:O.type,key:Te,ref:Ce,props:_e,_owner:Ne}},De.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:a,_context:O},O.Consumer=O},De.createElement=A,De.createFactory=function(O){var Q=A.bind(null,O);return Q.type=O,Q},De.createRef=function(){return{current:null}},De.forwardRef=function(O){return{$$typeof:f,render:O}},De.isValidElement=M,De.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:K}},De.memo=function(O,Q){return{$$typeof:m,type:O,compare:Q===void 0?null:Q}},De.startTransition=function(O){var Q=Y.transition;Y.transition={};try{O()}finally{Y.transition=Q}},De.unstable_act=ee,De.useCallback=function(O,Q){return re.current.useCallback(O,Q)},De.useContext=function(O){return re.current.useContext(O)},De.useDebugValue=function(){},De.useDeferredValue=function(O){return re.current.useDeferredValue(O)},De.useEffect=function(O,Q){return re.current.useEffect(O,Q)},De.useId=function(){return re.current.useId()},De.useImperativeHandle=function(O,Q,de){return re.current.useImperativeHandle(O,Q,de)},De.useInsertionEffect=function(O,Q){return re.current.useInsertionEffect(O,Q)},De.useLayoutEffect=function(O,Q){return re.current.useLayoutEffect(O,Q)},De.useMemo=function(O,Q){return re.current.useMemo(O,Q)},De.useReducer=function(O,Q,de){return re.current.useReducer(O,Q,de)},De.useRef=function(O){return re.current.useRef(O)},De.useState=function(O){return re.current.useState(O)},De.useSyncExternalStore=function(O,Q,de){return re.current.useSyncExternalStore(O,Q,de)},De.useTransition=function(){return re.current.useTransition()},De.version="18.3.1",De}var Xy;function jp(){return Xy||(Xy=1,ad.exports=hS()),ad.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function fS(){if(Zy)return Qa;Zy=1;var t=jp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,m){var v,w={},E=null,x=null;m!==void 0&&(E=""+m),p.key!==void 0&&(E=""+p.key),p.ref!==void 0&&(x=p.ref);for(v in p)i.call(p,v)&&!a.hasOwnProperty(v)&&(w[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:e,type:f,key:E,ref:x,props:w,_owner:o.current}}return Qa.Fragment=n,Qa.jsx=c,Qa.jsxs=c,Qa}var Jy;function dS(){return Jy||(Jy=1,od.exports=fS()),od.exports}var I=dS(),rc={},ld={exports:{}},rn={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function pS(){return e0||(e0=1,function(t){function e(Y,ne){var ee=Y.length;Y.push(ne);e:for(;0<ee;){var O=ee-1>>>1,Q=Y[O];if(0<o(Q,ne))Y[O]=ne,Y[ee]=Q,ee=O;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var ne=Y[0],ee=Y.pop();if(ee!==ne){Y[0]=ee;e:for(var O=0,Q=Y.length,de=Q>>>1;O<de;){var _e=2*(O+1)-1,Te=Y[_e],Ce=_e+1,Ne=Y[Ce];if(0>o(Te,ee))Ce<Q&&0>o(Ne,Te)?(Y[O]=Ne,Y[Ce]=ee,O=Ce):(Y[O]=Te,Y[_e]=ee,O=_e);else if(Ce<Q&&0>o(Ne,ee))Y[O]=Ne,Y[Ce]=ee,O=Ce;else break e}}return ne}function o(Y,ne){var ee=Y.sortIndex-ne.sortIndex;return ee!==0?ee:Y.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],m=[],v=1,w=null,E=3,x=!1,P=!1,L=!1,k=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(Y){for(var ne=n(m);ne!==null;){if(ne.callback===null)i(m);else if(ne.startTime<=Y)i(m),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=n(m)}}function J(Y){if(L=!1,Z(Y),!P)if(n(p)!==null)P=!0,K(ue);else{var ne=n(m);ne!==null&&re(J,ne.startTime-Y)}}function ue(Y,ne){P=!1,L&&(L=!1,q(A),A=-1),x=!0;var ee=E;try{for(Z(ne),w=n(p);w!==null&&(!(w.expirationTime>ne)||Y&&!D());){var O=w.callback;if(typeof O=="function"){w.callback=null,E=w.priorityLevel;var Q=O(w.expirationTime<=ne);ne=t.unstable_now(),typeof Q=="function"?w.callback=Q:w===n(p)&&i(p),Z(ne)}else i(p);w=n(p)}if(w!==null)var de=!0;else{var _e=n(m);_e!==null&&re(J,_e.startTime-ne),de=!1}return de}finally{w=null,E=ee,x=!1}}var le=!1,b=null,A=-1,R=5,M=-1;function D(){return!(t.unstable_now()-M<R)}function V(){if(b!==null){var Y=t.unstable_now();M=Y;var ne=!0;try{ne=b(!0,Y)}finally{ne?C():(le=!1,b=null)}}else le=!1}var C;if(typeof G=="function")C=function(){G(V)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,U=B.port2;B.port1.onmessage=V,C=function(){U.postMessage(null)}}else C=function(){k(V,0)};function K(Y){b=Y,le||(le=!0,C())}function re(Y,ne){A=k(function(){Y(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){P||x||(P=!0,K(ue))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var ne=3;break;default:ne=E}var ee=E;E=ne;try{return Y()}finally{E=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ne){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ee=E;E=Y;try{return ne()}finally{E=ee}},t.unstable_scheduleCallback=function(Y,ne,ee){var O=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?O+ee:O):ee=O,Y){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ee+Q,Y={id:v++,callback:ne,priorityLevel:Y,startTime:ee,expirationTime:Q,sortIndex:-1},ee>O?(Y.sortIndex=ee,e(m,Y),n(p)===null&&Y===n(m)&&(L?(q(A),A=-1):L=!0,re(J,ee-O))):(Y.sortIndex=Q,e(p,Y),P||x||(P=!0,K(ue))),Y},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Y){var ne=E;return function(){var ee=E;E=ne;try{return Y.apply(this,arguments)}finally{E=ee}}}}(cd)),cd}var t0;function mS(){return t0||(t0=1,ud.exports=pS()),ud.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function gS(){if(n0)return rn;n0=1;var t=jp(),e=mS();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(r){return p.call(w,r)?!0:p.call(v,r)?!1:m.test(r)?w[r]=!0:(v[r]=!0,!1)}function x(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function P(r,s,l,h){if(s===null||typeof s>"u"||x(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function L(r,s,l,h,d,y,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=T}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new L(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];k[s]=new L(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new L(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new L(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new L(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new L(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new L(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new L(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new L(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function G(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(q,G);k[s]=new L(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(q,G);k[s]=new L(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(q,G);k[s]=new L(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new L(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new L(r,1,!1,r.toLowerCase(),null,!0,!0)});function Z(r,s,l,h){var d=k.hasOwnProperty(s)?k[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(P(s,l,d,h)&&(l=null),h||d===null?E(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):d.mustUseProperty?r[d.propertyName]=l===null?d.type===3?!1:"":l:(s=d.attributeName,h=d.attributeNamespace,l===null?r.removeAttribute(s):(d=d.type,l=d===3||d===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var J=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),le=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ne(r){return r===null||typeof r!="object"?null:(r=Y&&r[Y]||r["@@iterator"],typeof r=="function"?r:null)}var ee=Object.assign,O;function Q(r){if(O===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+r}var de=!1;function _e(r,s){if(!r||de)return"";de=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var h=W}Reflect.construct(r,[],s)}else{try{s.call()}catch(W){h=W}r.call(s.prototype)}else{try{throw Error()}catch(W){h=W}r()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var d=W.stack.split(`
`),y=h.stack.split(`
`),T=d.length-1,N=y.length-1;1<=T&&0<=N&&d[T]!==y[N];)N--;for(;1<=T&&0<=N;T--,N--)if(d[T]!==y[N]){if(T!==1||N!==1)do if(T--,N--,0>N||d[T]!==y[N]){var F=`
`+d[T].replace(" at new "," at ");return r.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",r.displayName)),F}while(1<=T&&0<=N);break}}}finally{de=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Q(r):""}function Te(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=_e(r.type,!1),r;case 11:return r=_e(r.type.render,!1),r;case 1:return r=_e(r.type,!0),r;default:return""}}function Ce(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case le:return"Portal";case R:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case B:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case M:return(r._context.displayName||"Context")+".Provider";case V:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case U:return s=r.displayName||null,s!==null?s:Ce(r.type)||"Memo";case K:s=r._payload,r=r._init;try{return Ce(r(s))}catch{}}return null}function Ne(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ke(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $e(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xt(r){var s=$e(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ar(r){r._valueTracker||(r._valueTracker=xt(r))}function ks(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=$e(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function Xr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Fi(r,s){var l=s.checked;return ee({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ds(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=ke(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ta(r,s){s=s.checked,s!=null&&Z(r,"checked",s,!1)}function na(r,s){ta(r,s);var l=ke(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?bs(r,s.type,l):s.hasOwnProperty("defaultValue")&&bs(r,s.type,ke(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function zl(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function bs(r,s,l){(s!=="number"||Xr(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Cr=Array.isArray;function Rr(r,s,l,h){if(r=r.options,s){s={};for(var d=0;d<l.length;d++)s["$"+l[d]]=!0;for(l=0;l<r.length;l++)d=s.hasOwnProperty("$"+r[l].value),r[l].selected!==d&&(r[l].selected=d),d&&h&&(r[l].defaultSelected=!0)}else{for(l=""+ke(l),s=null,d=0;d<r.length;d++){if(r[d].value===l){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function ra(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ms(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(Cr(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:ke(l)}}function Vs(r,s){var l=ke(s.value),h=ke(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function ia(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function yt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?yt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Pr,sa=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Pr=Pr||document.createElement("div"),Pr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Pr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Zr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bi=["Webkit","ms","Moz","O"];Object.keys(ji).forEach(function(r){Bi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ji[s]=ji[r]})});function oa(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ji.hasOwnProperty(r)&&ji[r]?(""+s).trim():s+"px"}function aa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,d=oa(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,d):r[l]=d}}var la=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ua(r,s){if(s){if(la[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function ca(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function Os(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ls=null,En=null,ir=null;function Fs(r){if(r=Ma(r)){if(typeof Ls!="function")throw Error(n(280));var s=r.stateNode;s&&(s=vu(s),Ls(r.stateNode,r.type,s))}}function sr(r){En?ir?ir.push(r):ir=[r]:En=r}function ha(){if(En){var r=En,s=ir;if(ir=En=null,Fs(r),s)for(r=0;r<s.length;r++)Fs(s[r])}}function zi(r,s){return r(s)}function fa(){}var Nr=!1;function da(r,s,l){if(Nr)return r(s,l);Nr=!0;try{return zi(r,s,l)}finally{Nr=!1,(En!==null||ir!==null)&&(fa(),ha())}}function ot(r,s){var l=r.stateNode;if(l===null)return null;var h=vu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var js=!1;if(f)try{var On={};Object.defineProperty(On,"passive",{get:function(){js=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{js=!1}function $i(r,s,l,h,d,y,T,N,F){var W=Array.prototype.slice.call(arguments,3);try{s.apply(l,W)}catch(se){this.onError(se)}}var qi=!1,Bs=null,Ln=!1,pa=null,bh={onError:function(r){qi=!0,Bs=r}};function Us(r,s,l,h,d,y,T,N,F){qi=!1,Bs=null,$i.apply(bh,arguments)}function $l(r,s,l,h,d,y,T,N,F){if(Us.apply(this,arguments),qi){if(qi){var W=Bs;qi=!1,Bs=null}else throw Error(n(198));Ln||(Ln=!0,pa=W)}}function Fn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Hi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function jn(r){if(Fn(r)!==r)throw Error(n(188))}function ql(r){var s=r.alternate;if(!s){if(s=Fn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,h=s;;){var d=l.return;if(d===null)break;var y=d.alternate;if(y===null){if(h=d.return,h!==null){l=h;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===l)return jn(d),r;if(y===h)return jn(d),s;y=y.sibling}throw Error(n(188))}if(l.return!==h.return)l=d,h=y;else{for(var T=!1,N=d.child;N;){if(N===l){T=!0,l=d,h=y;break}if(N===h){T=!0,h=d,l=y;break}N=N.sibling}if(!T){for(N=y.child;N;){if(N===l){T=!0,l=y,h=d;break}if(N===h){T=!0,h=y,l=d;break}N=N.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function ma(r){return r=ql(r),r!==null?zs(r):null}function zs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=zs(r);if(s!==null)return s;r=r.sibling}return null}var $s=e.unstable_scheduleCallback,ga=e.unstable_cancelCallback,Hl=e.unstable_shouldYield,Mh=e.unstable_requestPaint,Ke=e.unstable_now,Gl=e.unstable_getCurrentPriorityLevel,Gi=e.unstable_ImmediatePriority,Jr=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,ya=e.unstable_LowPriority,Kl=e.unstable_IdlePriority,Ki=null,cn=null;function Wl(r){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Ki,r,void 0,(r.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Yl,va=Math.log,Ql=Math.LN2;function Yl(r){return r>>>=0,r===0?32:31-(va(r)/Ql|0)|0}var qs=64,Hs=4194304;function ei(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Wi(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,d=r.suspendedLanes,y=r.pingedLanes,T=l&268435455;if(T!==0){var N=T&~d;N!==0?h=ei(N):(y&=T,y!==0&&(h=ei(y)))}else T=l&~d,T!==0?h=ei(T):y!==0&&(h=ei(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&d)===0&&(d=h&-h,y=s&-s,d>=y||d===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-qt(s),d=1<<l,h|=r[l],s&=~d;return h}function Vh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kr(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,y=r.pendingLanes;0<y;){var T=31-qt(y),N=1<<T,F=d[T];F===-1?((N&l)===0||(N&h)!==0)&&(d[T]=Vh(N,s)):F<=s&&(r.expiredLanes|=N),y&=~N}}function hn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Qi(){var r=qs;return qs<<=1,(qs&4194240)===0&&(qs=64),r}function ti(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function ni(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-qt(s),r[s]=l}function He(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var d=31-qt(l),y=1<<d;s[d]=0,h[d]=-1,r[d]=-1,l&=~y}}function ri(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-qt(l),d=1<<h;d&s|r[h]&s&&(r[h]|=s),l&=~d}}var be=0;function ii(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Xl,Gs,Zl,Jl,eu,_a=!1,or=[],Nt=null,Bn=null,Un=null,si=new Map,Sn=new Map,ar=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tu(r,s){switch(r){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":si.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(s.pointerId)}}function Yt(r,s,l,h,d,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[d]},s!==null&&(s=Ma(s),s!==null&&Gs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Lh(r,s,l,h,d){switch(s){case"focusin":return Nt=Yt(Nt,r,s,l,h,d),!0;case"dragenter":return Bn=Yt(Bn,r,s,l,h,d),!0;case"mouseover":return Un=Yt(Un,r,s,l,h,d),!0;case"pointerover":var y=d.pointerId;return si.set(y,Yt(si.get(y)||null,r,s,l,h,d)),!0;case"gotpointercapture":return y=d.pointerId,Sn.set(y,Yt(Sn.get(y)||null,r,s,l,h,d)),!0}return!1}function nu(r){var s=es(r.target);if(s!==null){var l=Fn(s);if(l!==null){if(s=l.tag,s===13){if(s=Hi(l),s!==null){r.blockedOn=s,eu(r.priority,function(){Zl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Dr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Ks(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);Ui=h,l.target.dispatchEvent(h),Ui=null}else return s=Ma(l),s!==null&&Gs(s),r.blockedOn=l,!1;s.shift()}return!0}function Yi(r,s,l){Dr(r)&&l.delete(s)}function ru(){_a=!1,Nt!==null&&Dr(Nt)&&(Nt=null),Bn!==null&&Dr(Bn)&&(Bn=null),Un!==null&&Dr(Un)&&(Un=null),si.forEach(Yi),Sn.forEach(Yi)}function zn(r,s){r.blockedOn===s&&(r.blockedOn=null,_a||(_a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ru)))}function $n(r){function s(d){return zn(d,r)}if(0<or.length){zn(or[0],r);for(var l=1;l<or.length;l++){var h=or[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Nt!==null&&zn(Nt,r),Bn!==null&&zn(Bn,r),Un!==null&&zn(Un,r),si.forEach(s),Sn.forEach(s),l=0;l<ar.length;l++)h=ar[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<ar.length&&(l=ar[0],l.blockedOn===null);)nu(l),l.blockedOn===null&&ar.shift()}var br=J.ReactCurrentBatchConfig,oi=!0;function Xe(r,s,l,h){var d=be,y=br.transition;br.transition=null;try{be=1,wa(r,s,l,h)}finally{be=d,br.transition=y}}function Fh(r,s,l,h){var d=be,y=br.transition;br.transition=null;try{be=4,wa(r,s,l,h)}finally{be=d,br.transition=y}}function wa(r,s,l,h){if(oi){var d=Ks(r,s,l,h);if(d===null)Qh(r,s,h,Xi,l),tu(r,h);else if(Lh(d,r,s,l,h))h.stopPropagation();else if(tu(r,h),s&4&&-1<Oh.indexOf(r)){for(;d!==null;){var y=Ma(d);if(y!==null&&Xl(y),y=Ks(r,s,l,h),y===null&&Qh(r,s,h,Xi,l),y===d)break;d=y}d!==null&&h.stopPropagation()}else Qh(r,s,h,null,l)}}var Xi=null;function Ks(r,s,l,h){if(Xi=null,r=Os(h),r=es(r),r!==null)if(s=Fn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Hi(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Xi=r,null}function Ea(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gl()){case Gi:return 1;case Jr:return 4;case Tn:case ya:return 16;case Kl:return 536870912;default:return 16}default:return 16}}var fn=null,Ws=null,Xt=null;function Ta(){if(Xt)return Xt;var r,s=Ws,l=s.length,h,d="value"in fn?fn.value:fn.textContent,y=d.length;for(r=0;r<l&&s[r]===d[r];r++);var T=l-r;for(h=1;h<=T&&s[l-h]===d[y-h];h++);return Xt=d.slice(r,1<h?1-h:void 0)}function Qs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function lr(){return!0}function Sa(){return!1}function kt(r){function s(l,h,d,y,T){this._reactName=l,this._targetInst=d,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(l=r[N],this[N]=l?l(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?lr:Sa,this.isPropagationStopped=Sa,this}return ee(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),s}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=kt(qn),ur=ee({},qn,{view:0,detail:0}),jh=kt(ur),Xs,Mr,ai,Zi=ee({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ai&&(ai&&r.type==="mousemove"?(Xs=r.screenX-ai.screenX,Mr=r.screenY-ai.screenY):Mr=Xs=0,ai=r),Xs)},movementY:function(r){return"movementY"in r?r.movementY:Mr}}),Zs=kt(Zi),xa=ee({},Zi,{dataTransfer:0}),iu=kt(xa),Js=ee({},ur,{relatedTarget:0}),eo=kt(Js),su=ee({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vr=kt(su),ou=ee({},qn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),au=kt(ou),lu=ee({},qn,{data:0}),Ia=kt(lu),to={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=uu[r])?!!s[r]:!1}function cr(){return cu}var u=ee({},ur,{key:function(r){if(r.key){var s=to[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Qs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ht[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(r){return r.type==="keypress"?Qs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Qs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=kt(u),_=ee({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=kt(_),z=ee({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),X=kt(z),fe=ee({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=kt(fe),_t=ee({},Zi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=kt(_t),It=[9,13,27,32],ft=f&&"CompositionEvent"in window,xn=null;f&&"documentMode"in document&&(xn=document.documentMode);var dn=f&&"TextEvent"in window&&!xn,Ji=f&&(!ft||xn&&8<xn&&11>=xn),no=" ",qm=!1;function Hm(r,s){switch(r){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ro=!1;function oT(r,s){switch(r){case"compositionend":return Gm(s);case"keypress":return s.which!==32?null:(qm=!0,no);case"textInput":return r=s.data,r===no&&qm?null:r;default:return null}}function aT(r,s){if(ro)return r==="compositionend"||!ft&&Hm(r,s)?(r=Ta(),Xt=Ws=fn=null,ro=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ji&&s.locale!=="ko"?null:s.data;default:return null}}var lT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!lT[r.type]:s==="textarea"}function Wm(r,s,l,h){sr(h),s=mu(s,"onChange"),0<s.length&&(l=new Ys("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var Aa=null,Ca=null;function uT(r){fg(r,0)}function hu(r){var s=lo(r);if(ks(s))return r}function cT(r,s){if(r==="change")return s}var Qm=!1;if(f){var Bh;if(f){var Uh="oninput"in document;if(!Uh){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),Uh=typeof Ym.oninput=="function"}Bh=Uh}else Bh=!1;Qm=Bh&&(!document.documentMode||9<document.documentMode)}function Xm(){Aa&&(Aa.detachEvent("onpropertychange",Zm),Ca=Aa=null)}function Zm(r){if(r.propertyName==="value"&&hu(Ca)){var s=[];Wm(s,Ca,r,Os(r)),da(uT,s)}}function hT(r,s,l){r==="focusin"?(Xm(),Aa=s,Ca=l,Aa.attachEvent("onpropertychange",Zm)):r==="focusout"&&Xm()}function fT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return hu(Ca)}function dT(r,s){if(r==="click")return hu(s)}function pT(r,s){if(r==="input"||r==="change")return hu(s)}function mT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Hn=typeof Object.is=="function"?Object.is:mT;function Ra(r,s){if(Hn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var d=l[h];if(!p.call(s,d)||!Hn(r[d],s[d]))return!1}return!0}function Jm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function eg(r,s){var l=Jm(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jm(l)}}function tg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?tg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function ng(){for(var r=window,s=Xr();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Xr(r.document)}return s}function zh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function gT(r){var s=ng(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&tg(l.ownerDocument.documentElement,l)){if(h!==null&&zh(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=l.textContent.length,y=Math.min(h.start,d);h=h.end===void 0?y:Math.min(h.end,d),!r.extend&&y>h&&(d=h,h=y,y=d),d=eg(l,y);var T=eg(l,h);d&&T&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var yT=f&&"documentMode"in document&&11>=document.documentMode,io=null,$h=null,Pa=null,qh=!1;function rg(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;qh||io==null||io!==Xr(h)||(h=io,"selectionStart"in h&&zh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Pa&&Ra(Pa,h)||(Pa=h,h=mu($h,"onSelect"),0<h.length&&(s=new Ys("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=io)))}function fu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var so={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionend:fu("Transition","TransitionEnd")},Hh={},ig={};f&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function du(r){if(Hh[r])return Hh[r];if(!so[r])return r;var s=so[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in ig)return Hh[r]=s[l];return r}var sg=du("animationend"),og=du("animationiteration"),ag=du("animationstart"),lg=du("transitionend"),ug=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(r,s){ug.set(r,s),a(s,[r])}for(var Gh=0;Gh<cg.length;Gh++){var Kh=cg[Gh],vT=Kh.toLowerCase(),_T=Kh[0].toUpperCase()+Kh.slice(1);li(vT,"on"+_T)}li(sg,"onAnimationEnd"),li(og,"onAnimationIteration"),li(ag,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(lg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function hg(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,$l(h,s,void 0,r),r.currentTarget=null}function fg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],d=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var T=h.length-1;0<=T;T--){var N=h[T],F=N.instance,W=N.currentTarget;if(N=N.listener,F!==y&&d.isPropagationStopped())break e;hg(d,N,W),y=F}else for(T=0;T<h.length;T++){if(N=h[T],F=N.instance,W=N.currentTarget,N=N.listener,F!==y&&d.isPropagationStopped())break e;hg(d,N,W),y=F}}}if(Ln)throw r=pa,Ln=!1,pa=null,r}function Qe(r,s){var l=s[tf];l===void 0&&(l=s[tf]=new Set);var h=r+"__bubble";l.has(h)||(dg(s,r,2,!1),l.add(h))}function Wh(r,s,l){var h=0;s&&(h|=4),dg(l,r,h,s)}var pu="_reactListening"+Math.random().toString(36).slice(2);function ka(r){if(!r[pu]){r[pu]=!0,i.forEach(function(l){l!=="selectionchange"&&(wT.has(l)||Wh(l,!1,r),Wh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[pu]||(s[pu]=!0,Wh("selectionchange",!1,s))}}function dg(r,s,l,h){switch(Ea(s)){case 1:var d=Xe;break;case 4:d=Fh;break;default:d=wa}l=d.bind(null,s,l,r),d=void 0,!js||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,l,{capture:!0,passive:d}):r.addEventListener(s,l,!0):d!==void 0?r.addEventListener(s,l,{passive:d}):r.addEventListener(s,l,!1)}function Qh(r,s,l,h,d){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var N=h.stateNode.containerInfo;if(N===d||N.nodeType===8&&N.parentNode===d)break;if(T===4)for(T=h.return;T!==null;){var F=T.tag;if((F===3||F===4)&&(F=T.stateNode.containerInfo,F===d||F.nodeType===8&&F.parentNode===d))return;T=T.return}for(;N!==null;){if(T=es(N),T===null)return;if(F=T.tag,F===5||F===6){h=y=T;continue e}N=N.parentNode}}h=h.return}da(function(){var W=y,se=Os(l),ae=[];e:{var ie=ug.get(r);if(ie!==void 0){var pe=Ys,ve=r;switch(r){case"keypress":if(Qs(l)===0)break e;case"keydown":case"keyup":pe=g;break;case"focusin":ve="focus",pe=eo;break;case"focusout":ve="blur",pe=eo;break;case"beforeblur":case"afterblur":pe=eo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=X;break;case sg:case og:case ag:pe=Vr;break;case lg:pe=qe;break;case"scroll":pe=jh;break;case"wheel":pe=Ve;break;case"copy":case"cut":case"paste":pe=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=S}var we=(s&4)!==0,at=!we&&r==="scroll",$=we?ie!==null?ie+"Capture":null:ie;we=[];for(var j=W,H;j!==null;){H=j;var he=H.stateNode;if(H.tag===5&&he!==null&&(H=he,$!==null&&(he=ot(j,$),he!=null&&we.push(Da(j,he,H)))),at)break;j=j.return}0<we.length&&(ie=new pe(ie,ve,null,l,se),ae.push({event:ie,listeners:we}))}}if((s&7)===0){e:{if(ie=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",ie&&l!==Ui&&(ve=l.relatedTarget||l.fromElement)&&(es(ve)||ve[Or]))break e;if((pe||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,pe?(ve=l.relatedTarget||l.toElement,pe=W,ve=ve?es(ve):null,ve!==null&&(at=Fn(ve),ve!==at||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=W),pe!==ve)){if(we=Zs,he="onMouseLeave",$="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(we=S,he="onPointerLeave",$="onPointerEnter",j="pointer"),at=pe==null?ie:lo(pe),H=ve==null?ie:lo(ve),ie=new we(he,j+"leave",pe,l,se),ie.target=at,ie.relatedTarget=H,he=null,es(se)===W&&(we=new we($,j+"enter",ve,l,se),we.target=H,we.relatedTarget=at,he=we),at=he,pe&&ve)t:{for(we=pe,$=ve,j=0,H=we;H;H=oo(H))j++;for(H=0,he=$;he;he=oo(he))H++;for(;0<j-H;)we=oo(we),j--;for(;0<H-j;)$=oo($),H--;for(;j--;){if(we===$||$!==null&&we===$.alternate)break t;we=oo(we),$=oo($)}we=null}else we=null;pe!==null&&pg(ae,ie,pe,we,!1),ve!==null&&at!==null&&pg(ae,at,ve,we,!0)}}e:{if(ie=W?lo(W):window,pe=ie.nodeName&&ie.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ie.type==="file")var Ee=cT;else if(Km(ie))if(Qm)Ee=pT;else{Ee=fT;var Se=hT}else(pe=ie.nodeName)&&pe.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Ee=dT);if(Ee&&(Ee=Ee(r,W))){Wm(ae,Ee,l,se);break e}Se&&Se(r,ie,W),r==="focusout"&&(Se=ie._wrapperState)&&Se.controlled&&ie.type==="number"&&bs(ie,"number",ie.value)}switch(Se=W?lo(W):window,r){case"focusin":(Km(Se)||Se.contentEditable==="true")&&(io=Se,$h=W,Pa=null);break;case"focusout":Pa=$h=io=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,rg(ae,l,se);break;case"selectionchange":if(yT)break;case"keydown":case"keyup":rg(ae,l,se)}var xe;if(ft)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else ro?Hm(r,l)&&(Ae="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(Ji&&l.locale!=="ko"&&(ro||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&ro&&(xe=Ta()):(fn=se,Ws="value"in fn?fn.value:fn.textContent,ro=!0)),Se=mu(W,Ae),0<Se.length&&(Ae=new Ia(Ae,r,null,l,se),ae.push({event:Ae,listeners:Se}),xe?Ae.data=xe:(xe=Gm(l),xe!==null&&(Ae.data=xe)))),(xe=dn?oT(r,l):aT(r,l))&&(W=mu(W,"onBeforeInput"),0<W.length&&(se=new Ia("onBeforeInput","beforeinput",null,l,se),ae.push({event:se,listeners:W}),se.data=xe))}fg(ae,s)})}function Da(r,s,l){return{instance:r,listener:s,currentTarget:l}}function mu(r,s){for(var l=s+"Capture",h=[];r!==null;){var d=r,y=d.stateNode;d.tag===5&&y!==null&&(d=y,y=ot(r,l),y!=null&&h.unshift(Da(r,y,d)),y=ot(r,s),y!=null&&h.push(Da(r,y,d))),r=r.return}return h}function oo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function pg(r,s,l,h,d){for(var y=s._reactName,T=[];l!==null&&l!==h;){var N=l,F=N.alternate,W=N.stateNode;if(F!==null&&F===h)break;N.tag===5&&W!==null&&(N=W,d?(F=ot(l,y),F!=null&&T.unshift(Da(l,F,N))):d||(F=ot(l,y),F!=null&&T.push(Da(l,F,N)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var ET=/\r\n?/g,TT=/\u0000|\uFFFD/g;function mg(r){return(typeof r=="string"?r:""+r).replace(ET,`
`).replace(TT,"")}function gu(r,s,l){if(s=mg(s),mg(r)!==s&&l)throw Error(n(425))}function yu(){}var Yh=null,Xh=null;function Zh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Jh=typeof setTimeout=="function"?setTimeout:void 0,ST=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,xT=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(r){return gg.resolve(null).then(r).catch(IT)}:Jh;function IT(r){setTimeout(function(){throw r})}function ef(r,s){var l=s,h=0;do{var d=l.nextSibling;if(r.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(h===0){r.removeChild(d),$n(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=d}while(l);$n(s)}function ui(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function yg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var ao=Math.random().toString(36).slice(2),hr="__reactFiber$"+ao,ba="__reactProps$"+ao,Or="__reactContainer$"+ao,tf="__reactEvents$"+ao,AT="__reactListeners$"+ao,CT="__reactHandles$"+ao;function es(r){var s=r[hr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Or]||l[hr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=yg(r);r!==null;){if(l=r[hr])return l;r=yg(r)}return s}r=l,l=r.parentNode}return null}function Ma(r){return r=r[hr]||r[Or],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function lo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function vu(r){return r[ba]||null}var nf=[],uo=-1;function ci(r){return{current:r}}function Ye(r){0>uo||(r.current=nf[uo],nf[uo]=null,uo--)}function We(r,s){uo++,nf[uo]=r.current,r.current=s}var hi={},Ot=ci(hi),Zt=ci(!1),ts=hi;function co(r,s){var l=r.type.contextTypes;if(!l)return hi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},y;for(y in l)d[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function Jt(r){return r=r.childContextTypes,r!=null}function _u(){Ye(Zt),Ye(Ot)}function vg(r,s,l){if(Ot.current!==hi)throw Error(n(168));We(Ot,s),We(Zt,l)}function _g(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(n(108,Ne(r)||"Unknown",d));return ee({},l,h)}function wu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||hi,ts=Ot.current,We(Ot,r),We(Zt,Zt.current),!0}function wg(r,s,l){var h=r.stateNode;if(!h)throw Error(n(169));l?(r=_g(r,s,ts),h.__reactInternalMemoizedMergedChildContext=r,Ye(Zt),Ye(Ot),We(Ot,r)):Ye(Zt),We(Zt,l)}var Lr=null,Eu=!1,rf=!1;function Eg(r){Lr===null?Lr=[r]:Lr.push(r)}function RT(r){Eu=!0,Eg(r)}function fi(){if(!rf&&Lr!==null){rf=!0;var r=0,s=be;try{var l=Lr;for(be=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Lr=null,Eu=!1}catch(d){throw Lr!==null&&(Lr=Lr.slice(r+1)),$s(Gi,fi),d}finally{be=s,rf=!1}}return null}var ho=[],fo=0,Tu=null,Su=0,In=[],An=0,ns=null,Fr=1,jr="";function rs(r,s){ho[fo++]=Su,ho[fo++]=Tu,Tu=r,Su=s}function Tg(r,s,l){In[An++]=Fr,In[An++]=jr,In[An++]=ns,ns=r;var h=Fr;r=jr;var d=32-qt(h)-1;h&=~(1<<d),l+=1;var y=32-qt(s)+d;if(30<y){var T=d-d%5;y=(h&(1<<T)-1).toString(32),h>>=T,d-=T,Fr=1<<32-qt(s)+d|l<<d|h,jr=y+r}else Fr=1<<y|l<<d|h,jr=r}function sf(r){r.return!==null&&(rs(r,1),Tg(r,1,0))}function of(r){for(;r===Tu;)Tu=ho[--fo],ho[fo]=null,Su=ho[--fo],ho[fo]=null;for(;r===ns;)ns=In[--An],In[An]=null,jr=In[--An],In[An]=null,Fr=In[--An],In[An]=null}var pn=null,mn=null,Ze=!1,Gn=null;function Sg(r,s){var l=Nn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function xg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,pn=r,mn=ui(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,pn=r,mn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ns!==null?{id:Fr,overflow:jr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Nn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,pn=r,mn=null,!0):!1;default:return!1}}function af(r){return(r.mode&1)!==0&&(r.flags&128)===0}function lf(r){if(Ze){var s=mn;if(s){var l=s;if(!xg(r,s)){if(af(r))throw Error(n(418));s=ui(l.nextSibling);var h=pn;s&&xg(r,s)?Sg(h,l):(r.flags=r.flags&-4097|2,Ze=!1,pn=r)}}else{if(af(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ze=!1,pn=r}}}function Ig(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pn=r}function xu(r){if(r!==pn)return!1;if(!Ze)return Ig(r),Ze=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Zh(r.type,r.memoizedProps)),s&&(s=mn)){if(af(r))throw Ag(),Error(n(418));for(;s;)Sg(r,s),s=ui(s.nextSibling)}if(Ig(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){mn=ui(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}mn=null}}else mn=pn?ui(r.stateNode.nextSibling):null;return!0}function Ag(){for(var r=mn;r;)r=ui(r.nextSibling)}function po(){mn=pn=null,Ze=!1}function uf(r){Gn===null?Gn=[r]:Gn.push(r)}var PT=J.ReactCurrentBatchConfig;function Va(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,r));var d=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(T){var N=d.refs;T===null?delete N[y]:N[y]=T},s._stringRef=y,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function Iu(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Cg(r){var s=r._init;return s(r._payload)}function Rg(r){function s($,j){if(r){var H=$.deletions;H===null?($.deletions=[j],$.flags|=16):H.push(j)}}function l($,j){if(!r)return null;for(;j!==null;)s($,j),j=j.sibling;return null}function h($,j){for($=new Map;j!==null;)j.key!==null?$.set(j.key,j):$.set(j.index,j),j=j.sibling;return $}function d($,j){return $=wi($,j),$.index=0,$.sibling=null,$}function y($,j,H){return $.index=H,r?(H=$.alternate,H!==null?(H=H.index,H<j?($.flags|=2,j):H):($.flags|=2,j)):($.flags|=1048576,j)}function T($){return r&&$.alternate===null&&($.flags|=2),$}function N($,j,H,he){return j===null||j.tag!==6?(j=ed(H,$.mode,he),j.return=$,j):(j=d(j,H),j.return=$,j)}function F($,j,H,he){var Ee=H.type;return Ee===b?se($,j,H.props.children,he,H.key):j!==null&&(j.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===K&&Cg(Ee)===j.type)?(he=d(j,H.props),he.ref=Va($,j,H),he.return=$,he):(he=Qu(H.type,H.key,H.props,null,$.mode,he),he.ref=Va($,j,H),he.return=$,he)}function W($,j,H,he){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=td(H,$.mode,he),j.return=$,j):(j=d(j,H.children||[]),j.return=$,j)}function se($,j,H,he,Ee){return j===null||j.tag!==7?(j=hs(H,$.mode,he,Ee),j.return=$,j):(j=d(j,H),j.return=$,j)}function ae($,j,H){if(typeof j=="string"&&j!==""||typeof j=="number")return j=ed(""+j,$.mode,H),j.return=$,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ue:return H=Qu(j.type,j.key,j.props,null,$.mode,H),H.ref=Va($,null,j),H.return=$,H;case le:return j=td(j,$.mode,H),j.return=$,j;case K:var he=j._init;return ae($,he(j._payload),H)}if(Cr(j)||ne(j))return j=hs(j,$.mode,H,null),j.return=$,j;Iu($,j)}return null}function ie($,j,H,he){var Ee=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Ee!==null?null:N($,j,""+H,he);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ue:return H.key===Ee?F($,j,H,he):null;case le:return H.key===Ee?W($,j,H,he):null;case K:return Ee=H._init,ie($,j,Ee(H._payload),he)}if(Cr(H)||ne(H))return Ee!==null?null:se($,j,H,he,null);Iu($,H)}return null}function pe($,j,H,he,Ee){if(typeof he=="string"&&he!==""||typeof he=="number")return $=$.get(H)||null,N(j,$,""+he,Ee);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case ue:return $=$.get(he.key===null?H:he.key)||null,F(j,$,he,Ee);case le:return $=$.get(he.key===null?H:he.key)||null,W(j,$,he,Ee);case K:var Se=he._init;return pe($,j,H,Se(he._payload),Ee)}if(Cr(he)||ne(he))return $=$.get(H)||null,se(j,$,he,Ee,null);Iu(j,he)}return null}function ve($,j,H,he){for(var Ee=null,Se=null,xe=j,Ae=j=0,Rt=null;xe!==null&&Ae<H.length;Ae++){xe.index>Ae?(Rt=xe,xe=null):Rt=xe.sibling;var ze=ie($,xe,H[Ae],he);if(ze===null){xe===null&&(xe=Rt);break}r&&xe&&ze.alternate===null&&s($,xe),j=y(ze,j,Ae),Se===null?Ee=ze:Se.sibling=ze,Se=ze,xe=Rt}if(Ae===H.length)return l($,xe),Ze&&rs($,Ae),Ee;if(xe===null){for(;Ae<H.length;Ae++)xe=ae($,H[Ae],he),xe!==null&&(j=y(xe,j,Ae),Se===null?Ee=xe:Se.sibling=xe,Se=xe);return Ze&&rs($,Ae),Ee}for(xe=h($,xe);Ae<H.length;Ae++)Rt=pe(xe,$,Ae,H[Ae],he),Rt!==null&&(r&&Rt.alternate!==null&&xe.delete(Rt.key===null?Ae:Rt.key),j=y(Rt,j,Ae),Se===null?Ee=Rt:Se.sibling=Rt,Se=Rt);return r&&xe.forEach(function(Ei){return s($,Ei)}),Ze&&rs($,Ae),Ee}function we($,j,H,he){var Ee=ne(H);if(typeof Ee!="function")throw Error(n(150));if(H=Ee.call(H),H==null)throw Error(n(151));for(var Se=Ee=null,xe=j,Ae=j=0,Rt=null,ze=H.next();xe!==null&&!ze.done;Ae++,ze=H.next()){xe.index>Ae?(Rt=xe,xe=null):Rt=xe.sibling;var Ei=ie($,xe,ze.value,he);if(Ei===null){xe===null&&(xe=Rt);break}r&&xe&&Ei.alternate===null&&s($,xe),j=y(Ei,j,Ae),Se===null?Ee=Ei:Se.sibling=Ei,Se=Ei,xe=Rt}if(ze.done)return l($,xe),Ze&&rs($,Ae),Ee;if(xe===null){for(;!ze.done;Ae++,ze=H.next())ze=ae($,ze.value,he),ze!==null&&(j=y(ze,j,Ae),Se===null?Ee=ze:Se.sibling=ze,Se=ze);return Ze&&rs($,Ae),Ee}for(xe=h($,xe);!ze.done;Ae++,ze=H.next())ze=pe(xe,$,Ae,ze.value,he),ze!==null&&(r&&ze.alternate!==null&&xe.delete(ze.key===null?Ae:ze.key),j=y(ze,j,Ae),Se===null?Ee=ze:Se.sibling=ze,Se=ze);return r&&xe.forEach(function(lS){return s($,lS)}),Ze&&rs($,Ae),Ee}function at($,j,H,he){if(typeof H=="object"&&H!==null&&H.type===b&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case ue:e:{for(var Ee=H.key,Se=j;Se!==null;){if(Se.key===Ee){if(Ee=H.type,Ee===b){if(Se.tag===7){l($,Se.sibling),j=d(Se,H.props.children),j.return=$,$=j;break e}}else if(Se.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===K&&Cg(Ee)===Se.type){l($,Se.sibling),j=d(Se,H.props),j.ref=Va($,Se,H),j.return=$,$=j;break e}l($,Se);break}else s($,Se);Se=Se.sibling}H.type===b?(j=hs(H.props.children,$.mode,he,H.key),j.return=$,$=j):(he=Qu(H.type,H.key,H.props,null,$.mode,he),he.ref=Va($,j,H),he.return=$,$=he)}return T($);case le:e:{for(Se=H.key;j!==null;){if(j.key===Se)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){l($,j.sibling),j=d(j,H.children||[]),j.return=$,$=j;break e}else{l($,j);break}else s($,j);j=j.sibling}j=td(H,$.mode,he),j.return=$,$=j}return T($);case K:return Se=H._init,at($,j,Se(H._payload),he)}if(Cr(H))return ve($,j,H,he);if(ne(H))return we($,j,H,he);Iu($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,j!==null&&j.tag===6?(l($,j.sibling),j=d(j,H),j.return=$,$=j):(l($,j),j=ed(H,$.mode,he),j.return=$,$=j),T($)):l($,j)}return at}var mo=Rg(!0),Pg=Rg(!1),Au=ci(null),Cu=null,go=null,cf=null;function hf(){cf=go=Cu=null}function ff(r){var s=Au.current;Ye(Au),r._currentValue=s}function df(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function yo(r,s){Cu=r,cf=go=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(en=!0),r.firstContext=null)}function Cn(r){var s=r._currentValue;if(cf!==r)if(r={context:r,memoizedValue:s,next:null},go===null){if(Cu===null)throw Error(n(308));go=r,Cu.dependencies={lanes:0,firstContext:r}}else go=go.next=r;return s}var is=null;function pf(r){is===null?is=[r]:is.push(r)}function Ng(r,s,l,h){var d=s.interleaved;return d===null?(l.next=l,pf(s)):(l.next=d.next,d.next=l),s.interleaved=l,Br(r,h)}function Br(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var di=!1;function mf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ur(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function pi(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(je&2)!==0){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,Br(r,l)}return d=h.interleaved,d===null?(s.next=s,pf(h)):(s.next=d.next,d.next=s),h.interleaved=s,Br(r,l)}function Ru(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,ri(r,l)}}function Dg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var d=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?d=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?d=y=s:y=y.next=s}else d=y=s;l={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Pu(r,s,l,h){var d=r.updateQueue;di=!1;var y=d.firstBaseUpdate,T=d.lastBaseUpdate,N=d.shared.pending;if(N!==null){d.shared.pending=null;var F=N,W=F.next;F.next=null,T===null?y=W:T.next=W,T=F;var se=r.alternate;se!==null&&(se=se.updateQueue,N=se.lastBaseUpdate,N!==T&&(N===null?se.firstBaseUpdate=W:N.next=W,se.lastBaseUpdate=F))}if(y!==null){var ae=d.baseState;T=0,se=W=F=null,N=y;do{var ie=N.lane,pe=N.eventTime;if((h&ie)===ie){se!==null&&(se=se.next={eventTime:pe,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ve=r,we=N;switch(ie=s,pe=l,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){ae=ve.call(pe,ae,ie);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,ie=typeof ve=="function"?ve.call(pe,ae,ie):ve,ie==null)break e;ae=ee({},ae,ie);break e;case 2:di=!0}}N.callback!==null&&N.lane!==0&&(r.flags|=64,ie=d.effects,ie===null?d.effects=[N]:ie.push(N))}else pe={eventTime:pe,lane:ie,tag:N.tag,payload:N.payload,callback:N.callback,next:null},se===null?(W=se=pe,F=ae):se=se.next=pe,T|=ie;if(N=N.next,N===null){if(N=d.shared.pending,N===null)break;ie=N,N=ie.next,ie.next=null,d.lastBaseUpdate=ie,d.shared.pending=null}}while(!0);if(se===null&&(F=ae),d.baseState=F,d.firstBaseUpdate=W,d.lastBaseUpdate=se,s=d.shared.interleaved,s!==null){d=s;do T|=d.lane,d=d.next;while(d!==s)}else y===null&&(d.shared.lanes=0);as|=T,r.lanes=T,r.memoizedState=ae}}function bg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=l,typeof d!="function")throw Error(n(191,d));d.call(h)}}}var Oa={},fr=ci(Oa),La=ci(Oa),Fa=ci(Oa);function ss(r){if(r===Oa)throw Error(n(174));return r}function gf(r,s){switch(We(Fa,s),We(La,r),We(fr,Oa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:vt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=vt(s,r)}Ye(fr),We(fr,s)}function vo(){Ye(fr),Ye(La),Ye(Fa)}function Mg(r){ss(Fa.current);var s=ss(fr.current),l=vt(s,r.type);s!==l&&(We(La,r),We(fr,l))}function yf(r){La.current===r&&(Ye(fr),Ye(La))}var nt=ci(0);function Nu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var vf=[];function _f(){for(var r=0;r<vf.length;r++)vf[r]._workInProgressVersionPrimary=null;vf.length=0}var ku=J.ReactCurrentDispatcher,wf=J.ReactCurrentBatchConfig,os=0,rt=null,wt=null,At=null,Du=!1,ja=!1,Ba=0,NT=0;function Lt(){throw Error(n(321))}function Ef(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Hn(r[l],s[l]))return!1;return!0}function Tf(r,s,l,h,d,y){if(os=y,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ku.current=r===null||r.memoizedState===null?MT:VT,r=l(h,d),ja){y=0;do{if(ja=!1,Ba=0,25<=y)throw Error(n(301));y+=1,At=wt=null,s.updateQueue=null,ku.current=OT,r=l(h,d)}while(ja)}if(ku.current=Vu,s=wt!==null&&wt.next!==null,os=0,At=wt=rt=null,Du=!1,s)throw Error(n(300));return r}function Sf(){var r=Ba!==0;return Ba=0,r}function dr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?rt.memoizedState=At=r:At=At.next=r,At}function Rn(){if(wt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=At===null?rt.memoizedState:At.next;if(s!==null)At=s,wt=r;else{if(r===null)throw Error(n(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},At===null?rt.memoizedState=At=r:At=At.next=r}return At}function Ua(r,s){return typeof s=="function"?s(r):s}function xf(r){var s=Rn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=wt,d=h.baseQueue,y=l.pending;if(y!==null){if(d!==null){var T=d.next;d.next=y.next,y.next=T}h.baseQueue=d=y,l.pending=null}if(d!==null){y=d.next,h=h.baseState;var N=T=null,F=null,W=y;do{var se=W.lane;if((os&se)===se)F!==null&&(F=F.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:r(h,W.action);else{var ae={lane:se,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};F===null?(N=F=ae,T=h):F=F.next=ae,rt.lanes|=se,as|=se}W=W.next}while(W!==null&&W!==y);F===null?T=h:F.next=N,Hn(h,s.memoizedState)||(en=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=F,l.lastRenderedState=h}if(r=l.interleaved,r!==null){d=r;do y=d.lane,rt.lanes|=y,as|=y,d=d.next;while(d!==r)}else d===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function If(r){var s=Rn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=l.dispatch,d=l.pending,y=s.memoizedState;if(d!==null){l.pending=null;var T=d=d.next;do y=r(y,T.action),T=T.next;while(T!==d);Hn(y,s.memoizedState)||(en=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Vg(){}function Og(r,s){var l=rt,h=Rn(),d=s(),y=!Hn(h.memoizedState,d);if(y&&(h.memoizedState=d,en=!0),h=h.queue,Af(jg.bind(null,l,h,r),[r]),h.getSnapshot!==s||y||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,za(9,Fg.bind(null,l,h,d,s),void 0,null),Ct===null)throw Error(n(349));(os&30)!==0||Lg(l,s,d)}return d}function Lg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Fg(r,s,l,h){s.value=l,s.getSnapshot=h,Bg(s)&&Ug(r)}function jg(r,s,l){return l(function(){Bg(s)&&Ug(r)})}function Bg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Hn(r,l)}catch{return!0}}function Ug(r){var s=Br(r,1);s!==null&&Yn(s,r,1,-1)}function zg(r){var s=dr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:r},s.queue=r,r=r.dispatch=bT.bind(null,rt,r),[s.memoizedState,r]}function za(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function $g(){return Rn().memoizedState}function bu(r,s,l,h){var d=dr();rt.flags|=r,d.memoizedState=za(1|s,l,void 0,h===void 0?null:h)}function Mu(r,s,l,h){var d=Rn();h=h===void 0?null:h;var y=void 0;if(wt!==null){var T=wt.memoizedState;if(y=T.destroy,h!==null&&Ef(h,T.deps)){d.memoizedState=za(s,l,y,h);return}}rt.flags|=r,d.memoizedState=za(1|s,l,y,h)}function qg(r,s){return bu(8390656,8,r,s)}function Af(r,s){return Mu(2048,8,r,s)}function Hg(r,s){return Mu(4,2,r,s)}function Gg(r,s){return Mu(4,4,r,s)}function Kg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Wg(r,s,l){return l=l!=null?l.concat([r]):null,Mu(4,4,Kg.bind(null,s,r),l)}function Cf(){}function Qg(r,s){var l=Rn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Ef(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function Yg(r,s){var l=Rn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Ef(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function Xg(r,s,l){return(os&21)===0?(r.baseState&&(r.baseState=!1,en=!0),r.memoizedState=l):(Hn(l,s)||(l=Qi(),rt.lanes|=l,as|=l,r.baseState=!0),s)}function kT(r,s){var l=be;be=l!==0&&4>l?l:4,r(!0);var h=wf.transition;wf.transition={};try{r(!1),s()}finally{be=l,wf.transition=h}}function Zg(){return Rn().memoizedState}function DT(r,s,l){var h=vi(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Jg(r))ey(s,l);else if(l=Ng(r,s,l,h),l!==null){var d=Kt();Yn(l,r,h,d),ty(l,s,h)}}function bT(r,s,l){var h=vi(r),d={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Jg(r))ey(s,d);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,N=y(T,l);if(d.hasEagerState=!0,d.eagerState=N,Hn(N,T)){var F=s.interleaved;F===null?(d.next=d,pf(s)):(d.next=F.next,F.next=d),s.interleaved=d;return}}catch{}finally{}l=Ng(r,s,d,h),l!==null&&(d=Kt(),Yn(l,r,h,d),ty(l,s,h))}}function Jg(r){var s=r.alternate;return r===rt||s!==null&&s===rt}function ey(r,s){ja=Du=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function ty(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,ri(r,l)}}var Vu={readContext:Cn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},MT={readContext:Cn,useCallback:function(r,s){return dr().memoizedState=[r,s===void 0?null:s],r},useContext:Cn,useEffect:qg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,bu(4194308,4,Kg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return bu(4194308,4,r,s)},useInsertionEffect:function(r,s){return bu(4,2,r,s)},useMemo:function(r,s){var l=dr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=dr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=DT.bind(null,rt,r),[h.memoizedState,r]},useRef:function(r){var s=dr();return r={current:r},s.memoizedState=r},useState:zg,useDebugValue:Cf,useDeferredValue:function(r){return dr().memoizedState=r},useTransition:function(){var r=zg(!1),s=r[0];return r=kT.bind(null,r[1]),dr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=rt,d=dr();if(Ze){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Ct===null)throw Error(n(349));(os&30)!==0||Lg(h,s,l)}d.memoizedState=l;var y={value:l,getSnapshot:s};return d.queue=y,qg(jg.bind(null,h,y,r),[r]),h.flags|=2048,za(9,Fg.bind(null,h,y,l,s),void 0,null),l},useId:function(){var r=dr(),s=Ct.identifierPrefix;if(Ze){var l=jr,h=Fr;l=(h&~(1<<32-qt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ba++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=NT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},VT={readContext:Cn,useCallback:Qg,useContext:Cn,useEffect:Af,useImperativeHandle:Wg,useInsertionEffect:Hg,useLayoutEffect:Gg,useMemo:Yg,useReducer:xf,useRef:$g,useState:function(){return xf(Ua)},useDebugValue:Cf,useDeferredValue:function(r){var s=Rn();return Xg(s,wt.memoizedState,r)},useTransition:function(){var r=xf(Ua)[0],s=Rn().memoizedState;return[r,s]},useMutableSource:Vg,useSyncExternalStore:Og,useId:Zg,unstable_isNewReconciler:!1},OT={readContext:Cn,useCallback:Qg,useContext:Cn,useEffect:Af,useImperativeHandle:Wg,useInsertionEffect:Hg,useLayoutEffect:Gg,useMemo:Yg,useReducer:If,useRef:$g,useState:function(){return If(Ua)},useDebugValue:Cf,useDeferredValue:function(r){var s=Rn();return wt===null?s.memoizedState=r:Xg(s,wt.memoizedState,r)},useTransition:function(){var r=If(Ua)[0],s=Rn().memoizedState;return[r,s]},useMutableSource:Vg,useSyncExternalStore:Og,useId:Zg,unstable_isNewReconciler:!1};function Kn(r,s){if(r&&r.defaultProps){s=ee({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Rf(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:ee({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Ou={isMounted:function(r){return(r=r._reactInternals)?Fn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=Kt(),d=vi(r),y=Ur(h,d);y.payload=s,l!=null&&(y.callback=l),s=pi(r,y,d),s!==null&&(Yn(s,r,d,h),Ru(s,r,d))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=Kt(),d=vi(r),y=Ur(h,d);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=pi(r,y,d),s!==null&&(Yn(s,r,d,h),Ru(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Kt(),h=vi(r),d=Ur(l,h);d.tag=2,s!=null&&(d.callback=s),s=pi(r,d,h),s!==null&&(Yn(s,r,h,l),Ru(s,r,h))}};function ny(r,s,l,h,d,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,T):s.prototype&&s.prototype.isPureReactComponent?!Ra(l,h)||!Ra(d,y):!0}function ry(r,s,l){var h=!1,d=hi,y=s.contextType;return typeof y=="object"&&y!==null?y=Cn(y):(d=Jt(s)?ts:Ot.current,h=s.contextTypes,y=(h=h!=null)?co(r,d):hi),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ou,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=y),s}function iy(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Ou.enqueueReplaceState(s,s.state,null)}function Pf(r,s,l,h){var d=r.stateNode;d.props=l,d.state=r.memoizedState,d.refs={},mf(r);var y=s.contextType;typeof y=="object"&&y!==null?d.context=Cn(y):(y=Jt(s)?ts:Ot.current,d.context=co(r,y)),d.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Rf(r,s,y,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Ou.enqueueReplaceState(d,d.state,null),Pu(r,l,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function _o(r,s){try{var l="",h=s;do l+=Te(h),h=h.return;while(h);var d=l}catch(y){d=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:d,digest:null}}function Nf(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function kf(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var LT=typeof WeakMap=="function"?WeakMap:Map;function sy(r,s,l){l=Ur(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){$u||($u=!0,Gf=h),kf(r,s)},l}function oy(r,s,l){l=Ur(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;l.payload=function(){return h(d)},l.callback=function(){kf(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){kf(r,s),typeof h!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function ay(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new LT;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(l)||(d.add(l),r=XT.bind(null,r,s,l),s.then(r,r))}function ly(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function uy(r,s,l,h,d){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Ur(-1,1),s.tag=2,pi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var FT=J.ReactCurrentOwner,en=!1;function Gt(r,s,l,h){s.child=r===null?Pg(s,null,l,h):mo(s,r.child,l,h)}function cy(r,s,l,h,d){l=l.render;var y=s.ref;return yo(s,d),h=Tf(r,s,l,h,y,d),l=Sf(),r!==null&&!en?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,zr(r,s,d)):(Ze&&l&&sf(s),s.flags|=1,Gt(r,s,h,d),s.child)}function hy(r,s,l,h,d){if(r===null){var y=l.type;return typeof y=="function"&&!Jf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,fy(r,s,y,h,d)):(r=Qu(l.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&d)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ra,l(T,h)&&r.ref===s.ref)return zr(r,s,d)}return s.flags|=1,r=wi(y,h),r.ref=s.ref,r.return=s,s.child=r}function fy(r,s,l,h,d){if(r!==null){var y=r.memoizedProps;if(Ra(y,h)&&r.ref===s.ref)if(en=!1,s.pendingProps=h=y,(r.lanes&d)!==0)(r.flags&131072)!==0&&(en=!0);else return s.lanes=r.lanes,zr(r,s,d)}return Df(r,s,l,h,d)}function dy(r,s,l){var h=s.pendingProps,d=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Eo,gn),gn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,We(Eo,gn),gn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,We(Eo,gn),gn|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,We(Eo,gn),gn|=h;return Gt(r,s,d,l),s.child}function py(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Df(r,s,l,h,d){var y=Jt(l)?ts:Ot.current;return y=co(s,y),yo(s,d),l=Tf(r,s,l,h,y,d),h=Sf(),r!==null&&!en?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,zr(r,s,d)):(Ze&&h&&sf(s),s.flags|=1,Gt(r,s,l,d),s.child)}function my(r,s,l,h,d){if(Jt(l)){var y=!0;wu(s)}else y=!1;if(yo(s,d),s.stateNode===null)Fu(r,s),ry(s,l,h),Pf(s,l,h,d),h=!0;else if(r===null){var T=s.stateNode,N=s.memoizedProps;T.props=N;var F=T.context,W=l.contextType;typeof W=="object"&&W!==null?W=Cn(W):(W=Jt(l)?ts:Ot.current,W=co(s,W));var se=l.getDerivedStateFromProps,ae=typeof se=="function"||typeof T.getSnapshotBeforeUpdate=="function";ae||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==h||F!==W)&&iy(s,T,h,W),di=!1;var ie=s.memoizedState;T.state=ie,Pu(s,h,T,d),F=s.memoizedState,N!==h||ie!==F||Zt.current||di?(typeof se=="function"&&(Rf(s,l,se,h),F=s.memoizedState),(N=di||ny(s,l,N,h,ie,F,W))?(ae||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=F),T.props=h,T.state=F,T.context=W,h=N):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,kg(r,s),N=s.memoizedProps,W=s.type===s.elementType?N:Kn(s.type,N),T.props=W,ae=s.pendingProps,ie=T.context,F=l.contextType,typeof F=="object"&&F!==null?F=Cn(F):(F=Jt(l)?ts:Ot.current,F=co(s,F));var pe=l.getDerivedStateFromProps;(se=typeof pe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==ae||ie!==F)&&iy(s,T,h,F),di=!1,ie=s.memoizedState,T.state=ie,Pu(s,h,T,d);var ve=s.memoizedState;N!==ae||ie!==ve||Zt.current||di?(typeof pe=="function"&&(Rf(s,l,pe,h),ve=s.memoizedState),(W=di||ny(s,l,W,h,ie,ve,F)||!1)?(se||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,ve,F),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,ve,F)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||N===r.memoizedProps&&ie===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&ie===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ve),T.props=h,T.state=ve,T.context=F,h=W):(typeof T.componentDidUpdate!="function"||N===r.memoizedProps&&ie===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&ie===r.memoizedState||(s.flags|=1024),h=!1)}return bf(r,s,l,h,y,d)}function bf(r,s,l,h,d,y){py(r,s);var T=(s.flags&128)!==0;if(!h&&!T)return d&&wg(s,l,!1),zr(r,s,y);h=s.stateNode,FT.current=s;var N=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&T?(s.child=mo(s,r.child,null,y),s.child=mo(s,null,N,y)):Gt(r,s,N,y),s.memoizedState=h.state,d&&wg(s,l,!0),s.child}function gy(r){var s=r.stateNode;s.pendingContext?vg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&vg(r,s.context,!1),gf(r,s.containerInfo)}function yy(r,s,l,h,d){return po(),uf(d),s.flags|=256,Gt(r,s,l,h),s.child}var Mf={dehydrated:null,treeContext:null,retryLane:0};function Vf(r){return{baseLanes:r,cachePool:null,transitions:null}}function vy(r,s,l){var h=s.pendingProps,d=nt.current,y=!1,T=(s.flags&128)!==0,N;if((N=T)||(N=r!==null&&r.memoizedState===null?!1:(d&2)!==0),N?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),We(nt,d&1),r===null)return lf(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,r=h.fallback,y?(h=s.mode,y=s.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Yu(T,h,0,null),r=hs(r,h,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Vf(l),s.memoizedState=Mf,r):Of(s,T));if(d=r.memoizedState,d!==null&&(N=d.dehydrated,N!==null))return jT(r,s,T,h,N,d,l);if(y){y=h.fallback,T=s.mode,d=r.child,N=d.sibling;var F={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=F,s.deletions=null):(h=wi(d,F),h.subtreeFlags=d.subtreeFlags&14680064),N!==null?y=wi(N,y):(y=hs(y,T,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,T=r.child.memoizedState,T=T===null?Vf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=r.childLanes&~l,s.memoizedState=Mf,h}return y=r.child,r=y.sibling,h=wi(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function Of(r,s){return s=Yu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Lu(r,s,l,h){return h!==null&&uf(h),mo(s,r.child,null,l),r=Of(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function jT(r,s,l,h,d,y,T){if(l)return s.flags&256?(s.flags&=-257,h=Nf(Error(n(422))),Lu(r,s,T,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,d=s.mode,h=Yu({mode:"visible",children:h.children},d,0,null),y=hs(y,d,T,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&mo(s,r.child,null,T),s.child.memoizedState=Vf(T),s.memoizedState=Mf,y);if((s.mode&1)===0)return Lu(r,s,T,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var N=h.dgst;return h=N,y=Error(n(419)),h=Nf(y,h,void 0),Lu(r,s,T,h)}if(N=(T&r.childLanes)!==0,en||N){if(h=Ct,h!==null){switch(T&-T){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(h.suspendedLanes|T))!==0?0:d,d!==0&&d!==y.retryLane&&(y.retryLane=d,Br(r,d),Yn(h,r,d,-1))}return Zf(),h=Nf(Error(n(421))),Lu(r,s,T,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=ZT.bind(null,r),d._reactRetry=s,null):(r=y.treeContext,mn=ui(d.nextSibling),pn=s,Ze=!0,Gn=null,r!==null&&(In[An++]=Fr,In[An++]=jr,In[An++]=ns,Fr=r.id,jr=r.overflow,ns=s),s=Of(s,h.children),s.flags|=4096,s)}function _y(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),df(r.return,s,l)}function Lf(r,s,l,h,d){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:d}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=d)}function wy(r,s,l){var h=s.pendingProps,d=h.revealOrder,y=h.tail;if(Gt(r,s,h.children,l),h=nt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_y(r,l,s);else if(r.tag===19)_y(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(We(nt,h),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(l=s.child,d=null;l!==null;)r=l.alternate,r!==null&&Nu(r)===null&&(d=l),l=l.sibling;l=d,l===null?(d=s.child,s.child=null):(d=l.sibling,l.sibling=null),Lf(s,!1,d,l,y);break;case"backwards":for(l=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Nu(r)===null){s.child=d;break}r=d.sibling,d.sibling=l,l=d,d=r}Lf(s,!0,l,null,y);break;case"together":Lf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Fu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function zr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),as|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=wi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=wi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function BT(r,s,l){switch(s.tag){case 3:gy(s),po();break;case 5:Mg(s);break;case 1:Jt(s.type)&&wu(s);break;case 4:gf(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;We(Au,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(We(nt,nt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?vy(r,s,l):(We(nt,nt.current&1),r=zr(r,s,l),r!==null?r.sibling:null);We(nt,nt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return wy(r,s,l);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),We(nt,nt.current),h)break;return null;case 22:case 23:return s.lanes=0,dy(r,s,l)}return zr(r,s,l)}var Ey,Ff,Ty,Sy;Ey=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Ff=function(){},Ty=function(r,s,l,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,ss(fr.current);var y=null;switch(l){case"input":d=Fi(r,d),h=Fi(r,h),y=[];break;case"select":d=ee({},d,{value:void 0}),h=ee({},h,{value:void 0}),y=[];break;case"textarea":d=ra(r,d),h=ra(r,h),y=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=yu)}ua(l,h);var T;l=null;for(W in d)if(!h.hasOwnProperty(W)&&d.hasOwnProperty(W)&&d[W]!=null)if(W==="style"){var N=d[W];for(T in N)N.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?y||(y=[]):(y=y||[]).push(W,null));for(W in h){var F=h[W];if(N=d?.[W],h.hasOwnProperty(W)&&F!==N&&(F!=null||N!=null))if(W==="style")if(N){for(T in N)!N.hasOwnProperty(T)||F&&F.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in F)F.hasOwnProperty(T)&&N[T]!==F[T]&&(l||(l={}),l[T]=F[T])}else l||(y||(y=[]),y.push(W,l)),l=F;else W==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,N=N?N.__html:void 0,F!=null&&N!==F&&(y=y||[]).push(W,F)):W==="children"?typeof F!="string"&&typeof F!="number"||(y=y||[]).push(W,""+F):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(F!=null&&W==="onScroll"&&Qe("scroll",r),y||N===F||(y=[])):(y=y||[]).push(W,F))}l&&(y=y||[]).push("style",l);var W=y;(s.updateQueue=W)&&(s.flags|=4)}},Sy=function(r,s,l,h){l!==h&&(s.flags|=4)};function $a(r,s){if(!Ze)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ft(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var d=r.child;d!==null;)l|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)l|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function UT(r,s,l){var h=s.pendingProps;switch(of(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return Jt(s.type)&&_u(),Ft(s),null;case 3:return h=s.stateNode,vo(),Ye(Zt),Ye(Ot),_f(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(xu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Gn!==null&&(Qf(Gn),Gn=null))),Ff(r,s),Ft(s),null;case 5:yf(s);var d=ss(Fa.current);if(l=s.type,r!==null&&s.stateNode!=null)Ty(r,s,l,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return Ft(s),null}if(r=ss(fr.current),xu(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[hr]=s,h[ba]=y,r=(s.mode&1)!==0,l){case"dialog":Qe("cancel",h),Qe("close",h);break;case"iframe":case"object":case"embed":Qe("load",h);break;case"video":case"audio":for(d=0;d<Na.length;d++)Qe(Na[d],h);break;case"source":Qe("error",h);break;case"img":case"image":case"link":Qe("error",h),Qe("load",h);break;case"details":Qe("toggle",h);break;case"input":Ds(h,y),Qe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Qe("invalid",h);break;case"textarea":Ms(h,y),Qe("invalid",h)}ua(l,y),d=null;for(var T in y)if(y.hasOwnProperty(T)){var N=y[T];T==="children"?typeof N=="string"?h.textContent!==N&&(y.suppressHydrationWarning!==!0&&gu(h.textContent,N,r),d=["children",N]):typeof N=="number"&&h.textContent!==""+N&&(y.suppressHydrationWarning!==!0&&gu(h.textContent,N,r),d=["children",""+N]):o.hasOwnProperty(T)&&N!=null&&T==="onScroll"&&Qe("scroll",h)}switch(l){case"input":Ar(h),zl(h,y,!0);break;case"textarea":Ar(h),ia(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=yu)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=yt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=T.createElement(l,{is:h.is}):(r=T.createElement(l),l==="select"&&(T=r,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):r=T.createElementNS(r,l),r[hr]=s,r[ba]=h,Ey(r,s,!1,!1),s.stateNode=r;e:{switch(T=ca(l,h),l){case"dialog":Qe("cancel",r),Qe("close",r),d=h;break;case"iframe":case"object":case"embed":Qe("load",r),d=h;break;case"video":case"audio":for(d=0;d<Na.length;d++)Qe(Na[d],r);d=h;break;case"source":Qe("error",r),d=h;break;case"img":case"image":case"link":Qe("error",r),Qe("load",r),d=h;break;case"details":Qe("toggle",r),d=h;break;case"input":Ds(r,h),d=Fi(r,h),Qe("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=ee({},h,{value:void 0}),Qe("invalid",r);break;case"textarea":Ms(r,h),d=ra(r,h),Qe("invalid",r);break;default:d=h}ua(l,d),N=d;for(y in N)if(N.hasOwnProperty(y)){var F=N[y];y==="style"?aa(r,F):y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&sa(r,F)):y==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&Zr(r,F):typeof F=="number"&&Zr(r,""+F):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?F!=null&&y==="onScroll"&&Qe("scroll",r):F!=null&&Z(r,y,F,T))}switch(l){case"input":Ar(r),zl(r,h,!1);break;case"textarea":Ar(r),ia(r);break;case"option":h.value!=null&&r.setAttribute("value",""+ke(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?Rr(r,!!h.multiple,y,!1):h.defaultValue!=null&&Rr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=yu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ft(s),null;case 6:if(r&&s.stateNode!=null)Sy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(l=ss(Fa.current),ss(fr.current),xu(s)){if(h=s.stateNode,l=s.memoizedProps,h[hr]=s,(y=h.nodeValue!==l)&&(r=pn,r!==null))switch(r.tag){case 3:gu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&gu(h.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[hr]=s,s.stateNode=h}return Ft(s),null;case 13:if(Ye(nt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ze&&mn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Ag(),po(),s.flags|=98560,y=!1;else if(y=xu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[hr]=s}else po(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ft(s),y=!1}else Gn!==null&&(Qf(Gn),Gn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(nt.current&1)!==0?Et===0&&(Et=3):Zf())),s.updateQueue!==null&&(s.flags|=4),Ft(s),null);case 4:return vo(),Ff(r,s),r===null&&ka(s.stateNode.containerInfo),Ft(s),null;case 10:return ff(s.type._context),Ft(s),null;case 17:return Jt(s.type)&&_u(),Ft(s),null;case 19:if(Ye(nt),y=s.memoizedState,y===null)return Ft(s),null;if(h=(s.flags&128)!==0,T=y.rendering,T===null)if(h)$a(y,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(T=Nu(r),T!==null){for(s.flags|=128,$a(y,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,r=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,r=T.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return We(nt,nt.current&1|2),s.child}r=r.sibling}y.tail!==null&&Ke()>To&&(s.flags|=128,h=!0,$a(y,!1),s.lanes=4194304)}else{if(!h)if(r=Nu(T),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),$a(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Ze)return Ft(s),null}else 2*Ke()-y.renderingStartTime>To&&l!==1073741824&&(s.flags|=128,h=!0,$a(y,!1),s.lanes=4194304);y.isBackwards?(T.sibling=s.child,s.child=T):(l=y.last,l!==null?l.sibling=T:s.child=T,y.last=T)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Ke(),s.sibling=null,l=nt.current,We(nt,h?l&1|2:l&1),s):(Ft(s),null);case 22:case 23:return Xf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(gn&1073741824)!==0&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function zT(r,s){switch(of(s),s.tag){case 1:return Jt(s.type)&&_u(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return vo(),Ye(Zt),Ye(Ot),_f(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return yf(s),null;case 13:if(Ye(nt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));po()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ye(nt),null;case 4:return vo(),null;case 10:return ff(s.type._context),null;case 22:case 23:return Xf(),null;case 24:return null;default:return null}}var ju=!1,jt=!1,$T=typeof WeakSet=="function"?WeakSet:Set,ge=null;function wo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){st(r,s,h)}else l.current=null}function jf(r,s,l){try{l()}catch(h){st(r,s,h)}}var xy=!1;function qT(r,s){if(Yh=oi,r=ng(),zh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var d=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,N=-1,F=-1,W=0,se=0,ae=r,ie=null;t:for(;;){for(var pe;ae!==l||d!==0&&ae.nodeType!==3||(N=T+d),ae!==y||h!==0&&ae.nodeType!==3||(F=T+h),ae.nodeType===3&&(T+=ae.nodeValue.length),(pe=ae.firstChild)!==null;)ie=ae,ae=pe;for(;;){if(ae===r)break t;if(ie===l&&++W===d&&(N=T),ie===y&&++se===h&&(F=T),(pe=ae.nextSibling)!==null)break;ae=ie,ie=ae.parentNode}ae=pe}l=N===-1||F===-1?null:{start:N,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Xh={focusedElem:r,selectionRange:l},oi=!1,ge=s;ge!==null;)if(s=ge,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ge=r;else for(;ge!==null;){s=ge;try{var ve=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,at=ve.memoizedState,$=s.stateNode,j=$.getSnapshotBeforeUpdate(s.elementType===s.type?we:Kn(s.type,we),at);$.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){st(s,s.return,he)}if(r=s.sibling,r!==null){r.return=s.return,ge=r;break}ge=s.return}return ve=xy,xy=!1,ve}function qa(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var y=d.destroy;d.destroy=void 0,y!==void 0&&jf(s,l,y)}d=d.next}while(d!==h)}}function Bu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Bf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Iy(r){var s=r.alternate;s!==null&&(r.alternate=null,Iy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[hr],delete s[ba],delete s[tf],delete s[AT],delete s[CT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ay(r){return r.tag===5||r.tag===3||r.tag===4}function Cy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ay(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Uf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=yu));else if(h!==4&&(r=r.child,r!==null))for(Uf(r,s,l),r=r.sibling;r!==null;)Uf(r,s,l),r=r.sibling}function zf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(zf(r,s,l),r=r.sibling;r!==null;)zf(r,s,l),r=r.sibling}var Dt=null,Wn=!1;function mi(r,s,l){for(l=l.child;l!==null;)Ry(r,s,l),l=l.sibling}function Ry(r,s,l){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Ki,l)}catch{}switch(l.tag){case 5:jt||wo(l,s);case 6:var h=Dt,d=Wn;Dt=null,mi(r,s,l),Dt=h,Wn=d,Dt!==null&&(Wn?(r=Dt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Dt.removeChild(l.stateNode));break;case 18:Dt!==null&&(Wn?(r=Dt,l=l.stateNode,r.nodeType===8?ef(r.parentNode,l):r.nodeType===1&&ef(r,l),$n(r)):ef(Dt,l.stateNode));break;case 4:h=Dt,d=Wn,Dt=l.stateNode.containerInfo,Wn=!0,mi(r,s,l),Dt=h,Wn=d;break;case 0:case 11:case 14:case 15:if(!jt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var y=d,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&jf(l,s,T),d=d.next}while(d!==h)}mi(r,s,l);break;case 1:if(!jt&&(wo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(N){st(l,s,N)}mi(r,s,l);break;case 21:mi(r,s,l);break;case 22:l.mode&1?(jt=(h=jt)||l.memoizedState!==null,mi(r,s,l),jt=h):mi(r,s,l);break;default:mi(r,s,l)}}function Py(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new $T),s.forEach(function(h){var d=JT.bind(null,r,h);l.has(h)||(l.add(h),h.then(d,d))})}}function Qn(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var d=l[h];try{var y=r,T=s,N=T;e:for(;N!==null;){switch(N.tag){case 5:Dt=N.stateNode,Wn=!1;break e;case 3:Dt=N.stateNode.containerInfo,Wn=!0;break e;case 4:Dt=N.stateNode.containerInfo,Wn=!0;break e}N=N.return}if(Dt===null)throw Error(n(160));Ry(y,T,d),Dt=null,Wn=!1;var F=d.alternate;F!==null&&(F.return=null),d.return=null}catch(W){st(d,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ny(s,r),s=s.sibling}function Ny(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Qn(s,r),pr(r),h&4){try{qa(3,r,r.return),Bu(3,r)}catch(we){st(r,r.return,we)}try{qa(5,r,r.return)}catch(we){st(r,r.return,we)}}break;case 1:Qn(s,r),pr(r),h&512&&l!==null&&wo(l,l.return);break;case 5:if(Qn(s,r),pr(r),h&512&&l!==null&&wo(l,l.return),r.flags&32){var d=r.stateNode;try{Zr(d,"")}catch(we){st(r,r.return,we)}}if(h&4&&(d=r.stateNode,d!=null)){var y=r.memoizedProps,T=l!==null?l.memoizedProps:y,N=r.type,F=r.updateQueue;if(r.updateQueue=null,F!==null)try{N==="input"&&y.type==="radio"&&y.name!=null&&ta(d,y),ca(N,T);var W=ca(N,y);for(T=0;T<F.length;T+=2){var se=F[T],ae=F[T+1];se==="style"?aa(d,ae):se==="dangerouslySetInnerHTML"?sa(d,ae):se==="children"?Zr(d,ae):Z(d,se,ae,W)}switch(N){case"input":na(d,y);break;case"textarea":Vs(d,y);break;case"select":var ie=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!y.multiple;var pe=y.value;pe!=null?Rr(d,!!y.multiple,pe,!1):ie!==!!y.multiple&&(y.defaultValue!=null?Rr(d,!!y.multiple,y.defaultValue,!0):Rr(d,!!y.multiple,y.multiple?[]:"",!1))}d[ba]=y}catch(we){st(r,r.return,we)}}break;case 6:if(Qn(s,r),pr(r),h&4){if(r.stateNode===null)throw Error(n(162));d=r.stateNode,y=r.memoizedProps;try{d.nodeValue=y}catch(we){st(r,r.return,we)}}break;case 3:if(Qn(s,r),pr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{$n(s.containerInfo)}catch(we){st(r,r.return,we)}break;case 4:Qn(s,r),pr(r);break;case 13:Qn(s,r),pr(r),d=r.child,d.flags&8192&&(y=d.memoizedState!==null,d.stateNode.isHidden=y,!y||d.alternate!==null&&d.alternate.memoizedState!==null||(Hf=Ke())),h&4&&Py(r);break;case 22:if(se=l!==null&&l.memoizedState!==null,r.mode&1?(jt=(W=jt)||se,Qn(s,r),jt=W):Qn(s,r),pr(r),h&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!se&&(r.mode&1)!==0)for(ge=r,se=r.child;se!==null;){for(ae=ge=se;ge!==null;){switch(ie=ge,pe=ie.child,ie.tag){case 0:case 11:case 14:case 15:qa(4,ie,ie.return);break;case 1:wo(ie,ie.return);var ve=ie.stateNode;if(typeof ve.componentWillUnmount=="function"){h=ie,l=ie.return;try{s=h,ve.props=s.memoizedProps,ve.state=s.memoizedState,ve.componentWillUnmount()}catch(we){st(h,l,we)}}break;case 5:wo(ie,ie.return);break;case 22:if(ie.memoizedState!==null){by(ae);continue}}pe!==null?(pe.return=ie,ge=pe):by(ae)}se=se.sibling}e:for(se=null,ae=r;;){if(ae.tag===5){if(se===null){se=ae;try{d=ae.stateNode,W?(y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(N=ae.stateNode,F=ae.memoizedProps.style,T=F!=null&&F.hasOwnProperty("display")?F.display:null,N.style.display=oa("display",T))}catch(we){st(r,r.return,we)}}}else if(ae.tag===6){if(se===null)try{ae.stateNode.nodeValue=W?"":ae.memoizedProps}catch(we){st(r,r.return,we)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===r)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===r)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===r)break e;se===ae&&(se=null),ae=ae.return}se===ae&&(se=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Qn(s,r),pr(r),h&4&&Py(r);break;case 21:break;default:Qn(s,r),pr(r)}}function pr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Ay(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(Zr(d,""),h.flags&=-33);var y=Cy(r);zf(r,y,d);break;case 3:case 4:var T=h.stateNode.containerInfo,N=Cy(r);Uf(r,N,T);break;default:throw Error(n(161))}}catch(F){st(r,r.return,F)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function HT(r,s,l){ge=r,ky(r)}function ky(r,s,l){for(var h=(r.mode&1)!==0;ge!==null;){var d=ge,y=d.child;if(d.tag===22&&h){var T=d.memoizedState!==null||ju;if(!T){var N=d.alternate,F=N!==null&&N.memoizedState!==null||jt;N=ju;var W=jt;if(ju=T,(jt=F)&&!W)for(ge=d;ge!==null;)T=ge,F=T.child,T.tag===22&&T.memoizedState!==null?My(d):F!==null?(F.return=T,ge=F):My(d);for(;y!==null;)ge=y,ky(y),y=y.sibling;ge=d,ju=N,jt=W}Dy(r)}else(d.subtreeFlags&8772)!==0&&y!==null?(y.return=d,ge=y):Dy(r)}}function Dy(r){for(;ge!==null;){var s=ge;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:jt||Bu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!jt)if(l===null)h.componentDidMount();else{var d=s.elementType===s.type?l.memoizedProps:Kn(s.type,l.memoizedProps);h.componentDidUpdate(d,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&bg(s,y,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}bg(s,T,l)}break;case 5:var N=s.stateNode;if(l===null&&s.flags&4){l=N;var F=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var se=W.memoizedState;if(se!==null){var ae=se.dehydrated;ae!==null&&$n(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}jt||s.flags&512&&Bf(s)}catch(ie){st(s,s.return,ie)}}if(s===r){ge=null;break}if(l=s.sibling,l!==null){l.return=s.return,ge=l;break}ge=s.return}}function by(r){for(;ge!==null;){var s=ge;if(s===r){ge=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ge=l;break}ge=s.return}}function My(r){for(;ge!==null;){var s=ge;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Bu(4,s)}catch(F){st(s,l,F)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(F){st(s,d,F)}}var y=s.return;try{Bf(s)}catch(F){st(s,y,F)}break;case 5:var T=s.return;try{Bf(s)}catch(F){st(s,T,F)}}}catch(F){st(s,s.return,F)}if(s===r){ge=null;break}var N=s.sibling;if(N!==null){N.return=s.return,ge=N;break}ge=s.return}}var GT=Math.ceil,Uu=J.ReactCurrentDispatcher,$f=J.ReactCurrentOwner,Pn=J.ReactCurrentBatchConfig,je=0,Ct=null,dt=null,bt=0,gn=0,Eo=ci(0),Et=0,Ha=null,as=0,zu=0,qf=0,Ga=null,tn=null,Hf=0,To=1/0,$r=null,$u=!1,Gf=null,gi=null,qu=!1,yi=null,Hu=0,Ka=0,Kf=null,Gu=-1,Ku=0;function Kt(){return(je&6)!==0?Ke():Gu!==-1?Gu:Gu=Ke()}function vi(r){return(r.mode&1)===0?1:(je&2)!==0&&bt!==0?bt&-bt:PT.transition!==null?(Ku===0&&(Ku=Qi()),Ku):(r=be,r!==0||(r=window.event,r=r===void 0?16:Ea(r.type)),r)}function Yn(r,s,l,h){if(50<Ka)throw Ka=0,Kf=null,Error(n(185));ni(r,l,h),((je&2)===0||r!==Ct)&&(r===Ct&&((je&2)===0&&(zu|=l),Et===4&&_i(r,bt)),nn(r,h),l===1&&je===0&&(s.mode&1)===0&&(To=Ke()+500,Eu&&fi()))}function nn(r,s){var l=r.callbackNode;kr(r,s);var h=Wi(r,r===Ct?bt:0);if(h===0)l!==null&&ga(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&ga(l),s===1)r.tag===0?RT(Oy.bind(null,r)):Eg(Oy.bind(null,r)),xT(function(){(je&6)===0&&fi()}),l=null;else{switch(ii(h)){case 1:l=Gi;break;case 4:l=Jr;break;case 16:l=Tn;break;case 536870912:l=Kl;break;default:l=Tn}l=qy(l,Vy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Vy(r,s){if(Gu=-1,Ku=0,(je&6)!==0)throw Error(n(327));var l=r.callbackNode;if(So()&&r.callbackNode!==l)return null;var h=Wi(r,r===Ct?bt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=Wu(r,h);else{s=h;var d=je;je|=2;var y=Fy();(Ct!==r||bt!==s)&&($r=null,To=Ke()+500,us(r,s));do try{QT();break}catch(N){Ly(r,N)}while(!0);hf(),Uu.current=y,je=d,dt!==null?s=0:(Ct=null,bt=0,s=Et)}if(s!==0){if(s===2&&(d=hn(r),d!==0&&(h=d,s=Wf(r,d))),s===1)throw l=Ha,us(r,0),_i(r,h),nn(r,Ke()),l;if(s===6)_i(r,h);else{if(d=r.current.alternate,(h&30)===0&&!KT(d)&&(s=Wu(r,h),s===2&&(y=hn(r),y!==0&&(h=y,s=Wf(r,y))),s===1))throw l=Ha,us(r,0),_i(r,h),nn(r,Ke()),l;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:cs(r,tn,$r);break;case 3:if(_i(r,h),(h&130023424)===h&&(s=Hf+500-Ke(),10<s)){if(Wi(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){Kt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=Jh(cs.bind(null,r,tn,$r),s);break}cs(r,tn,$r);break;case 4:if(_i(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var T=31-qt(h);y=1<<T,T=s[T],T>d&&(d=T),h&=~y}if(h=d,h=Ke()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*GT(h/1960))-h,10<h){r.timeoutHandle=Jh(cs.bind(null,r,tn,$r),h);break}cs(r,tn,$r);break;case 5:cs(r,tn,$r);break;default:throw Error(n(329))}}}return nn(r,Ke()),r.callbackNode===l?Vy.bind(null,r):null}function Wf(r,s){var l=Ga;return r.current.memoizedState.isDehydrated&&(us(r,s).flags|=256),r=Wu(r,s),r!==2&&(s=tn,tn=l,s!==null&&Qf(s)),r}function Qf(r){tn===null?tn=r:tn.push.apply(tn,r)}function KT(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var d=l[h],y=d.getSnapshot;d=d.value;try{if(!Hn(y(),d))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _i(r,s){for(s&=~qf,s&=~zu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-qt(s),h=1<<l;r[l]=-1,s&=~h}}function Oy(r){if((je&6)!==0)throw Error(n(327));So();var s=Wi(r,0);if((s&1)===0)return nn(r,Ke()),null;var l=Wu(r,s);if(r.tag!==0&&l===2){var h=hn(r);h!==0&&(s=h,l=Wf(r,h))}if(l===1)throw l=Ha,us(r,0),_i(r,s),nn(r,Ke()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,cs(r,tn,$r),nn(r,Ke()),null}function Yf(r,s){var l=je;je|=1;try{return r(s)}finally{je=l,je===0&&(To=Ke()+500,Eu&&fi())}}function ls(r){yi!==null&&yi.tag===0&&(je&6)===0&&So();var s=je;je|=1;var l=Pn.transition,h=be;try{if(Pn.transition=null,be=1,r)return r()}finally{be=h,Pn.transition=l,je=s,(je&6)===0&&fi()}}function Xf(){gn=Eo.current,Ye(Eo)}function us(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,ST(l)),dt!==null)for(l=dt.return;l!==null;){var h=l;switch(of(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&_u();break;case 3:vo(),Ye(Zt),Ye(Ot),_f();break;case 5:yf(h);break;case 4:vo();break;case 13:Ye(nt);break;case 19:Ye(nt);break;case 10:ff(h.type._context);break;case 22:case 23:Xf()}l=l.return}if(Ct=r,dt=r=wi(r.current,null),bt=gn=s,Et=0,Ha=null,qf=zu=as=0,tn=Ga=null,is!==null){for(s=0;s<is.length;s++)if(l=is[s],h=l.interleaved,h!==null){l.interleaved=null;var d=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=d,h.next=T}l.pending=h}is=null}return r}function Ly(r,s){do{var l=dt;try{if(hf(),ku.current=Vu,Du){for(var h=rt.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}Du=!1}if(os=0,At=wt=rt=null,ja=!1,Ba=0,$f.current=null,l===null||l.return===null){Et=1,Ha=s,dt=null;break}e:{var y=r,T=l.return,N=l,F=s;if(s=bt,N.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var W=F,se=N,ae=se.tag;if((se.mode&1)===0&&(ae===0||ae===11||ae===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var pe=ly(T);if(pe!==null){pe.flags&=-257,uy(pe,T,N,y,s),pe.mode&1&&ay(y,W,s),s=pe,F=W;var ve=s.updateQueue;if(ve===null){var we=new Set;we.add(F),s.updateQueue=we}else ve.add(F);break e}else{if((s&1)===0){ay(y,W,s),Zf();break e}F=Error(n(426))}}else if(Ze&&N.mode&1){var at=ly(T);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),uy(at,T,N,y,s),uf(_o(F,N));break e}}y=F=_o(F,N),Et!==4&&(Et=2),Ga===null?Ga=[y]:Ga.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var $=sy(y,F,s);Dg(y,$);break e;case 1:N=F;var j=y.type,H=y.stateNode;if((y.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(gi===null||!gi.has(H)))){y.flags|=65536,s&=-s,y.lanes|=s;var he=oy(y,N,s);Dg(y,he);break e}}y=y.return}while(y!==null)}By(l)}catch(Ee){s=Ee,dt===l&&l!==null&&(dt=l=l.return);continue}break}while(!0)}function Fy(){var r=Uu.current;return Uu.current=Vu,r===null?Vu:r}function Zf(){(Et===0||Et===3||Et===2)&&(Et=4),Ct===null||(as&268435455)===0&&(zu&268435455)===0||_i(Ct,bt)}function Wu(r,s){var l=je;je|=2;var h=Fy();(Ct!==r||bt!==s)&&($r=null,us(r,s));do try{WT();break}catch(d){Ly(r,d)}while(!0);if(hf(),je=l,Uu.current=h,dt!==null)throw Error(n(261));return Ct=null,bt=0,Et}function WT(){for(;dt!==null;)jy(dt)}function QT(){for(;dt!==null&&!Hl();)jy(dt)}function jy(r){var s=$y(r.alternate,r,gn);r.memoizedProps=r.pendingProps,s===null?By(r):dt=s,$f.current=null}function By(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=UT(l,s,gn),l!==null){dt=l;return}}else{if(l=zT(l,s),l!==null){l.flags&=32767,dt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,dt=null;return}}if(s=s.sibling,s!==null){dt=s;return}dt=s=r}while(s!==null);Et===0&&(Et=5)}function cs(r,s,l){var h=be,d=Pn.transition;try{Pn.transition=null,be=1,YT(r,s,l,h)}finally{Pn.transition=d,be=h}return null}function YT(r,s,l,h){do So();while(yi!==null);if((je&6)!==0)throw Error(n(327));l=r.finishedWork;var d=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(He(r,y),r===Ct&&(dt=Ct=null,bt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||qu||(qu=!0,qy(Tn,function(){return So(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Pn.transition,Pn.transition=null;var T=be;be=1;var N=je;je|=4,$f.current=null,qT(r,l),Ny(l,r),gT(Xh),oi=!!Yh,Xh=Yh=null,r.current=l,HT(l),Mh(),je=N,be=T,Pn.transition=y}else r.current=l;if(qu&&(qu=!1,yi=r,Hu=d),y=r.pendingLanes,y===0&&(gi=null),Wl(l.stateNode),nn(r,Ke()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)d=s[l],h(d.value,{componentStack:d.stack,digest:d.digest});if($u)throw $u=!1,r=Gf,Gf=null,r;return(Hu&1)!==0&&r.tag!==0&&So(),y=r.pendingLanes,(y&1)!==0?r===Kf?Ka++:(Ka=0,Kf=r):Ka=0,fi(),null}function So(){if(yi!==null){var r=ii(Hu),s=Pn.transition,l=be;try{if(Pn.transition=null,be=16>r?16:r,yi===null)var h=!1;else{if(r=yi,yi=null,Hu=0,(je&6)!==0)throw Error(n(331));var d=je;for(je|=4,ge=r.current;ge!==null;){var y=ge,T=y.child;if((ge.flags&16)!==0){var N=y.deletions;if(N!==null){for(var F=0;F<N.length;F++){var W=N[F];for(ge=W;ge!==null;){var se=ge;switch(se.tag){case 0:case 11:case 15:qa(8,se,y)}var ae=se.child;if(ae!==null)ae.return=se,ge=ae;else for(;ge!==null;){se=ge;var ie=se.sibling,pe=se.return;if(Iy(se),se===W){ge=null;break}if(ie!==null){ie.return=pe,ge=ie;break}ge=pe}}}var ve=y.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var at=we.sibling;we.sibling=null,we=at}while(we!==null)}}ge=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,ge=T;else e:for(;ge!==null;){if(y=ge,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:qa(9,y,y.return)}var $=y.sibling;if($!==null){$.return=y.return,ge=$;break e}ge=y.return}}var j=r.current;for(ge=j;ge!==null;){T=ge;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,ge=H;else e:for(T=j;ge!==null;){if(N=ge,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Bu(9,N)}}catch(Ee){st(N,N.return,Ee)}if(N===T){ge=null;break e}var he=N.sibling;if(he!==null){he.return=N.return,ge=he;break e}ge=N.return}}if(je=d,fi(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Ki,r)}catch{}h=!0}return h}finally{be=l,Pn.transition=s}}return!1}function Uy(r,s,l){s=_o(l,s),s=sy(r,s,1),r=pi(r,s,1),s=Kt(),r!==null&&(ni(r,1,s),nn(r,s))}function st(r,s,l){if(r.tag===3)Uy(r,r,l);else for(;s!==null;){if(s.tag===3){Uy(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(gi===null||!gi.has(h))){r=_o(l,r),r=oy(s,r,1),s=pi(s,r,1),r=Kt(),s!==null&&(ni(s,1,r),nn(s,r));break}}s=s.return}}function XT(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=Kt(),r.pingedLanes|=r.suspendedLanes&l,Ct===r&&(bt&l)===l&&(Et===4||Et===3&&(bt&130023424)===bt&&500>Ke()-Hf?us(r,0):qf|=l),nn(r,s)}function zy(r,s){s===0&&((r.mode&1)===0?s=1:(s=Hs,Hs<<=1,(Hs&130023424)===0&&(Hs=4194304)));var l=Kt();r=Br(r,s),r!==null&&(ni(r,s,l),nn(r,l))}function ZT(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),zy(r,l)}function JT(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(l=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),zy(r,l)}var $y;$y=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Zt.current)en=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return en=!1,BT(r,s,l);en=(r.flags&131072)!==0}else en=!1,Ze&&(s.flags&1048576)!==0&&Tg(s,Su,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Fu(r,s),r=s.pendingProps;var d=co(s,Ot.current);yo(s,l),d=Tf(null,s,h,r,d,l);var y=Sf();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jt(h)?(y=!0,wu(s)):y=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,mf(s),d.updater=Ou,s.stateNode=d,d._reactInternals=s,Pf(s,h,r,l),s=bf(null,s,h,!0,y,l)):(s.tag=0,Ze&&y&&sf(s),Gt(null,s,d,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Fu(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=tS(h),r=Kn(h,r),d){case 0:s=Df(null,s,h,r,l);break e;case 1:s=my(null,s,h,r,l);break e;case 11:s=cy(null,s,h,r,l);break e;case 14:s=hy(null,s,h,Kn(h.type,r),l);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Kn(h,d),Df(r,s,h,d,l);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Kn(h,d),my(r,s,h,d,l);case 3:e:{if(gy(s),r===null)throw Error(n(387));h=s.pendingProps,y=s.memoizedState,d=y.element,kg(r,s),Pu(s,h,null,l);var T=s.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){d=_o(Error(n(423)),s),s=yy(r,s,h,l,d);break e}else if(h!==d){d=_o(Error(n(424)),s),s=yy(r,s,h,l,d);break e}else for(mn=ui(s.stateNode.containerInfo.firstChild),pn=s,Ze=!0,Gn=null,l=Pg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(po(),h===d){s=zr(r,s,l);break e}Gt(r,s,h,l)}s=s.child}return s;case 5:return Mg(s),r===null&&lf(s),h=s.type,d=s.pendingProps,y=r!==null?r.memoizedProps:null,T=d.children,Zh(h,d)?T=null:y!==null&&Zh(h,y)&&(s.flags|=32),py(r,s),Gt(r,s,T,l),s.child;case 6:return r===null&&lf(s),null;case 13:return vy(r,s,l);case 4:return gf(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=mo(s,null,h,l):Gt(r,s,h,l),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Kn(h,d),cy(r,s,h,d,l);case 7:return Gt(r,s,s.pendingProps,l),s.child;case 8:return Gt(r,s,s.pendingProps.children,l),s.child;case 12:return Gt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,y=s.memoizedProps,T=d.value,We(Au,h._currentValue),h._currentValue=T,y!==null)if(Hn(y.value,T)){if(y.children===d.children&&!Zt.current){s=zr(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var N=y.dependencies;if(N!==null){T=y.child;for(var F=N.firstContext;F!==null;){if(F.context===h){if(y.tag===1){F=Ur(-1,l&-l),F.tag=2;var W=y.updateQueue;if(W!==null){W=W.shared;var se=W.pending;se===null?F.next=F:(F.next=se.next,se.next=F),W.pending=F}}y.lanes|=l,F=y.alternate,F!==null&&(F.lanes|=l),df(y.return,l,s),N.lanes|=l;break}F=F.next}}else if(y.tag===10)T=y.type===s.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(n(341));T.lanes|=l,N=T.alternate,N!==null&&(N.lanes|=l),df(T,l,s),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===s){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Gt(r,s,d.children,l),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,yo(s,l),d=Cn(d),h=h(d),s.flags|=1,Gt(r,s,h,l),s.child;case 14:return h=s.type,d=Kn(h,s.pendingProps),d=Kn(h.type,d),hy(r,s,h,d,l);case 15:return fy(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Kn(h,d),Fu(r,s),s.tag=1,Jt(h)?(r=!0,wu(s)):r=!1,yo(s,l),ry(s,h,d),Pf(s,h,d,l),bf(null,s,h,!0,r,l);case 19:return wy(r,s,l);case 22:return dy(r,s,l)}throw Error(n(156,s.tag))};function qy(r,s){return $s(r,s)}function eS(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(r,s,l,h){return new eS(r,s,l,h)}function Jf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function tS(r){if(typeof r=="function")return Jf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===V)return 11;if(r===U)return 14}return 2}function wi(r,s){var l=r.alternate;return l===null?(l=Nn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Qu(r,s,l,h,d,y){var T=2;if(h=r,typeof r=="function")Jf(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case b:return hs(l.children,d,y,s);case A:T=8,d|=8;break;case R:return r=Nn(12,l,s,d|2),r.elementType=R,r.lanes=y,r;case C:return r=Nn(13,l,s,d),r.elementType=C,r.lanes=y,r;case B:return r=Nn(19,l,s,d),r.elementType=B,r.lanes=y,r;case re:return Yu(l,d,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:T=10;break e;case D:T=9;break e;case V:T=11;break e;case U:T=14;break e;case K:T=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Nn(T,l,s,d),s.elementType=r,s.type=h,s.lanes=y,s}function hs(r,s,l,h){return r=Nn(7,r,h,s),r.lanes=l,r}function Yu(r,s,l,h){return r=Nn(22,r,h,s),r.elementType=re,r.lanes=l,r.stateNode={isHidden:!1},r}function ed(r,s,l){return r=Nn(6,r,null,s),r.lanes=l,r}function td(r,s,l){return s=Nn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function nS(r,s,l,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ti(0),this.expirationTimes=ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function nd(r,s,l,h,d,y,T,N,F){return r=new nS(r,s,l,N,F),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Nn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},mf(y),r}function rS(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function Hy(r){if(!r)return hi;r=r._reactInternals;e:{if(Fn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(Jt(l))return _g(r,l,s)}return s}function Gy(r,s,l,h,d,y,T,N,F){return r=nd(l,h,!0,r,d,y,T,N,F),r.context=Hy(null),l=r.current,h=Kt(),d=vi(l),y=Ur(h,d),y.callback=s??null,pi(l,y,d),r.current.lanes=d,ni(r,d,h),nn(r,h),r}function Xu(r,s,l,h){var d=s.current,y=Kt(),T=vi(d);return l=Hy(l),s.context===null?s.context=l:s.pendingContext=l,s=Ur(y,T),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=pi(d,s,T),r!==null&&(Yn(r,d,T,y),Ru(r,d,T)),T}function Zu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ky(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function rd(r,s){Ky(r,s),(r=r.alternate)&&Ky(r,s)}function iS(){return null}var Wy=typeof reportError=="function"?reportError:function(r){console.error(r)};function id(r){this._internalRoot=r}Ju.prototype.render=id.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Xu(r,s,null,null)},Ju.prototype.unmount=id.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ls(function(){Xu(null,r,null,null)}),s[Or]=null}};function Ju(r){this._internalRoot=r}Ju.prototype.unstable_scheduleHydration=function(r){if(r){var s=Jl();r={blockedOn:null,target:r,priority:s};for(var l=0;l<ar.length&&s!==0&&s<ar[l].priority;l++);ar.splice(l,0,r),l===0&&nu(r)}};function sd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ec(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Qy(){}function sS(r,s,l,h,d){if(d){if(typeof h=="function"){var y=h;h=function(){var W=Zu(T);y.call(W)}}var T=Gy(s,h,r,0,null,!1,!1,"",Qy);return r._reactRootContainer=T,r[Or]=T.current,ka(r.nodeType===8?r.parentNode:r),ls(),T}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var N=h;h=function(){var W=Zu(F);N.call(W)}}var F=nd(r,0,!1,null,null,!1,!1,"",Qy);return r._reactRootContainer=F,r[Or]=F.current,ka(r.nodeType===8?r.parentNode:r),ls(function(){Xu(s,F,l,h)}),F}function tc(r,s,l,h,d){var y=l._reactRootContainer;if(y){var T=y;if(typeof d=="function"){var N=d;d=function(){var F=Zu(T);N.call(F)}}Xu(s,T,r,d)}else T=sS(l,s,r,d,h);return Zu(T)}Xl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ei(s.pendingLanes);l!==0&&(ri(s,l|1),nn(s,Ke()),(je&6)===0&&(To=Ke()+500,fi()))}break;case 13:ls(function(){var h=Br(r,1);if(h!==null){var d=Kt();Yn(h,r,1,d)}}),rd(r,1)}},Gs=function(r){if(r.tag===13){var s=Br(r,134217728);if(s!==null){var l=Kt();Yn(s,r,134217728,l)}rd(r,134217728)}},Zl=function(r){if(r.tag===13){var s=vi(r),l=Br(r,s);if(l!==null){var h=Kt();Yn(l,r,s,h)}rd(r,s)}},Jl=function(){return be},eu=function(r,s){var l=be;try{return be=r,s()}finally{be=l}},Ls=function(r,s,l){switch(s){case"input":if(na(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var d=vu(h);if(!d)throw Error(n(90));ks(h),na(h,d)}}}break;case"textarea":Vs(r,l);break;case"select":s=l.value,s!=null&&Rr(r,!!l.multiple,s,!1)}},zi=Yf,fa=ls;var oS={usingClientEntryPoint:!1,Events:[Ma,lo,vu,sr,ha,Yf]},Wa={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aS={bundleType:Wa.bundleType,version:Wa.version,rendererPackageName:Wa.rendererPackageName,rendererConfig:Wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ma(r),r===null?null:r.stateNode},findFiberByHostInstance:Wa.findFiberByHostInstance||iS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{Ki=nc.inject(aS),cn=nc}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oS,rn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sd(s))throw Error(n(200));return rS(r,s,null,l)},rn.createRoot=function(r,s){if(!sd(r))throw Error(n(299));var l=!1,h="",d=Wy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=nd(r,1,!1,null,null,l,!1,h,d),r[Or]=s.current,ka(r.nodeType===8?r.parentNode:r),new id(s)},rn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=ma(s),r=r===null?null:r.stateNode,r},rn.flushSync=function(r){return ls(r)},rn.hydrate=function(r,s,l){if(!ec(s))throw Error(n(200));return tc(null,r,s,!0,l)},rn.hydrateRoot=function(r,s,l){if(!sd(r))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,d=!1,y="",T=Wy;if(l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=Gy(s,null,r,1,l??null,d,!1,y,T),r[Or]=s.current,ka(r),h)for(r=0;r<h.length;r++)l=h[r],d=l._getVersion,d=d(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,d]:s.mutableSourceEagerHydrationData.push(l,d);return new Ju(s)},rn.render=function(r,s,l){if(!ec(s))throw Error(n(200));return tc(null,r,s,!1,l)},rn.unmountComponentAtNode=function(r){if(!ec(r))throw Error(n(40));return r._reactRootContainer?(ls(function(){tc(null,null,r,!1,function(){r._reactRootContainer=null,r[Or]=null})}),!0):!1},rn.unstable_batchedUpdates=Yf,rn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!ec(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return tc(r,s,l,!1,h)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var r0;function M_(){if(r0)return ld.exports;r0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ld.exports=gS(),ld.exports}var i0;function yS(){if(i0)return rc;i0=1;var t=M_();return rc.createRoot=t.createRoot,rc.hydrateRoot=t.hydrateRoot,rc}var vS=yS(),lh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uh=typeof window>"u"||"Deno"in globalThis;function Xn(){}function _S(t,e){return typeof t=="function"?t(e):t}function wS(t){return typeof t=="number"&&t>=0&&t!==1/0}function ES(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Md(t,e){return typeof t=="function"?t(e):t}function TS(t,e){return typeof t=="function"?t(e):t}function s0(t,e){const{type:n="all",exact:i,fetchStatus:o,predicate:a,queryKey:c,stale:f}=t;if(c){if(i){if(e.queryHash!==Bp(c,e.options))return!1}else if(!gl(e.queryKey,c))return!1}if(n!=="all"){const p=e.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||o&&o!==e.state.fetchStatus||a&&!a(e))}function o0(t,e){const{exact:n,status:i,predicate:o,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(ml(e.options.mutationKey)!==ml(a))return!1}else if(!gl(e.options.mutationKey,a))return!1}return!(i&&e.state.status!==i||o&&!o(e))}function Bp(t,e){return(e?.queryKeyHashFn||ml)(t)}function ml(t){return JSON.stringify(t,(e,n)=>Vd(n)?Object.keys(n).sort().reduce((i,o)=>(i[o]=n[o],i),{}):n)}function gl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>gl(t[n],e[n])):!1}function V_(t,e){if(t===e)return t;const n=a0(t)&&a0(e);if(n||Vd(t)&&Vd(e)){const i=n?t:Object.keys(t),o=i.length,a=n?e:Object.keys(e),c=a.length,f=n?[]:{},p=new Set(i);let m=0;for(let v=0;v<c;v++){const w=n?v:a[v];(!n&&p.has(w)||n)&&t[w]===void 0&&e[w]===void 0?(f[w]=void 0,m++):(f[w]=V_(t[w],e[w]),f[w]===t[w]&&t[w]!==void 0&&m++)}return o===c&&m===o?t:f}return e}function a0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Vd(t){if(!l0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!l0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function l0(t){return Object.prototype.toString.call(t)==="[object Object]"}function SS(t){return new Promise(e=>{setTimeout(e,t)})}function xS(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?V_(t,e):e}function IS(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function AS(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var Up=Symbol();function O_(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Up?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var CS=class extends lh{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!uh&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},L_=new CS,RS=class extends lh{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!uh&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},kc=new RS;function PS(){let t,e;const n=new Promise((o,a)=>{t=o,e=a});n.status="pending",n.catch(()=>{});function i(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{i({status:"fulfilled",value:o}),t(o)},n.reject=o=>{i({status:"rejected",reason:o}),e(o)},n}function NS(t){return Math.min(1e3*2**t,3e4)}function F_(t){return(t??"online")==="online"?kc.isOnline():!0}var j_=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function hd(t){return t instanceof j_}function B_(t){let e=!1,n=0,i=!1,o;const a=PS(),c=L=>{i||(E(new j_(L)),t.abort?.())},f=()=>{e=!0},p=()=>{e=!1},m=()=>L_.isFocused()&&(t.networkMode==="always"||kc.isOnline())&&t.canRun(),v=()=>F_(t.networkMode)&&t.canRun(),w=L=>{i||(i=!0,t.onSuccess?.(L),o?.(),a.resolve(L))},E=L=>{i||(i=!0,t.onError?.(L),o?.(),a.reject(L))},x=()=>new Promise(L=>{o=k=>{(i||m())&&L(k)},t.onPause?.()}).then(()=>{o=void 0,i||t.onContinue?.()}),P=()=>{if(i)return;let L;const k=n===0?t.initialPromise:void 0;try{L=k??t.fn()}catch(q){L=Promise.reject(q)}Promise.resolve(L).then(w).catch(q=>{if(i)return;const G=t.retry??(uh?0:3),Z=t.retryDelay??NS,J=typeof Z=="function"?Z(n,q):Z,ue=G===!0||typeof G=="number"&&n<G||typeof G=="function"&&G(n,q);if(e||!ue){E(q);return}n++,t.onFail?.(n,q),SS(J).then(()=>m()?void 0:x()).then(()=>{e?E(q):P()})})};return{promise:a,cancel:c,continue:()=>(o?.(),a),cancelRetry:f,continueRetry:p,canStart:v,start:()=>(v()?P():x().then(P),a)}}var kS=t=>setTimeout(t,0);function DS(){let t=[],e=0,n=f=>{f()},i=f=>{f()},o=kS;const a=f=>{e?t.push(f):o(()=>{n(f)})},c=()=>{const f=t;t=[],f.length&&o(()=>{i(()=>{f.forEach(p=>{n(p)})})})};return{batch:f=>{let p;e++;try{p=f()}finally{e--,e||c()}return p},batchCalls:f=>(...p)=>{a(()=>{f(...p)})},schedule:a,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{o=f}}}var Wt=DS(),U_=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wS(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(uh?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},bS=class extends U_{#e;#t;#n;#i;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=VS(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const i=xS(this.state.data,e,this.options);return this.#s({data:i,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),i}setState(e,n){this.#s({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>TS(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Up||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Md(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!ES(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(v=>v.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,o=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#a=!0,i.signal)})},a=()=>{const m=O_(this.options,n),w=(()=>{const E={client:this.#i,queryKey:this.queryKey,meta:this.meta};return o(E),E})();return this.#a=!1,this.options.persister?this.options.persister(m,w,this):m(w)},f=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:a};return o(m),m})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#s({type:"fetch",meta:f.fetchOptions?.meta});const p=m=>{hd(m)&&m.silent||this.#s({type:"error",error:m}),hd(m)||(this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this)),this.scheduleGc()};return this.#r=B_({initialPromise:n?.initialPromise,fn:f.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{if(m===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){p(v);return}this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),this.scheduleGc()},onError:p,onFail:(m,v)=>{this.#s({type:"failed",failureCount:m,error:v})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...MS(i.data,this.options),fetchMeta:e.meta??null};case"success":return this.#t=void 0,{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return hd(o)&&o.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),Wt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function MS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:F_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function VS(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var OS=class extends lh{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const i=e.queryKey,o=e.queryHash??Bp(i,e);let a=this.get(o);return a||(a=new bS({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>s0(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>s0(t,n)):e}notify(t){Wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},LS=class extends U_{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||FS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#i({type:"continue"})};this.#n=B_({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,c)=>{this.#i({type:"failed",failureCount:a,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const i=this.state.status==="pending",o=!this.#n.canStart();try{if(i)n();else{this.#i({type:"pending",variables:e,isPaused:o}),await this.#t.config.onMutate?.(e,this);const c=await this.options.onMutate?.(e);c!==this.state.context&&this.#i({type:"pending",context:c,variables:e,isPaused:o})}const a=await this.#n.start();return await this.#t.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#i({type:"success",data:a}),a}catch(a){try{throw await this.#t.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#t.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#i({type:"error",error:a})}}finally{this.#t.runNext(this)}}#i(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Wt.batch(()=>{this.#e.forEach(i=>{i.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function FS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jS=class extends lh{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const i=new LS({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#e.add(t);const e=ic(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=ic(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=ic(t);if(typeof e=="string"){const i=this.#t.get(e)?.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=ic(t);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Wt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>o0(e,n))}findAll(t={}){return this.getAll().filter(e=>o0(t,e))}notify(t){Wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Wt.batch(()=>Promise.all(t.map(e=>e.continue().catch(Xn))))}};function ic(t){return t.options.scope?.id}function u0(t){return{onFetch:(e,n)=>{const i=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let f={pages:[],pageParams:[]},p=0;const m=async()=>{let v=!1;const w=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},E=O_(e.options,e.fetchOptions),x=async(P,L,k)=>{if(v)return Promise.reject();if(L==null&&P.pages.length)return Promise.resolve(P);const G=(()=>{const le={client:e.client,queryKey:e.queryKey,pageParam:L,direction:k?"backward":"forward",meta:e.options.meta};return w(le),le})(),Z=await E(G),{maxPages:J}=e.options,ue=k?AS:IS;return{pages:ue(P.pages,Z,J),pageParams:ue(P.pageParams,L,J)}};if(o&&a.length){const P=o==="backward",L=P?BS:c0,k={pages:a,pageParams:c},q=L(i,k);f=await x(k,q,P)}else{const P=t??a.length;do{const L=p===0?c[0]??i.initialPageParam:c0(i,f);if(p>0&&L==null)break;f=await x(f,L),p++}while(p<P)}return f};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=m}}}function c0(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function BS(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var US=class{#e;#t;#n;#i;#r;#o;#a;#s;constructor(t={}){this.#e=t.queryCache||new OS,this.#t=t.mutationCache||new jS,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=L_.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=kc.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Md(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(i.queryHash)?.state.data,c=_S(e,a);if(c!==void 0)return this.#e.build(this,i).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return Wt.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Wt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Wt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=Wt.batch(()=>this.#e.findAll(t).map(o=>o.cancel(n)));return Promise.all(i).then(Xn).catch(Xn)}invalidateQueries(t,e={}){return Wt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=Wt.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,n);return n.throwOnError||(a=a.catch(Xn)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(i).then(Xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Md(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xn).catch(Xn)}fetchInfiniteQuery(t){return t.behavior=u0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xn).catch(Xn)}ensureInfiniteQueryData(t){return t.behavior=u0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return kc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(ml(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{gl(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(ml(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{gl(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Bp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Up&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},oe=jp();const zS=cS(oe),$S=uS({__proto__:null,default:zS},[oe]);var qS=oe.createContext(void 0),HS=({client:t,children:e})=>(oe.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),I.jsx(qS.Provider,{value:t,children:e}));M_();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Dc.apply(this,arguments)}var xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xi||(xi={}));const h0="popstate";function GS(t){t===void 0&&(t={});function e(i,o){let{pathname:a,search:c,hash:f}=i.location;return Od("",{pathname:a,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:$_(o)}return WS(e,n,null,t)}function un(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function z_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KS(){return Math.random().toString(36).substr(2,8)}function f0(t,e){return{usr:t.state,key:t.key,idx:e}}function Od(t,e,n,i){return n===void 0&&(n=null),Dc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ch(e):e,{state:n,key:e&&e.key||i||KS()})}function $_(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ch(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function WS(t,e,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,f=xi.Pop,p=null,m=v();m==null&&(m=0,c.replaceState(Dc({},c.state,{idx:m}),""));function v(){return(c.state||{idx:null}).idx}function w(){f=xi.Pop;let k=v(),q=k==null?null:k-m;m=k,p&&p({action:f,location:L.location,delta:q})}function E(k,q){f=xi.Push;let G=Od(L.location,k,q);m=v()+1;let Z=f0(G,m),J=L.createHref(G);try{c.pushState(Z,"",J)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(J)}a&&p&&p({action:f,location:L.location,delta:1})}function x(k,q){f=xi.Replace;let G=Od(L.location,k,q);m=v();let Z=f0(G,m),J=L.createHref(G);c.replaceState(Z,"",J),a&&p&&p({action:f,location:L.location,delta:0})}function P(k){let q=o.location.origin!=="null"?o.location.origin:o.location.href,G=typeof k=="string"?k:$_(k);return G=G.replace(/ $/,"%20"),un(q,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,q)}let L={get action(){return f},get location(){return t(o,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(h0,w),p=k,()=>{o.removeEventListener(h0,w),p=null}},createHref(k){return e(o,k)},createURL:P,encodeLocation(k){let q=P(k);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:E,replace:x,go(k){return c.go(k)}};return L}var d0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(d0||(d0={}));function QS(t,e,n){return n===void 0&&(n="/"),YS(t,e,n)}function YS(t,e,n,i){let o=typeof e=="string"?ch(e):e,a=G_(o.pathname||"/",n);if(a==null)return null;let c=q_(t);XS(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=ux(a);f=ox(c[p],m)}return f}function q_(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(a,c,f)=>{let p={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(un(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let m=ko([i,p.relativePath]),v=n.concat(p);a.children&&a.children.length>0&&(un(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),q_(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:ix(m,a.index),routesMeta:v})};return t.forEach((a,c)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,c);else for(let p of H_(a.path))o(a,c,p)}),e}function H_(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=H_(i.join("/")),f=[];return f.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&f.push(...c),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function XS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sx(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const ZS=/^:[\w-]+$/,JS=3,ex=2,tx=1,nx=10,rx=-2,p0=t=>t==="*";function ix(t,e){let n=t.split("/"),i=n.length;return n.some(p0)&&(i+=rx),e&&(i+=ex),n.filter(o=>!p0(o)).reduce((o,a)=>o+(ZS.test(a)?JS:a===""?tx:nx),i)}function sx(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function ox(t,e,n){let{routesMeta:i}=t,o={},a="/",c=[];for(let f=0;f<i.length;++f){let p=i[f],m=f===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=ax({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),E=p.route;if(!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:ko([a,w.pathname]),pathnameBase:cx(ko([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=ko([a,w.pathnameBase]))}return c}function ax(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=lx(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((m,v,w)=>{let{paramName:E,isOptional:x}=v;if(E==="*"){let L=f[w]||"";c=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const P=f[w];return x&&!P?m[E]=void 0:m[E]=(P||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:t}}function lx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),z_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function ux(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return z_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function G_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const ko=t=>t.join("/").replace(/\/\/+/g,"/"),cx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function hx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const K_=["post","put","patch","delete"];new Set(K_);const fx=["get",...K_];new Set(fx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bc(){return bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bc.apply(this,arguments)}const dx=oe.createContext(null),px=oe.createContext(null),W_=oe.createContext(null),hh=oe.createContext(null),fh=oe.createContext({outlet:null,matches:[],isDataRoute:!1}),Q_=oe.createContext(null);function zp(){return oe.useContext(hh)!=null}function Y_(){return zp()||un(!1),oe.useContext(hh).location}function mx(t,e){return gx(t,e)}function gx(t,e,n,i){zp()||un(!1);let{navigator:o}=oe.useContext(W_),{matches:a}=oe.useContext(fh),c=a[a.length-1],f=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let m=Y_(),v;if(e){var w;let k=typeof e=="string"?ch(e):e;p==="/"||(w=k.pathname)!=null&&w.startsWith(p)||un(!1),v=k}else v=m;let E=v.pathname||"/",x=E;if(p!=="/"){let k=p.replace(/^\//,"").split("/");x="/"+E.replace(/^\//,"").split("/").slice(k.length).join("/")}let P=QS(t,{pathname:x}),L=Ex(P&&P.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:ko([p,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:ko([p,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,i);return e&&L?oe.createElement(hh.Provider,{value:{location:bc({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:xi.Pop}},L):L}function yx(){let t=Ix(),e=hx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),n?oe.createElement("pre",{style:o},n):null,null)}const vx=oe.createElement(yx,null);class _x extends oe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?oe.createElement(fh.Provider,{value:this.props.routeContext},oe.createElement(Q_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wx(t){let{routeContext:e,match:n,children:i}=t,o=oe.useContext(dx);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),oe.createElement(fh.Provider,{value:e},i)}function Ex(t,e,n,i){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,f=(o=n)==null?void 0:o.errors;if(f!=null){let v=c.findIndex(w=>w.route.id&&f?.[w.route.id]!==void 0);v>=0||un(!1),c=c.slice(0,Math.min(c.length,v+1))}let p=!1,m=-1;if(n&&i&&i.v7_partialHydration)for(let v=0;v<c.length;v++){let w=c[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=v),w.route.id){let{loaderData:E,errors:x}=n,P=w.route.loader&&E[w.route.id]===void 0&&(!x||x[w.route.id]===void 0);if(w.route.lazy||P){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((v,w,E)=>{let x,P=!1,L=null,k=null;n&&(x=f&&w.route.id?f[w.route.id]:void 0,L=w.route.errorElement||vx,p&&(m<0&&E===0?(Ax("route-fallback"),P=!0,k=null):m===E&&(P=!0,k=w.route.hydrateFallbackElement||null)));let q=e.concat(c.slice(0,E+1)),G=()=>{let Z;return x?Z=L:P?Z=k:w.route.Component?Z=oe.createElement(w.route.Component,null):w.route.element?Z=w.route.element:Z=v,oe.createElement(wx,{match:w,routeContext:{outlet:v,matches:q,isDataRoute:n!=null},children:Z})};return n&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?oe.createElement(_x,{location:n.location,revalidation:n.revalidation,component:L,error:x,children:G(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):G()},null)}var X_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(X_||{});function Tx(t){let e=oe.useContext(px);return e||un(!1),e}function Sx(t){let e=oe.useContext(fh);return e||un(!1),e}function xx(t){let e=Sx(),n=e.matches[e.matches.length-1];return n.route.id||un(!1),n.route.id}function Ix(){var t;let e=oe.useContext(Q_),n=Tx(X_.UseRouteError),i=xx();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}const m0={};function Ax(t,e,n){m0[t]||(m0[t]=!0)}function Cx(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Ld(t){un(!1)}function Rx(t){let{basename:e="/",children:n=null,location:i,navigationType:o=xi.Pop,navigator:a,static:c=!1,future:f}=t;zp()&&un(!1);let p=e.replace(/^\/*/,"/"),m=oe.useMemo(()=>({basename:p,navigator:a,static:c,future:bc({v7_relativeSplatPath:!1},f)}),[p,f,a,c]);typeof i=="string"&&(i=ch(i));let{pathname:v="/",search:w="",hash:E="",state:x=null,key:P="default"}=i,L=oe.useMemo(()=>{let k=G_(v,p);return k==null?null:{location:{pathname:k,search:w,hash:E,state:x,key:P},navigationType:o}},[p,v,w,E,x,P,o]);return L==null?null:oe.createElement(W_.Provider,{value:m},oe.createElement(hh.Provider,{children:n,value:L}))}function Px(t){let{children:e,location:n}=t;return mx(Fd(e),n)}new Promise(()=>{});function Fd(t,e){e===void 0&&(e=[]);let n=[];return oe.Children.forEach(t,(i,o)=>{if(!oe.isValidElement(i))return;let a=[...e,o];if(i.type===oe.Fragment){n.push.apply(n,Fd(i.props.children,a));return}i.type!==Ld&&un(!1),!i.props.index||!i.props.children||un(!1);let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Fd(i.props.children,a)),n.push(c)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Nx="6";try{window.__reactRouterVersion=Nx}catch{}const kx="startTransition",g0=$S[kx];function Dx(t){let{basename:e,children:n,future:i,window:o}=t,a=oe.useRef();a.current==null&&(a.current=GS({window:o,v5Compat:!0}));let c=a.current,[f,p]=oe.useState({action:c.action,location:c.location}),{v7_startTransition:m}=i||{},v=oe.useCallback(w=>{m&&g0?g0(()=>p(w)):p(w)},[p,m]);return oe.useLayoutEffect(()=>c.listen(v),[c,v]),oe.useEffect(()=>Cx(i),[i]),oe.createElement(Rx,{basename:e,children:n,location:f.location,navigationType:f.action,navigator:c,future:i})}var y0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(y0||(y0={}));var v0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(v0||(v0={}));const bx=()=>{};var _0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Mx=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],c=t[n++],f=t[n++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=t[n++],c=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},$p={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],c=o+1<t.length,f=c?t[o+1]:0,p=o+2<t.length,m=p?t[o+2]:0,v=a>>2,w=(a&3)<<4|f>>4;let E=(f&15)<<2|m>>6,x=m&63;p||(x=64,c||(E=64)),i.push(n[v],n[w],n[E],n[x])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Z_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Mx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const w=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||f==null||m==null||w==null)throw new Vx;const E=a<<2|f>>4;if(i.push(E),m!==64){const x=f<<4&240|m>>2;if(i.push(x),w!==64){const P=m<<6&192|w;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Vx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ox=function(t){const e=Z_(t);return $p.encodeByteArray(e,!0)},Mc=function(t){return Ox(t).replace(/\./g,"")},Lx=function(t){try{return $p.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=()=>J_().__FIREBASE_DEFAULTS__,jx=()=>{if(typeof process>"u"||typeof _0>"u")return;const t=_0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Bx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Lx(t[1]);return e&&JSON.parse(e)},qp=()=>{try{return bx()||Fx()||jx()||Bx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ux=t=>qp()?.emulatorHosts?.[t],zx=t=>{const e=Ux(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ew=()=>qp()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $x(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Mc(JSON.stringify(n)),Mc(JSON.stringify(c)),""].join(".")}const ll={};function Hx(){const t={prod:[],emulator:[]};for(const e of Object.keys(ll))ll[e]?t.emulator.push(e):t.prod.push(e);return t}function Gx(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let w0=!1;function Kx(t,e){if(typeof window>"u"||typeof document>"u"||!Hp(window.location.host)||ll[t]===e||ll[t]||w0)return;ll[t]=e;function n(E){return`__firebase__banner__${E}`}const i="__firebase__banner",a=Hx().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{w0=!0,c()},E}function v(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=Gx(i),x=n("text"),P=document.getElementById(x)||document.createElement("span"),L=n("learnmore"),k=document.getElementById(L)||document.createElement("a"),q=n("preprendIcon"),G=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Z=E.element;f(Z),v(k,L);const J=m();p(G,q),Z.append(G,P,k,J),document.body.appendChild(Z)}a?(P.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qx(){const t=qp()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Yx(){return!Qx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ml(){try{return typeof indexedDB=="object"}catch{return!1}}function Gp(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function nw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="FirebaseError";class Li extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Xx,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?Zx(a,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new Li(o,f,i)}}function Zx(t,e){return t.replace(Jx,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Jx=/\{\$([^}]+)}/g;function vl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],c=e[o];if(E0(a)&&E0(c)){if(!vl(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function E0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=1e3,tI=2,nI=14400*1e3,rI=.5;function jd(t,e=eI,n=tI){const i=e*Math.pow(n,t),o=Math.round(rI*i*(Math.random()-.5)*2);return Math.min(nI,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t){return t&&t._delegate?t._delegate:t}class er{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new yl;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oI(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&c.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sI(t){return t===ds?void 0:t}function oI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const lI={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},uI=Le.INFO,cI={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},hI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=cI[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dh{constructor(e){this.name=e,this._logLevel=uI,this._logHandler=hI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const fI=(t,e)=>e.some(n=>t instanceof n);let T0,S0;function dI(){return T0||(T0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pI(){return S0||(S0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rw=new WeakMap,Bd=new WeakMap,iw=new WeakMap,fd=new WeakMap,Kp=new WeakMap;function mI(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(Ri(t.result)),o()},c=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&rw.set(n,t)}).catch(()=>{}),Kp.set(e,t),e}function gI(t){if(Bd.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),o()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});Bd.set(t,e)}let Ud={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yI(t){Ud=t(Ud)}function vI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(dd(this),e,...n);return iw.set(i,e.sort?e.sort():[e]),Ri(i)}:pI().includes(t)?function(...e){return t.apply(dd(this),e),Ri(rw.get(this))}:function(...e){return Ri(t.apply(dd(this),e))}}function _I(t){return typeof t=="function"?vI(t):(t instanceof IDBTransaction&&gI(t),fI(t,dI())?new Proxy(t,Ud):t)}function Ri(t){if(t instanceof IDBRequest)return mI(t);if(fd.has(t))return fd.get(t);const e=_I(t);return e!==t&&(fd.set(t,e),Kp.set(e,t)),e}const dd=t=>Kp.get(t);function sw(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(t,e),f=Ri(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ri(c.result),p.oldVersion,p.newVersion,Ri(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const wI=["get","getKey","getAll","getAllKeys","count"],EI=["put","add","delete","clear"],pd=new Map;function x0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pd.get(e))return pd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=EI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||wI.includes(n)))return;const a=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),o&&p.done]))[0]};return pd.set(e,a),a}yI(t=>({...t,get:(e,n,i)=>x0(e,n)||t.get(e,n,i),has:(e,n)=>!!x0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function SI(t){return t.getComponent()?.type==="VERSION"}const zd="@firebase/app",I0="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new dh("@firebase/app"),xI="@firebase/app-compat",II="@firebase/analytics-compat",AI="@firebase/analytics",CI="@firebase/app-check-compat",RI="@firebase/app-check",PI="@firebase/auth",NI="@firebase/auth-compat",kI="@firebase/database",DI="@firebase/data-connect",bI="@firebase/database-compat",MI="@firebase/functions",VI="@firebase/functions-compat",OI="@firebase/installations",LI="@firebase/installations-compat",FI="@firebase/messaging",jI="@firebase/messaging-compat",BI="@firebase/performance",UI="@firebase/performance-compat",zI="@firebase/remote-config",$I="@firebase/remote-config-compat",qI="@firebase/storage",HI="@firebase/storage-compat",GI="@firebase/firestore",KI="@firebase/ai",WI="@firebase/firestore-compat",QI="firebase",YI="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]",XI={[zd]:"fire-core",[xI]:"fire-core-compat",[AI]:"fire-analytics",[II]:"fire-analytics-compat",[RI]:"fire-app-check",[CI]:"fire-app-check-compat",[PI]:"fire-auth",[NI]:"fire-auth-compat",[kI]:"fire-rtdb",[DI]:"fire-data-connect",[bI]:"fire-rtdb-compat",[MI]:"fire-fn",[VI]:"fire-fn-compat",[OI]:"fire-iid",[LI]:"fire-iid-compat",[FI]:"fire-fcm",[jI]:"fire-fcm-compat",[BI]:"fire-perf",[UI]:"fire-perf-compat",[zI]:"fire-rc",[$I]:"fire-rc-compat",[qI]:"fire-gcs",[HI]:"fire-gcs-compat",[GI]:"fire-fst",[WI]:"fire-fst-compat",[KI]:"fire-vertex","fire-js":"fire-js",[QI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new Map,ZI=new Map,qd=new Map;function A0(t,e){try{t.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sr(t){const e=t.name;if(qd.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;qd.set(e,t);for(const n of Vc.values())A0(n,t);for(const n of ZI.values())A0(n,t);return!0}function Cs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function JI(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new Vl("app","Firebase",eA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=YI;function ow(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:$d,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Pi.create("bad-app-name",{appName:String(o)});if(n||(n=ew()),!n)throw Pi.create("no-options");const a=Vc.get(o);if(a){if(vl(n,a.options)&&vl(i,a.config))return a;throw Pi.create("duplicate-app",{appName:o})}const c=new aI(o);for(const p of qd.values())c.addComponent(p);const f=new tA(n,i,c);return Vc.set(o,f),f}function Wp(t=$d){const e=Vc.get(t);if(!e&&t===$d&&ew())return ow();if(!e)throw Pi.create("no-app",{appName:t});return e}function Jn(t,e,n){let i=XI[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(c.join(" "));return}Sr(new er(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firebase-heartbeat-database",iA=1,_l="firebase-heartbeat-store";let md=null;function aw(){return md||(md=sw(rA,iA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_l)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pi.create("idb-open",{originalErrorMessage:t.message})})),md}async function sA(t){try{const n=(await aw()).transaction(_l),i=await n.objectStore(_l).get(lw(t));return await n.done,i}catch(e){if(e instanceof Li)Wr.warn(e.message);else{const n=Pi.create("idb-get",{originalErrorMessage:e?.message});Wr.warn(n.message)}}}async function C0(t,e){try{const i=(await aw()).transaction(_l,"readwrite");await i.objectStore(_l).put(e,lw(t)),await i.done}catch(n){if(n instanceof Li)Wr.warn(n.message);else{const i=Pi.create("idb-set",{originalErrorMessage:n?.message});Wr.warn(i.message)}}}function lw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=1024,aA=30;class lA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=R0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>aA){const o=hA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=R0(),{heartbeatsToSend:n,unsentEntries:i}=uA(this._heartbeatsCache.heartbeats),o=Mc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Wr.warn(e),""}}}function R0(){return new Date().toISOString().substring(0,10)}function uA(t,e=oA){const n=[];let i=t.slice();for(const o of t){const a=n.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),P0(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),P0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class cA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ml()?Gp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return C0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return C0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function P0(t){return Mc(JSON.stringify({version:2,heartbeats:t})).length}function hA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t){Sr(new er("platform-logger",e=>new TI(e),"PRIVATE")),Sr(new er("heartbeat",e=>new lA(e),"PRIVATE")),Jn(zd,I0,t),Jn(zd,I0,"esm2020"),Jn("fire-js","")}fA("");var N0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ni,uw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,A){function R(){}R.prototype=A.prototype,b.D=A.prototype,b.prototype=new R,b.prototype.constructor=b,b.C=function(M,D,V){for(var C=Array(arguments.length-2),B=2;B<arguments.length;B++)C[B-2]=arguments[B];return A.prototype[D].apply(M,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,A,R){R||(R=0);var M=Array(16);if(typeof A=="string")for(var D=0;16>D;++D)M[D]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(D=0;16>D;++D)M[D]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=b.g[0],R=b.g[1],D=b.g[2];var V=b.g[3],C=A+(V^R&(D^V))+M[0]+3614090360&4294967295;A=R+(C<<7&4294967295|C>>>25),C=V+(D^A&(R^D))+M[1]+3905402710&4294967295,V=A+(C<<12&4294967295|C>>>20),C=D+(R^V&(A^R))+M[2]+606105819&4294967295,D=V+(C<<17&4294967295|C>>>15),C=R+(A^D&(V^A))+M[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=A+(V^R&(D^V))+M[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=V+(D^A&(R^D))+M[5]+1200080426&4294967295,V=A+(C<<12&4294967295|C>>>20),C=D+(R^V&(A^R))+M[6]+2821735955&4294967295,D=V+(C<<17&4294967295|C>>>15),C=R+(A^D&(V^A))+M[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=A+(V^R&(D^V))+M[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=V+(D^A&(R^D))+M[9]+2336552879&4294967295,V=A+(C<<12&4294967295|C>>>20),C=D+(R^V&(A^R))+M[10]+4294925233&4294967295,D=V+(C<<17&4294967295|C>>>15),C=R+(A^D&(V^A))+M[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=A+(V^R&(D^V))+M[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=V+(D^A&(R^D))+M[13]+4254626195&4294967295,V=A+(C<<12&4294967295|C>>>20),C=D+(R^V&(A^R))+M[14]+2792965006&4294967295,D=V+(C<<17&4294967295|C>>>15),C=R+(A^D&(V^A))+M[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=A+(D^V&(R^D))+M[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=V+(R^D&(A^R))+M[6]+3225465664&4294967295,V=A+(C<<9&4294967295|C>>>23),C=D+(A^R&(V^A))+M[11]+643717713&4294967295,D=V+(C<<14&4294967295|C>>>18),C=R+(V^A&(D^V))+M[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=A+(D^V&(R^D))+M[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=V+(R^D&(A^R))+M[10]+38016083&4294967295,V=A+(C<<9&4294967295|C>>>23),C=D+(A^R&(V^A))+M[15]+3634488961&4294967295,D=V+(C<<14&4294967295|C>>>18),C=R+(V^A&(D^V))+M[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=A+(D^V&(R^D))+M[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=V+(R^D&(A^R))+M[14]+3275163606&4294967295,V=A+(C<<9&4294967295|C>>>23),C=D+(A^R&(V^A))+M[3]+4107603335&4294967295,D=V+(C<<14&4294967295|C>>>18),C=R+(V^A&(D^V))+M[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=A+(D^V&(R^D))+M[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=V+(R^D&(A^R))+M[2]+4243563512&4294967295,V=A+(C<<9&4294967295|C>>>23),C=D+(A^R&(V^A))+M[7]+1735328473&4294967295,D=V+(C<<14&4294967295|C>>>18),C=R+(V^A&(D^V))+M[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=A+(R^D^V)+M[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=V+(A^R^D)+M[8]+2272392833&4294967295,V=A+(C<<11&4294967295|C>>>21),C=D+(V^A^R)+M[11]+1839030562&4294967295,D=V+(C<<16&4294967295|C>>>16),C=R+(D^V^A)+M[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=A+(R^D^V)+M[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=V+(A^R^D)+M[4]+1272893353&4294967295,V=A+(C<<11&4294967295|C>>>21),C=D+(V^A^R)+M[7]+4139469664&4294967295,D=V+(C<<16&4294967295|C>>>16),C=R+(D^V^A)+M[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=A+(R^D^V)+M[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=V+(A^R^D)+M[0]+3936430074&4294967295,V=A+(C<<11&4294967295|C>>>21),C=D+(V^A^R)+M[3]+3572445317&4294967295,D=V+(C<<16&4294967295|C>>>16),C=R+(D^V^A)+M[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=A+(R^D^V)+M[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=V+(A^R^D)+M[12]+3873151461&4294967295,V=A+(C<<11&4294967295|C>>>21),C=D+(V^A^R)+M[15]+530742520&4294967295,D=V+(C<<16&4294967295|C>>>16),C=R+(D^V^A)+M[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=A+(D^(R|~V))+M[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=V+(R^(A|~D))+M[7]+1126891415&4294967295,V=A+(C<<10&4294967295|C>>>22),C=D+(A^(V|~R))+M[14]+2878612391&4294967295,D=V+(C<<15&4294967295|C>>>17),C=R+(V^(D|~A))+M[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=A+(D^(R|~V))+M[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=V+(R^(A|~D))+M[3]+2399980690&4294967295,V=A+(C<<10&4294967295|C>>>22),C=D+(A^(V|~R))+M[10]+4293915773&4294967295,D=V+(C<<15&4294967295|C>>>17),C=R+(V^(D|~A))+M[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=A+(D^(R|~V))+M[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=V+(R^(A|~D))+M[15]+4264355552&4294967295,V=A+(C<<10&4294967295|C>>>22),C=D+(A^(V|~R))+M[6]+2734768916&4294967295,D=V+(C<<15&4294967295|C>>>17),C=R+(V^(D|~A))+M[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=A+(D^(R|~V))+M[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=V+(R^(A|~D))+M[11]+3174756917&4294967295,V=A+(C<<10&4294967295|C>>>22),C=D+(A^(V|~R))+M[2]+718787259&4294967295,D=V+(C<<15&4294967295|C>>>17),C=R+(V^(D|~A))+M[9]+3951481745&4294967295,b.g[0]=b.g[0]+A&4294967295,b.g[1]=b.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+V&4294967295}i.prototype.u=function(b,A){A===void 0&&(A=b.length);for(var R=A-this.blockSize,M=this.B,D=this.h,V=0;V<A;){if(D==0)for(;V<=R;)o(this,b,V),V+=this.blockSize;if(typeof b=="string"){for(;V<A;)if(M[D++]=b.charCodeAt(V++),D==this.blockSize){o(this,M),D=0;break}}else for(;V<A;)if(M[D++]=b[V++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=A},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var A=1;A<b.length-8;++A)b[A]=0;var R=8*this.o;for(A=b.length-8;A<b.length;++A)b[A]=R&255,R/=256;for(this.u(b),b=Array(16),A=R=0;4>A;++A)for(var M=0;32>M;M+=8)b[R++]=this.g[A]>>>M&255;return b};function a(b,A){var R=f;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=A(b)}function c(b,A){this.h=A;for(var R=[],M=!0,D=b.length-1;0<=D;D--){var V=b[D]|0;M&&V==A||(R[D]=V,M=!1)}this.g=R}var f={};function p(b){return-128<=b&&128>b?a(b,function(A){return new c([A|0],0>A?-1:0)}):new c([b|0],0>b?-1:0)}function m(b){if(isNaN(b)||!isFinite(b))return w;if(0>b)return k(m(-b));for(var A=[],R=1,M=0;b>=R;M++)A[M]=b/R|0,R*=4294967296;return new c(A,0)}function v(b,A){if(b.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(b.charAt(0)=="-")return k(v(b.substring(1),A));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=m(Math.pow(A,8)),M=w,D=0;D<b.length;D+=8){var V=Math.min(8,b.length-D),C=parseInt(b.substring(D,D+V),A);8>V?(V=m(Math.pow(A,V)),M=M.j(V).add(m(C))):(M=M.j(R),M=M.add(m(C)))}return M}var w=p(0),E=p(1),x=p(16777216);t=c.prototype,t.m=function(){if(L(this))return-k(this).m();for(var b=0,A=1,R=0;R<this.g.length;R++){var M=this.i(R);b+=(0<=M?M:4294967296+M)*A,A*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(P(this))return"0";if(L(this))return"-"+k(this).toString(b);for(var A=m(Math.pow(b,6)),R=this,M="";;){var D=J(R,A).g;R=q(R,D.j(A));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(b);if(R=D,P(R))return V+M;for(;6>V.length;)V="0"+V;M=V+M}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function P(b){if(b.h!=0)return!1;for(var A=0;A<b.g.length;A++)if(b.g[A]!=0)return!1;return!0}function L(b){return b.h==-1}t.l=function(b){return b=q(this,b),L(b)?-1:P(b)?0:1};function k(b){for(var A=b.g.length,R=[],M=0;M<A;M++)R[M]=~b.g[M];return new c(R,~b.h).add(E)}t.abs=function(){return L(this)?k(this):this},t.add=function(b){for(var A=Math.max(this.g.length,b.g.length),R=[],M=0,D=0;D<=A;D++){var V=M+(this.i(D)&65535)+(b.i(D)&65535),C=(V>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);M=C>>>16,V&=65535,C&=65535,R[D]=C<<16|V}return new c(R,R[R.length-1]&-2147483648?-1:0)};function q(b,A){return b.add(k(A))}t.j=function(b){if(P(this)||P(b))return w;if(L(this))return L(b)?k(this).j(k(b)):k(k(this).j(b));if(L(b))return k(this.j(k(b)));if(0>this.l(x)&&0>b.l(x))return m(this.m()*b.m());for(var A=this.g.length+b.g.length,R=[],M=0;M<2*A;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var D=0;D<b.g.length;D++){var V=this.i(M)>>>16,C=this.i(M)&65535,B=b.i(D)>>>16,U=b.i(D)&65535;R[2*M+2*D]+=C*U,G(R,2*M+2*D),R[2*M+2*D+1]+=V*U,G(R,2*M+2*D+1),R[2*M+2*D+1]+=C*B,G(R,2*M+2*D+1),R[2*M+2*D+2]+=V*B,G(R,2*M+2*D+2)}for(M=0;M<A;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=A;M<2*A;M++)R[M]=0;return new c(R,0)};function G(b,A){for(;(b[A]&65535)!=b[A];)b[A+1]+=b[A]>>>16,b[A]&=65535,A++}function Z(b,A){this.g=b,this.h=A}function J(b,A){if(P(A))throw Error("division by zero");if(P(b))return new Z(w,w);if(L(b))return A=J(k(b),A),new Z(k(A.g),k(A.h));if(L(A))return A=J(b,k(A)),new Z(k(A.g),A.h);if(30<b.g.length){if(L(b)||L(A))throw Error("slowDivide_ only works with positive integers.");for(var R=E,M=A;0>=M.l(b);)R=ue(R),M=ue(M);var D=le(R,1),V=le(M,1);for(M=le(M,2),R=le(R,2);!P(M);){var C=V.add(M);0>=C.l(b)&&(D=D.add(R),V=C),M=le(M,1),R=le(R,1)}return A=q(b,D.j(A)),new Z(D,A)}for(D=w;0<=b.l(A);){for(R=Math.max(1,Math.floor(b.m()/A.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),V=m(R),C=V.j(A);L(C)||0<C.l(b);)R-=M,V=m(R),C=V.j(A);P(V)&&(V=E),D=D.add(V),b=q(b,C)}return new Z(D,b)}t.A=function(b){return J(this,b).h},t.and=function(b){for(var A=Math.max(this.g.length,b.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)&b.i(M);return new c(R,this.h&b.h)},t.or=function(b){for(var A=Math.max(this.g.length,b.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)|b.i(M);return new c(R,this.h|b.h)},t.xor=function(b){for(var A=Math.max(this.g.length,b.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)^b.i(M);return new c(R,this.h^b.h)};function ue(b){for(var A=b.g.length+1,R=[],M=0;M<A;M++)R[M]=b.i(M)<<1|b.i(M-1)>>>31;return new c(R,b.h)}function le(b,A){var R=A>>5;A%=32;for(var M=b.g.length-R,D=[],V=0;V<M;V++)D[V]=0<A?b.i(V+R)>>>A|b.i(V+R+1)<<32-A:b.i(V+R);return new c(D,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,uw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,Ni=c}).apply(typeof N0<"u"?N0:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cw,Za,hw,Ec,Hd,fw,dw,pw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(u,g){if(g)e:{var _=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var z=u[S];if(!(z in _))break e;_=_[z]}u=u[u.length-1],S=_[u],g=g(S),g!=S&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function a(u,g){u instanceof String&&(u+="");var _=0,S=!1,z={next:function(){if(!S&&_<u.length){var X=_++;return{value:g(X,u[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function v(u,g,_){return u.call.apply(u.bind,arguments)}function w(u,g,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),u.apply(g,z)}}return function(){return u.apply(g,arguments)}}function E(u,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,E.apply(null,arguments)}function x(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function P(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,z,X){for(var fe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)fe[qe-2]=arguments[qe];return g.prototype[z].apply(S,fe)}}function L(u){const g=u.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=u[S];return _}return[]}function k(u,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const z=u.length||0,X=S.length||0;u.length=z+X;for(let fe=0;fe<X;fe++)u[z+fe]=S[fe]}else u.push(S)}}class q{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function G(u){return/^[\s\xa0]*$/.test(u)}function Z(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function J(u){return J[" "](u),u}J[" "]=function(){};var ue=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function le(u,g,_){for(const S in u)g.call(_,u[S],S,u)}function b(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function A(u){const g={};for(const _ in u)g[_]=u[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,g){let _,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(_ in S)u[_]=S[_];for(let X=0;X<R.length;X++)_=R[X],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function D(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function V(u){f.setTimeout(()=>{throw u},0)}function C(){var u=ne;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class B{constructor(){this.h=this.g=null}add(g,_){const S=U.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var U=new q(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,Y=!1,ne=new B,ee=()=>{const u=f.Promise.resolve(void 0);re=()=>{u.then(O)}};var O=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){V(_)}var g=U;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}Y=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return u}();function Te(u,g){if(de.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ue){e:{try{J(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ce[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Te.aa.h.call(this)}}P(Te,de);var Ce={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),ke=0;function $e(u,g,_,S,z){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=z,this.key=++ke,this.da=this.fa=!1}function xt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ar(u){this.src=u,this.g={},this.h=0}Ar.prototype.add=function(u,g,_,S,z){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var fe=Xr(u,g,S,z);return-1<fe?(g=u[fe],_||(g.fa=!1)):(g=new $e(g,this.src,X,!!S,z),g.fa=_,u.push(g)),g};function ks(u,g){var _=g.type;if(_ in u.g){var S=u.g[_],z=Array.prototype.indexOf.call(S,g,void 0),X;(X=0<=z)&&Array.prototype.splice.call(S,z,1),X&&(xt(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Xr(u,g,_,S){for(var z=0;z<u.length;++z){var X=u[z];if(!X.da&&X.listener==g&&X.capture==!!_&&X.ha==S)return z}return-1}var Fi="closure_lm_"+(1e6*Math.random()|0),Ds={};function ta(u,g,_,S,z){if(Array.isArray(g)){for(var X=0;X<g.length;X++)ta(u,g[X],_,S,z);return null}return _=ia(_),u&&u[Ne]?u.K(g,_,m(S)?!!S.capture:!1,z):na(u,g,_,!1,S,z)}function na(u,g,_,S,z,X){if(!g)throw Error("Invalid event type");var fe=m(z)?!!z.capture:!!z,qe=Ms(u);if(qe||(u[Fi]=qe=new Ar(u)),_=qe.add(g,_,S,fe,X),_.proxy)return _;if(S=zl(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)_e||(z=fe),z===void 0&&(z=!1),u.addEventListener(g.toString(),S,z);else if(u.attachEvent)u.attachEvent(Rr(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function zl(){function u(_){return g.call(u.src,u.listener,_)}const g=ra;return u}function bs(u,g,_,S,z){if(Array.isArray(g))for(var X=0;X<g.length;X++)bs(u,g[X],_,S,z);else S=m(S)?!!S.capture:!!S,_=ia(_),u&&u[Ne]?(u=u.i,g=String(g).toString(),g in u.g&&(X=u.g[g],_=Xr(X,_,S,z),-1<_&&(xt(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete u.g[g],u.h--)))):u&&(u=Ms(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Xr(g,_,S,z)),(_=-1<u?g[u]:null)&&Cr(_))}function Cr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ne])ks(g.i,u);else{var _=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(_,S,u.capture):g.detachEvent?g.detachEvent(Rr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Ms(g))?(ks(_,u),_.h==0&&(_.src=null,g[Fi]=null)):xt(u)}}}function Rr(u){return u in Ds?Ds[u]:Ds[u]="on"+u}function ra(u,g){if(u.da)u=!0;else{g=new Te(g,this);var _=u.listener,S=u.ha||u.src;u.fa&&Cr(u),u=_.call(S,g)}return u}function Ms(u){return u=u[Fi],u instanceof Ar?u:null}var Vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ia(u){return typeof u=="function"?u:(u[Vs]||(u[Vs]=function(g){return u.handleEvent(g)}),u[Vs])}function yt(){Q.call(this),this.i=new Ar(this),this.M=this,this.F=null}P(yt,Q),yt.prototype[Ne]=!0,yt.prototype.removeEventListener=function(u,g,_,S){bs(this,u,g,_,S)};function vt(u,g){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new de(g,u);else if(g instanceof de)g.target=g.target||u;else{var z=g;g=new de(S,u),M(g,z)}if(z=!0,_)for(var X=_.length-1;0<=X;X--){var fe=g.g=_[X];z=Pr(fe,S,!0,g)&&z}if(fe=g.g=u,z=Pr(fe,S,!0,g)&&z,z=Pr(fe,S,!1,g)&&z,_)for(X=0;X<_.length;X++)fe=g.g=_[X],z=Pr(fe,S,!1,g)&&z}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],S=0;S<_.length;S++)xt(_[S]);delete u.g[g],u.h--}}this.F=null},yt.prototype.K=function(u,g,_,S){return this.i.add(String(u),g,!1,_,S)},yt.prototype.L=function(u,g,_,S){return this.i.add(String(u),g,!0,_,S)};function Pr(u,g,_,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,X=0;X<g.length;++X){var fe=g[X];if(fe&&!fe.da&&fe.capture==_){var qe=fe.listener,_t=fe.ha||fe.src;fe.fa&&ks(u.i,fe),z=qe.call(_t,S)!==!1&&z}}return z&&!S.defaultPrevented}function sa(u,g,_){if(typeof u=="function")_&&(u=E(u,_));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(u,g||0)}function Zr(u){u.g=sa(()=>{u.g=null,u.i&&(u.i=!1,Zr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class ji extends Q{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Zr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bi(u){Q.call(this),this.h=u,this.g={}}P(Bi,Q);var oa=[];function aa(u){le(u.g,function(g,_){this.g.hasOwnProperty(_)&&Cr(g)},u),u.g={}}Bi.prototype.N=function(){Bi.aa.N.call(this),aa(this)},Bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var la=f.JSON.stringify,ua=f.JSON.parse,ca=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ui(){}Ui.prototype.h=null;function Os(u){return u.h||(u.h=u.i())}function Ls(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){de.call(this,"d")}P(ir,de);function Fs(){de.call(this,"c")}P(Fs,de);var sr={},ha=null;function zi(){return ha=ha||new yt}sr.La="serverreachability";function fa(u){de.call(this,sr.La,u)}P(fa,de);function Nr(u){const g=zi();vt(g,new fa(g))}sr.STAT_EVENT="statevent";function da(u,g){de.call(this,sr.STAT_EVENT,u),this.stat=g}P(da,de);function ot(u){const g=zi();vt(g,new da(g,u))}sr.Ma="timingevent";function js(u,g){de.call(this,sr.Ma,u),this.size=g}P(js,de);function On(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},g)}function $i(){this.g=!0}$i.prototype.xa=function(){this.g=!1};function qi(u,g,_,S,z,X){u.info(function(){if(u.g)if(X)for(var fe="",qe=X.split("&"),_t=0;_t<qe.length;_t++){var Ve=qe[_t].split("=");if(1<Ve.length){var It=Ve[0];Ve=Ve[1];var ft=It.split("_");fe=2<=ft.length&&ft[1]=="type"?fe+(It+"="+Ve+"&"):fe+(It+"=redacted&")}}else fe=null;else fe=X;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+g+`
`+_+`
`+fe})}function Bs(u,g,_,S,z,X,fe){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+g+`
`+_+`
`+X+" "+fe})}function Ln(u,g,_,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+bh(u,_)+(S?" "+S:"")})}function pa(u,g){u.info(function(){return"TIMEOUT: "+g})}$i.prototype.info=function(){};function bh(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var X=z[0];if(X!="noop"&&X!="stop"&&X!="close")for(var fe=1;fe<z.length;fe++)z[fe]=""}}}}return la(_)}catch{return g}}var Us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$l={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function Hi(){}P(Hi,Ui),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},Fn=new Hi;function jn(u,g,_,S){this.j=u,this.i=g,this.l=_,this.R=S||1,this.U=new Bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ql}function ql(){this.i=null,this.g="",this.h=!1}var ma={},zs={};function $s(u,g,_){u.L=1,u.v=ri(hn(g)),u.m=_,u.P=!0,ga(u,null)}function ga(u,g){u.F=Date.now(),Ke(u),u.A=hn(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),si(_.i,"t",S),u.C=0,_=u.j.J,u.h=new ql,u.g=lu(u.j,_?g:null,!u.m),0<u.O&&(u.M=new ji(E(u.Y,u,u.g),u.O)),g=u.U,_=u.g,S=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(oa[0]=z.toString()),z=oa);for(var X=0;X<z.length;X++){var fe=ta(_,z[X],S||g.handleEvent,!1,g.h||g);if(!fe)break;g.g[fe.key]=fe}g=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Nr(),qi(u.i,u.u,u.A,u.l,u.R,u.m)}jn.prototype.ca=function(u){u=u.target;const g=this.M;g&&Xt(u)==3?g.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)e:{const ft=Xt(this.g);var g=this.g.Ba();const xn=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||Ta(this.g)))){this.J||ft!=4||g==7||(g==8||0>=xn?Nr(3):Nr(2)),Gi(this);var _=this.g.Z();this.X=_;t:if(Hl(this)){var S=Ta(this.g);u="";var z=S.length,X=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),Jr(this);var fe="";break t}this.h.i=new f.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(X&&g==z-1)});S.length=0,this.h.g+=u,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=_==200,Bs(this.i,this.u,this.A,this.l,this.R,ft,_),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,_t=this.g;if((qe=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(qe)){var Ve=qe;break t}}Ve=null}if(_=Ve)Ln(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ya(this,_);else{this.o=!1,this.s=3,ot(12),Tn(this),Jr(this);break e}}if(this.P){_=!0;let dn;for(;!this.J&&this.C<fe.length;)if(dn=Mh(this,fe),dn==zs){ft==4&&(this.s=4,ot(14),_=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==ma){this.s=4,ot(15),Ln(this.i,this.l,fe,"[Invalid Chunk]"),_=!1;break}else Ln(this.i,this.l,dn,null),ya(this,dn);if(Hl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||fe.length!=0||this.h.h||(this.s=1,ot(16),_=!1),this.o=this.o&&_,!_)Ln(this.i,this.l,fe,"[Invalid Chunked Response]"),Tn(this),Jr(this);else if(0<fe.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),xa(It),It.M=!0,ot(11))}}else Ln(this.i,this.l,fe,null),ya(this,fe);ft==4&&Tn(this),this.o&&!this.J&&(ft==4?eo(this.j,this):(this.o=!1,Ke(this)))}else Qs(this.g),_==400&&0<fe.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Tn(this),Jr(this)}}}catch{}finally{}};function Hl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Mh(u,g){var _=u.C,S=g.indexOf(`
`,_);return S==-1?zs:(_=Number(g.substring(_,S)),isNaN(_)?ma:(S+=1,S+_>g.length?zs:(g=g.slice(S,S+_),u.C=S+_,g)))}jn.prototype.cancel=function(){this.J=!0,Tn(this)};function Ke(u){u.S=Date.now()+u.I,Gl(u,u.I)}function Gl(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=On(E(u.ba,u),g)}function Gi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}jn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(pa(this.i,this.A),this.L!=2&&(Nr(),ot(17)),Tn(this),this.s=2,Jr(this)):Gl(this,this.S-u)};function Jr(u){u.j.G==0||u.J||eo(u.j,u)}function Tn(u){Gi(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,aa(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function ya(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||qt(_.h,u))){if(!u.K&&qt(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Js(_),qn(_);else break e;Zs(_),ot(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=On(E(_.Za,_),6e3));if(1>=Wl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vr(_,11)}else if((u.K||_.g==u)&&Js(_),!G(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let Ve=z[g];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const It=Ve[3];It!=null&&(_.la=It,_.j.info("VER="+_.la));const ft=Ve[4];ft!=null&&(_.Aa=ft,_.j.info("SVER="+_.Aa));const xn=Ve[5];xn!=null&&typeof xn=="number"&&0<xn&&(S=1.5*xn,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const dn=u.g;if(dn){const Ji=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ji){var X=S.h;X.g||Ji.indexOf("spdy")==-1&&Ji.indexOf("quic")==-1&&Ji.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(va(X,X.h),X.h=null))}if(S.D){const no=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;no&&(S.ya=no,He(S.I,S.D,no))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var fe=u;if(S.qa=au(S,S.J?S.ia:null,S.W),fe.K){Ql(S.h,fe);var qe=fe,_t=S.L;_t&&(qe.I=_t),qe.B&&(Gi(qe),Ke(qe)),S.g=fe}else Zi(S);0<_.i.length&&ur(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Vr(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Vr(_,7):kt(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}Nr(4)}catch{}}var Kl=class{constructor(u,g){this.g=u,this.map=g}};function Ki(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Wl(u){return u.h?1:u.g?u.g.size:0}function qt(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function va(u,g){u.g?u.g.add(g):u.h=g}function Ql(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Ki.prototype.cancel=function(){if(this.i=Yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Yl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return L(u.i)}function qs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],_=u.length,S=0;S<_;S++)g.push(u[S]);return g}g=[],_=0;for(S in u)g[_++]=u[S];return g}function Hs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const S in u)g[_++]=S;return g}}}function ei(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Hs(u),S=qs(u),z=S.length,X=0;X<z;X++)g.call(void 0,S[X],_&&_[X],u)}var Wi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vh(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),z=null;if(0<=S){var X=u[_].substring(0,S);z=u[_].substring(S+1)}else X=u[_];g(X,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function kr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof kr){this.h=u.h,Qi(this,u.j),this.o=u.o,this.g=u.g,ti(this,u.s),this.l=u.l;var g=u.i,_=new or;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ni(this,_),this.m=u.m}else u&&(g=String(u).match(Wi))?(this.h=!1,Qi(this,g[1]||"",!0),this.o=be(g[2]||""),this.g=be(g[3]||"",!0),ti(this,g[4]),this.l=be(g[5]||"",!0),ni(this,g[6]||"",!0),this.m=be(g[7]||"")):(this.h=!1,this.i=new or(null,this.h))}kr.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ii(g,Gs,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ii(g,Gs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ii(_,_.charAt(0)=="/"?Jl:Zl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ii(_,_a)),u.join("")};function hn(u){return new kr(u)}function Qi(u,g,_){u.j=_?be(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ti(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function ni(u,g,_){g instanceof or?(u.i=g,ar(u.i,u.h)):(_||(g=ii(g,eu)),u.i=new or(g,u.h))}function He(u,g,_){u.i.set(g,_)}function ri(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function be(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ii(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Xl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Xl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gs=/[#\/\?@]/g,Zl=/[#\?:]/g,Jl=/[#\?]/g,eu=/[#\?@]/g,_a=/#/g;function or(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Nt(u){u.g||(u.g=new Map,u.h=0,u.i&&Vh(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=or.prototype,t.add=function(u,g){Nt(this),this.i=null,u=Sn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Bn(u,g){Nt(u),g=Sn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Un(u,g){return Nt(u),g=Sn(u,g),u.g.has(g)}t.forEach=function(u,g){Nt(this),this.g.forEach(function(_,S){_.forEach(function(z){u.call(g,z,S,this)},this)},this)},t.na=function(){Nt(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const z=u[S];for(let X=0;X<z.length;X++)_.push(g[S])}return _},t.V=function(u){Nt(this);let g=[];if(typeof u=="string")Un(this,u)&&(g=g.concat(this.g.get(Sn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},t.set=function(u,g){return Nt(this),this.i=null,u=Sn(this,u),Un(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function si(u,g,_){Bn(u,g),0<_.length&&(u.i=null,u.g.set(Sn(u,g),L(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const X=encodeURIComponent(String(S)),fe=this.V(S);for(S=0;S<fe.length;S++){var z=X;fe[S]!==""&&(z+="="+encodeURIComponent(String(fe[S]))),u.push(z)}}return this.i=u.join("&")};function Sn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function ar(u,g){g&&!u.j&&(Nt(u),u.i=null,u.g.forEach(function(_,S){var z=S.toLowerCase();S!=z&&(Bn(this,S),si(this,z,_))},u)),u.j=g}function Oh(u,g){const _=new $i;if(f.Image){const S=new Image;S.onload=x(Yt,_,"TestLoadImage: loaded",!0,g,S),S.onerror=x(Yt,_,"TestLoadImage: error",!1,g,S),S.onabort=x(Yt,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=x(Yt,_,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function tu(u,g){const _=new $i,S=new AbortController,z=setTimeout(()=>{S.abort(),Yt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(X=>{clearTimeout(z),X.ok?Yt(_,"TestPingServer: ok",!0,g):Yt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Yt(_,"TestPingServer: error",!1,g)})}function Yt(u,g,_,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(_)}catch{}}function Lh(){this.g=new ca}function nu(u,g,_){const S=_||"";try{ei(u,function(z,X){let fe=z;m(z)&&(fe=la(z)),g.push(S+X+"="+encodeURIComponent(fe))})}catch(z){throw g.push(S+"type="+encodeURIComponent("_badmap")),z}}function Dr(u){this.l=u.Ub||null,this.j=u.eb||!1}P(Dr,Ui),Dr.prototype.g=function(){return new Yi(this.l,this.j)},Dr.prototype.i=function(u){return function(){return u}}({});function Yi(u,g){yt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Yi,yt),t=Yi.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,$n(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ru(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ru(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?zn(this):$n(this),this.readyState==3&&ru(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,zn(this))},t.Qa=function(u){this.g&&(this.response=u,zn(this))},t.ga=function(){this.g&&zn(this)};function zn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$n(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function br(u){let g="";return le(u,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function oi(u,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=br(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):He(u,g,_))}function Xe(u){yt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Xe,yt);var Fh=/^https?$/i,wa=["POST","PUT"];t=Xe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?Os(this.o):Os(Fn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(X){Xi(this,X);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)_.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())_.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),z=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(wa,g,void 0))||S||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,fe]of _)this.g.setRequestHeader(X,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ws(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){Xi(this,X)}};function Xi(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Ks(u),fn(u)}function Ks(u){u.A||(u.A=!0,vt(u,"complete"),vt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,vt(this,"complete"),vt(this,"abort"),fn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},t.bb=function(){Ea(this)};function Ea(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Xt(u)!=4||u.Z()!=2)){if(u.u&&Xt(u)==4)sa(u.Ea,0,u);else if(vt(u,"readystatechange"),Xt(u)==4){u.h=!1;try{const fe=u.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=fe===0){var z=String(u.D).match(Wi)[1]||null;!z&&f.self&&f.self.location&&(z=f.self.location.protocol.slice(0,-1)),S=!Fh.test(z?z.toLowerCase():"")}_=S}if(_)vt(u,"complete"),vt(u,"success");else{u.m=6;try{var X=2<Xt(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",Ks(u)}}finally{fn(u)}}}}function fn(u,g){if(u.g){Ws(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||vt(u,"ready");try{_.onreadystatechange=S}catch{}}}function Ws(u){u.I&&(f.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Xt(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),ua(g)}};function Ta(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qs(u){const g={};u=(u.g&&2<=Xt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(G(u[S]))continue;var _=D(u[S]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=g[z]||[];g[z]=X,X.push(_)}b(g,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Sa(u){this.Aa=0,this.i=[],this.j=new $i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lr("baseRetryDelayMs",5e3,u),this.cb=lr("retryDelaySeedMs",1e4,u),this.Wa=lr("forwardChannelMaxRetries",2,u),this.wa=lr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(u&&u.concurrentRequestLimit),this.Da=new Lh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sa.prototype,t.la=8,t.G=1,t.connect=function(u,g,_,S){ot(0),this.W=u,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=au(this,null,this.W),ur(this)};function kt(u){if(Ys(u),u.G==3){var g=u.U++,_=hn(u.I);if(He(_,"SID",u.K),He(_,"RID",g),He(_,"TYPE","terminate"),Mr(u,_),g=new jn(u,u.j,g),g.L=2,g.v=ri(hn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.v,_=!0),_||(g.g=lu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ke(g)}ou(u)}function qn(u){u.g&&(xa(u),u.g.cancel(),u.g=null)}function Ys(u){qn(u),u.u&&(f.clearTimeout(u.u),u.u=null),Js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function ur(u){if(!cn(u.h)&&!u.s){u.s=!0;var g=u.Ga;re||ee(),Y||(re(),Y=!0),ne.add(g,u),u.B=0}}function jh(u,g){return Wl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=On(E(u.Ga,u,g),su(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new jn(this,this.j,u);let X=this.o;if(this.S&&(X?(X=A(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(z.H=X,X=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ai(this,z,g),_=hn(this.I),He(_,"RID",u),He(_,"CVER",22),this.D&&He(_,"X-HTTP-Session-Id",this.D),Mr(this,_),X&&(this.O?g="headers="+encodeURIComponent(String(br(X)))+"&"+g:this.m&&oi(_,this.m,X)),va(this.h,z),this.Ua&&He(_,"TYPE","init"),this.P?(He(_,"$req",g),He(_,"SID","null"),z.T=!0,$s(z,_,null)):$s(z,_,g),this.G=2}}else this.G==3&&(u?Xs(this,u):this.i.length==0||cn(this.h)||Xs(this))};function Xs(u,g){var _;g?_=g.l:_=u.U++;const S=hn(u.I);He(S,"SID",u.K),He(S,"RID",_),He(S,"AID",u.T),Mr(u,S),u.m&&u.o&&oi(S,u.m,u.o),_=new jn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=ai(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),va(u.h,_),$s(_,S,g)}function Mr(u,g){u.H&&le(u.H,function(_,S){He(g,S,_)}),u.l&&ei({},function(_,S){He(g,S,_)})}function ai(u,g,_){_=Math.min(u.i.length,_);var S=u.l?E(u.l.Na,u.l,u):null;e:{var z=u.i;let X=-1;for(;;){const fe=["count="+_];X==-1?0<_?(X=z[0].g,fe.push("ofs="+X)):X=0:fe.push("ofs="+X);let qe=!0;for(let _t=0;_t<_;_t++){let Ve=z[_t].g;const It=z[_t].map;if(Ve-=X,0>Ve)X=Math.max(0,z[_t].g-100),qe=!1;else try{nu(It,fe,"req"+Ve+"_")}catch{S&&S(It)}}if(qe){S=fe.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,S}function Zi(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;re||ee(),Y||(re(),Y=!0),ne.add(g,u),u.v=0}}function Zs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=On(E(u.Fa,u),su(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=On(E(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),qn(this),iu(this))};function xa(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function iu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=hn(u.qa);He(g,"RID","rpc"),He(g,"SID",u.K),He(g,"AID",u.T),He(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(g,"TO",u.ja),He(g,"TYPE","xmlhttp"),Mr(u,g),u.m&&u.o&&oi(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ri(hn(g)),_.m=null,_.P=!0,ga(_,u)}t.Za=function(){this.C!=null&&(this.C=null,qn(this),Zs(this),ot(19))};function Js(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function eo(u,g){var _=null;if(u.g==g){Js(u),xa(u),u.g=null;var S=2}else if(qt(u.h,g))_=g.D,Ql(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=u.B;S=zi(),vt(S,new js(S,_)),ur(u)}else Zi(u);else if(z=g.s,z==3||z==0&&0<g.X||!(S==1&&jh(u,g)||S==2&&Zs(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),z){case 1:Vr(u,5);break;case 4:Vr(u,10);break;case 3:Vr(u,6);break;default:Vr(u,2)}}}function su(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Vr(u,g){if(u.j.info("Error code "+g),g==2){var _=E(u.fb,u),S=u.Xa;const z=!S;S=new kr(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Qi(S,"https"),ri(S),z?Oh(S.toString(),_):tu(S.toString(),_)}else ot(2);u.G=0,u.l&&u.l.sa(g),ou(u),Ys(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function ou(u){if(u.G=0,u.ka=[],u.l){const g=Yl(u.h);(g.length!=0||u.i.length!=0)&&(k(u.ka,g),k(u.ka,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.ra()}}function au(u,g,_){var S=_ instanceof kr?hn(_):new kr(_);if(S.g!="")g&&(S.g=g+"."+S.g),ti(S,S.s);else{var z=f.location;S=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var X=new kr(null);S&&Qi(X,S),g&&(X.g=g),z&&ti(X,z),_&&(X.l=_),S=X}return _=u.D,g=u.ya,_&&g&&He(S,_,g),He(S,"VER",u.la),Mr(u,S),S}function lu(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Xe(new Dr({eb:_})):new Xe(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ia(){}t=Ia.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function to(){}to.prototype.g=function(u,g){return new Ht(u,g)};function Ht(u,g){yt.call(this),this.g=new Sa(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!G(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!G(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new cr(this)}P(Ht,yt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){kt(this.g)},Ht.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=la(u),u=_);g.i.push(new Kl(g.Ya++,u)),g.G==3&&ur(g)},Ht.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,Ht.aa.N.call(this)};function uu(u){ir.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}P(uu,ir);function cu(){Fs.call(this),this.status=1}P(cu,Fs);function cr(u){this.g=u}P(cr,Ia),cr.prototype.ua=function(){vt(this.g,"a")},cr.prototype.ta=function(u){vt(this.g,new uu(u))},cr.prototype.sa=function(u){vt(this.g,new cu)},cr.prototype.ra=function(){vt(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,pw=function(){return new to},dw=function(){return zi()},fw=sr,Hd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,Ec=Us,$l.COMPLETE="complete",hw=$l,Ls.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Za=Ls,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,cw=Xe}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const k0="@firebase/firestore",D0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new dh("@firebase/firestore");function xo(){return Es.logLevel}function me(t,...e){if(Es.logLevel<=Le.DEBUG){const n=e.map(Qp);Es.debug(`Firestore (${Qo}): ${t}`,...n)}}function Qr(t,...e){if(Es.logLevel<=Le.ERROR){const n=e.map(Qp);Es.error(`Firestore (${Qo}): ${t}`,...n)}}function Fo(t,...e){if(Es.logLevel<=Le.WARN){const n=e.map(Qp);Es.warn(`Firestore (${Qo}): ${t}`,...n)}}function Qp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,mw(t,i,n)}function mw(t,e,n){let i=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Qr(i),new Error(i)}function it(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||mw(e,o,i)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class pA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mA{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let a=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ys,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ys)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(it(typeof i.accessToken=="string",31837,{l:i}),new gw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new Ut(e)}}class gA{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yA{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new gA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,JI(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const i=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new b0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=_A(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%62))}return i}}function Me(t,e){return t<e?-1:t>e?1:0}function Gd(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),a=e.charAt(i);if(o!==a)return gd(o)===gd(a)?Me(o,a):gd(o)?1:-1}return Me(t.length,e.length)}const wA=55296,EA=57343;function gd(t){const e=t.charCodeAt(0);return e>=wA&&e<=EA}function jo(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="__name__";class mr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Pe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=mr.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Me(e.length,n.length)}static compareSegments(e,n){const i=mr.isNumericId(e),o=mr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?mr.extractNumericId(e).compare(mr.extractNumericId(n)):Gd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ni.fromString(e.substring(4,e.length-2))}}class Je extends mr{construct(e,n,i){return new Je(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const TA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends mr{construct(e,n,i){return new $t(e,n,i)}static isValidIdentifier(e){return TA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M0}static keyField(){return new $t([M0])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ye(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ye(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(a(),o++)}if(a(),c)throw new ye(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Je.fromString(e))}static fromName(e){return new Ie(Je.fromString(e).popFirst(5))}static empty(){return new Ie(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Je(e.slice()))}}function SA(t,e,n,i){if(e===!0&&i===!0)throw new ye(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function V0(t){if(Ie.isDocumentKey(t))throw new ye(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ph(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe(12329,{type:typeof t})}function Kd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ph(t);throw new ye(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ol(t,e){if(!vw(t))throw new ye(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(o&&typeof c!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(a!==void 0&&c!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new ye(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=-62135596800,L0=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*L0);return new et(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<O0)throw new ye(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L0}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ol(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-O0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:gt("string",et._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new et(0,0))}static max(){return new Re(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=-1;function xA(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(i===1e9?new et(n+1,0):new et(n,i));return new ki(o,Ie.empty(),e)}function IA(t){return new ki(t.readTime,t.key,wl)}class ki{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ki(Re.min(),Ie.empty(),wl)}static max(){return new ki(Re.max(),Ie.empty(),wl)}}function AA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==CA)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,i)=>{n(e)})}static reject(e){return new te((n,i)=>{i(e)})}static waitFor(e){return new te((n,i)=>{let o=0,a=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++a,c&&a===o&&n()},p=>i(p))}),c=!0,a===o&&n()})}static or(e){let n=te.resolve(!1);for(const i of e)n=n.next(o=>o?te.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,a)=>{i.push(n.call(this,o,a))}),this.waitFor(i)}static mapArray(e,n){return new te((i,o)=>{const a=e.length,c=new Array(a);let f=0;for(let p=0;p<a;p++){const m=p;n(e[m]).next(v=>{c[m]=v,++f,f===a&&i(c)},v=>o(v))}})}static doWhile(e,n){return new te((i,o)=>{const a=()=>{e()===!0?n().next(()=>{a()},o):i()};a()})}}function PA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=-1;function yh(t){return t==null}function Oc(t){return t===0&&1/t==-1/0}function kA(t){return typeof t=="number"&&Number.isInteger(t)&&!Oc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="";function DA(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=F0(e)),e=bA(t.get(n),e);return F0(e)}function bA(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case _w:n+="";break;default:n+=a}}return n}function F0(t){return t+_w+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ww(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Mt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oc(this.root,e,this.comparator,!0)}}class oc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??Mt.RED,this.left=o??Mt.EMPTY,this.right=a??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new Mt(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Mt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,i,o,a){return this}insert(e,n,i){return new Mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new B0(this.data.getIterator())}getIteratorFrom(e){return new B0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class B0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Ii([])}unionWith(e){let n=new Tt($t.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ii(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Ew("Invalid base64 string: "+a):a}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const MA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(it(!!t,39018),typeof t=="string"){let e=0;const n=MA.exec(t);if(it(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bi(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="server_timestamp",Sw="__type__",xw="__previous_value__",Iw="__local_write_time__";function Yp(t){return(t?.mapValue?.fields||{})[Sw]?.stringValue===Tw}function vh(t){const e=t.mapValue.fields[xw];return Yp(e)?vh(e):e}function El(t){const e=Di(t.mapValue.fields[Iw].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n,i,o,a,c,f,p,m,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=v}}const Lc="(default)";class Tl{constructor(e,n){this.projectId=e,this.database=n||Lc}static empty(){return new Tl("","")}get isDefaultDatabase(){return this.database===Lc}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="__type__",OA="__max__",ac={mapValue:{}},Cw="__vector__",Fc="value";function Mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yp(t)?4:FA(t)?9007199254740991:LA(t)?10:11:Pe(28295,{value:t})}function xr(t,e){if(t===e)return!0;const n=Mi(t);if(n!==Mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return El(t).isEqual(El(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Di(o.timestampValue),f=Di(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,a){return bi(o.bytesValue).isEqual(bi(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,a){return lt(o.geoPointValue.latitude)===lt(a.geoPointValue.latitude)&&lt(o.geoPointValue.longitude)===lt(a.geoPointValue.longitude)}(t,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return lt(o.integerValue)===lt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=lt(o.doubleValue),f=lt(a.doubleValue);return c===f?Oc(c)===Oc(f):isNaN(c)&&isNaN(f)}return!1}(t,e);case 9:return jo(t.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},f=a.mapValue.fields||{};if(j0(c)!==j0(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!xr(c[p],f[p])))return!1;return!0}(t,e);default:return Pe(52216,{left:t})}}function Sl(t,e){return(t.values||[]).find(n=>xr(n,e))!==void 0}function Bo(t,e){if(t===e)return 0;const n=Mi(t),i=Mi(e);if(n!==i)return Me(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(a,c){const f=lt(a.integerValue||a.doubleValue),p=lt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(t,e);case 3:return U0(t.timestampValue,e.timestampValue);case 4:return U0(El(t),El(e));case 5:return Gd(t.stringValue,e.stringValue);case 6:return function(a,c){const f=bi(a),p=bi(c);return f.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const v=Me(f[m],p[m]);if(v!==0)return v}return Me(f.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,c){const f=Me(lt(a.latitude),lt(c.latitude));return f!==0?f:Me(lt(a.longitude),lt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return z0(t.arrayValue,e.arrayValue);case 10:return function(a,c){const f=a.fields||{},p=c.fields||{},m=f[Fc]?.arrayValue,v=p[Fc]?.arrayValue,w=Me(m?.values?.length||0,v?.values?.length||0);return w!==0?w:z0(m,v)}(t.mapValue,e.mapValue);case 11:return function(a,c){if(a===ac.mapValue&&c===ac.mapValue)return 0;if(a===ac.mapValue)return 1;if(c===ac.mapValue)return-1;const f=a.fields||{},p=Object.keys(f),m=c.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const E=Gd(p[w],v[w]);if(E!==0)return E;const x=Bo(f[p[w]],m[v[w]]);if(x!==0)return x}return Me(p.length,v.length)}(t.mapValue,e.mapValue);default:throw Pe(23264,{he:n})}}function U0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Di(t),i=Di(e),o=Me(n.seconds,i.seconds);return o!==0?o:Me(n.nanos,i.nanos)}function z0(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=Bo(n[o],i[o]);if(a)return a}return Me(n.length,i.length)}function Uo(t){return Wd(t)}function Wd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Di(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=Wd(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Wd(n.fields[c])}`;return o+"}"}(t.mapValue):Pe(61005,{value:t})}function Tc(t){switch(Mi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(t);return e?16+Tc(e):16;case 5:return 2*t.stringValue.length;case 6:return bi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Tc(a),0)}(t.arrayValue);case 10:case 11:return function(i){let o=0;return Xo(i.fields,(a,c)=>{o+=a.length+Tc(c)}),o}(t.mapValue);default:throw Pe(13486,{value:t})}}function $0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qd(t){return!!t&&"integerValue"in t}function Xp(t){return!!t&&"arrayValue"in t}function q0(t){return!!t&&"nullValue"in t}function H0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yd(t){return!!t&&"mapValue"in t}function LA(t){return(t?.mapValue?.fields||{})[Aw]?.stringValue===Cw}function ul(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ul(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ul(t.arrayValue.values[n]);return e}return{...t}}function FA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===OA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!yd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(n)}setAll(e){let n=$t.emptyPath(),i={},o=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=f.popLast()}c?i[f.lastSegment()]=ul(c):o.push(f.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());yd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];yd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Xo(n,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new gr(ul(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,i,o,a,c,f){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new zt(e,0,Re.min(),Re.min(),Re.min(),gr.empty(),0)}static newFoundDocument(e,n,i,o){return new zt(e,1,n,Re.min(),i,o,0)}static newNoDocument(e,n){return new zt(e,2,n,Re.min(),Re.min(),gr.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,Re.min(),Re.min(),gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.position=e,this.inclusive=n}}function G0(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],c=t.position[o];if(a.field.isKeyField()?i=Ie.comparator(Ie.fromName(c.referenceValue),n.key):i=Bo(c,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function K0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n="asc"){this.field=e,this.dir=n}}function jA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{}class mt extends Rw{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new UA(e,n,i):n==="array-contains"?new qA(e,i):n==="in"?new HA(e,i):n==="not-in"?new GA(e,i):n==="array-contains-any"?new KA(e,i):new mt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new zA(e,i):new $A(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bo(n,this.value)):n!==null&&Mi(this.value)===Mi(n)&&this.matchesComparison(Bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends Rw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new tr(e,n)}matches(e){return Pw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Pw(t){return t.op==="and"}function Nw(t){return BA(t)&&Pw(t)}function BA(t){for(const e of t.filters)if(e instanceof tr)return!1;return!0}function Yd(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+Uo(t.value);if(Nw(t))return t.filters.map(e=>Yd(e)).join(",");{const e=t.filters.map(n=>Yd(n)).join(",");return`${t.op}(${e})`}}function kw(t,e){return t instanceof mt?function(i,o){return o instanceof mt&&i.op===o.op&&i.field.isEqual(o.field)&&xr(i.value,o.value)}(t,e):t instanceof tr?function(i,o){return o instanceof tr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,f)=>a&&kw(c,o.filters[f]),!0):!1}(t,e):void Pe(19439)}function Dw(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Uo(n.value)}`}(t):t instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map(Dw).join(" ,")+"}"}(t):"Filter"}class UA extends mt{constructor(e,n,i){super(e,n,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class zA extends mt{constructor(e,n){super(e,"in",n),this.keys=bw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $A extends mt{constructor(e,n){super(e,"not-in",n),this.keys=bw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bw(t,e){return(e.arrayValue?.values||[]).map(n=>Ie.fromName(n.referenceValue))}class qA extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xp(n)&&Sl(n.arrayValue,this.value)}}class HA extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sl(this.value.arrayValue,n)}}class GA extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sl(this.value.arrayValue,n)}}class KA extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Sl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n=null,i=[],o=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=f,this.Te=null}}function W0(t,e=null,n=[],i=[],o=null,a=null,c=null){return new WA(t,e,n,i,o,a,c)}function Zp(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Yd(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Uo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Uo(i)).join(",")),e.Te=n}return e.Te}function Jp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!K0(t.startAt,e.startAt)&&K0(t.endAt,e.endAt)}function Xd(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n=null,i=[],o=[],a=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QA(t,e,n,i,o,a,c,f){return new Zo(t,e,n,i,o,a,c,f)}function Mw(t){return new Zo(t)}function Q0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Vw(t){return t.collectionGroup!==null}function cl(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Tt($t.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new xl(a,i))}),n.has($t.keyField().canonicalString())||e.Ie.push(new xl($t.keyField(),i))}return e.Ie}function _r(t){const e=Fe(t);return e.Ee||(e.Ee=YA(e,cl(t))),e.Ee}function YA(t,e){if(t.limitType==="F")return W0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new xl(o.field,a)});const n=t.endAt?new jc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new jc(t.startAt.position,t.startAt.inclusive):null;return W0(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Zd(t,e){const n=t.filters.concat([e]);return new Zo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jd(t,e,n){return new Zo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _h(t,e){return Jp(_r(t),_r(e))&&t.limitType===e.limitType}function Ow(t){return`${Zp(_r(t))}|lt:${t.limitType}`}function Io(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>Dw(o)).join(", ")}]`),yh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>Uo(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>Uo(o)).join(",")),`Target(${i})`}(_r(t))}; limitType=${t.limitType})`}function wh(t,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ie.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(t,e)&&function(i,o){for(const a of cl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(c,f,p){const m=G0(c,f,p);return c.inclusive?m<=0:m<0}(i.startAt,cl(i),o)||i.endAt&&!function(c,f,p){const m=G0(c,f,p);return c.inclusive?m>=0:m>0}(i.endAt,cl(i),o))}(t,e)}function XA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Lw(t){return(e,n)=>{let i=!1;for(const o of cl(t)){const a=ZA(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function ZA(t,e,n){const i=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(a,c,f){const p=c.data.field(a),m=f.data.field(a);return p!==null&&m!==null?Bo(p,m):Pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(n,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return ww(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new ht(Ie.comparator);function Vi(){return JA}const Fw=new ht(Ie.comparator);function Ja(...t){let e=Fw;for(const n of t)e=e.insert(n.key,n);return e}function eC(t){let e=Fw;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ps(){return hl()}function jw(){return hl()}function hl(){return new Rs(t=>t.toString(),(t,e)=>t.isEqual(e))}const tC=new Tt(Ie.comparator);function Ue(...t){let e=tC;for(const n of t)e=e.add(n);return e}const nC=new Tt(Me);function rC(){return nC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oc(e)?"-0":e}}function Bw(t){return{integerValue:""+t}}function iC(t,e){return kA(e)?Bw(e):em(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this._=void 0}}function sC(t,e,n){return t instanceof ep?function(o,a){const c={fields:{[Sw]:{stringValue:Tw},[Iw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Yp(a)&&(a=vh(a)),a&&(c.fields[xw]=a),{mapValue:c}}(n,e):t instanceof Bc?Uw(t,e):t instanceof Uc?zw(t,e):function(o,a){const c=aC(o,a),f=Y0(c)+Y0(o.Ae);return Qd(c)&&Qd(o.Ae)?Bw(f):em(o.serializer,f)}(t,e)}function oC(t,e,n){return t instanceof Bc?Uw(t,e):t instanceof Uc?zw(t,e):n}function aC(t,e){return t instanceof tp?function(i){return Qd(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class ep extends Eh{}class Bc extends Eh{constructor(e){super(),this.elements=e}}function Uw(t,e){const n=$w(e);for(const i of t.elements)n.some(o=>xr(o,i))||n.push(i);return{arrayValue:{values:n}}}class Uc extends Eh{constructor(e){super(),this.elements=e}}function zw(t,e){let n=$w(e);for(const i of t.elements)n=n.filter(o=>!xr(o,i));return{arrayValue:{values:n}}}class tp extends Eh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Y0(t){return lt(t.integerValue||t.doubleValue)}function $w(t){return Xp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lC(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof Bc&&o instanceof Bc||i instanceof Uc&&o instanceof Uc?jo(i.elements,o.elements,xr):i instanceof tp&&o instanceof tp?xr(i.Ae,o.Ae):i instanceof ep&&o instanceof ep}(t.transform,e.transform)}class vs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vs}static exists(e){return new vs(void 0,e)}static updateTime(e){return new vs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tm{}function qw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cC(t.key,vs.none()):new nm(t.key,t.data,vs.none());{const n=t.data,i=gr.empty();let o=new Tt($t.comparator);for(let a of e.fields)if(!o.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new Th(t.key,i,new Ii(o.toArray()),vs.none())}}function uC(t,e,n){t instanceof nm?function(o,a,c){const f=o.value.clone(),p=Z0(o.fieldTransforms,a,c.transformResults);f.setAll(p),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):t instanceof Th?function(o,a,c){if(!Sc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const f=Z0(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(Hw(o)),p.setAll(f),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function fl(t,e,n,i){return t instanceof nm?function(a,c,f,p){if(!Sc(a.precondition,c))return f;const m=a.value.clone(),v=J0(a.fieldTransforms,p,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof Th?function(a,c,f,p){if(!Sc(a.precondition,c))return f;const m=J0(a.fieldTransforms,p,c),v=c.data;return v.setAll(Hw(a)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(t,e,n,i):function(a,c,f){return Sc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(t,e,n)}function X0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&jo(i,o,(a,c)=>lC(a,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nm extends tm{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Th extends tm{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Hw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Z0(t,e,n){const i=new Map;it(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],c=a.transform,f=e.data.field(a.field);i.set(a.field,oC(c,f,n[o]))}return i}function J0(t,e,n){const i=new Map;for(const o of t){const a=o.transform,c=n.data.field(o.field);i.set(o.field,sC(a,c,e))}return i}class cC extends tm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&uC(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=fl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=fl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=jw();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=n.has(o.key)?null:f;const p=qw(c,f);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(n,i)=>X0(n,i))&&jo(this.baseMutations,e.baseMutations,(n,i)=>X0(n,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Oe;function Gw(t){if(t===void 0)return Qr("GRPC error has no .code"),ce.UNKNOWN;switch(t){case pt.OK:return ce.OK;case pt.CANCELLED:return ce.CANCELLED;case pt.UNKNOWN:return ce.UNKNOWN;case pt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case pt.INTERNAL:return ce.INTERNAL;case pt.UNAVAILABLE:return ce.UNAVAILABLE;case pt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case pt.NOT_FOUND:return ce.NOT_FOUND;case pt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case pt.ABORTED:return ce.ABORTED;case pt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case pt.DATA_LOSS:return ce.DATA_LOSS;default:return Pe(39323,{code:t})}}(Oe=pt||(pt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Ni([4294967295,4294967295],0);function ev(t){const e=pC().encode(t),n=new uw;return n.update(e),new Uint8Array(n.digest())}function tv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ni([n,i],0),new Ni([o,a],0)]}class rm{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new el(`Invalid padding: ${n}`);if(i<0)throw new el(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new el(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new el(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ni.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Ni.fromNumber(i)));return o.compare(mC)===1&&(o=new Ni([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ev(e),[i,o]=tv(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(i,o,a);if(!this.we(c))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new rm(a,o,n);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.ge===0)return;const n=ev(e),[i,o]=tv(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(i,o,a);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class el extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Ll.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Sh(Re.min(),o,new ht(Me),Vi(),Ue())}}class Ll{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ll(i,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class Kw{constructor(e,n){this.targetId=e,this.Ce=n}}class Ww{constructor(e,n,i=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class nv{constructor(){this.ve=0,this.Fe=rv(),this.Me=Vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),i=Ue();return this.Fe.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Pe(38017,{changeType:a})}}),new Ll(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=rv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vi(),this.Je=lc(),this.He=lc(),this.Ye=new ht(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(Xd(a))if(i===0){const c=new Ie(a.path);this.et(n,c,zt.newNoDocument(c,Re.min()))}else it(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const f=this.ut(e),p=f?this.ct(f,e,c):1;if(p!==0){this.it(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let c,f;try{c=bi(i).toUint8Array()}catch(p){if(p instanceof Ew)return Fo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new rm(c,o,a)}catch(p){return Fo(p instanceof el?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach(a=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.et(n,a,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((a,c)=>{const f=this.ot(c);if(f){if(a.current&&Xd(f.target)){const p=new Ie(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,zt.newNoDocument(p,e))}a.Be&&(n.set(c,a.ke()),a.qe())}});let i=Ue();this.He.forEach((a,c)=>{let f=!0;c.forEachWhile(p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(a))}),this.je.forEach((a,c)=>c.setReadTime(e));const o=new Sh(e,n,this.Ye,this.je,i);return this.je=Vi(),this.Je=lc(),this.He=lc(),this.Ye=new ht(Me),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new nv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lc(){return new ht(Ie.comparator)}function rv(){return new ht(Ie.comparator)}const yC={asc:"ASCENDING",desc:"DESCENDING"},vC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_C={and:"AND",or:"OR"};class wC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function np(t,e){return t.useProto3Json||yh(e)?e:{value:e}}function rp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Do(t){return it(!!t,49232),Re.fromTimestamp(function(n){const i=Di(n);return new et(i.seconds,i.nanos)}(t))}function Yw(t,e){return ip(t,e).canonicalString()}function ip(t,e){const n=function(o){return new Je(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Xw(t){const e=Je.fromString(t);return it(n1(e),10190,{key:e.toString()}),e}function vd(t,e){const n=Xw(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(Jw(n))}function Zw(t,e){return Yw(t.databaseId,e)}function EC(t){const e=Xw(t);return e.length===4?Je.emptyPath():Jw(e)}function iv(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Jw(t){return it(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function TC(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Pe(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(it(v===void 0||typeof v=="string",58123),Vt.fromBase64String(v||"")):(it(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Vt.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const v=m.code===void 0?ce.UNKNOWN:Gw(m.code);return new ye(v,m.message||"")}(c);n=new Ww(i,o,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=vd(t,i.document.name),a=Do(i.document.updateTime),c=i.document.createTime?Do(i.document.createTime):Re.min(),f=new gr({mapValue:{fields:i.document.fields}}),p=zt.newFoundDocument(o,a,c,f),m=i.targetIds||[],v=i.removedTargetIds||[];n=new xc(m,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=vd(t,i.document),a=i.readTime?Do(i.readTime):Re.min(),c=zt.newNoDocument(o,a),f=i.removedTargetIds||[];n=new xc([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=vd(t,i.document),a=i.removedTargetIds||[];n=new xc([],a,o,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new dC(o,a),f=i.targetId;n=new Kw(f,c)}}return n}function SC(t,e){return{documents:[Zw(t,e.path)]}}function xC(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Zw(t,o);const a=function(m){if(m.length!==0)return t1(tr.create(m,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const c=function(m){if(m.length!==0)return m.map(v=>function(E){return{field:Ao(E.field),direction:CC(E.dir)}}(v))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=np(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:n,parent:o}}function IC(t){let e=EC(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){it(i===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=function(w){const E=e1(w);return E instanceof tr&&Nw(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(w){return w.map(E=>function(P){return new xl(Co(P.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(E))}(n.orderBy));let f=null;n.limit&&(f=function(w){let E;return E=typeof w=="object"?w.value:w,yh(E)?null:E}(n.limit));let p=null;n.startAt&&(p=function(w){const E=!!w.before,x=w.values||[];return new jc(x,E)}(n.startAt));let m=null;return n.endAt&&(m=function(w){const E=!w.before,x=w.values||[];return new jc(x,E)}(n.endAt)),QA(e,o,c,a,f,"F",p,m)}function AC(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function e1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Co(n.unaryFilter.field);return mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(n.unaryFilter.field);return mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Co(n.unaryFilter.field);return mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Co(n.unaryFilter.field);return mt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return mt.create(Co(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(i=>e1(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(n.compositeFilter.op))}(t):Pe(30097,{filter:t})}function CC(t){return yC[t]}function RC(t){return vC[t]}function PC(t){return _C[t]}function Ao(t){return{fieldPath:t.canonicalString()}}function Co(t){return $t.fromServerFormat(t.fieldPath)}function t1(t){return t instanceof mt?function(n){if(n.op==="=="){if(H0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(q0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(H0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(q0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:RC(n.op),value:n.value}}}(t):t instanceof tr?function(n){const i=n.getFilters().map(o=>t1(o));return i.length===1?i[0]:{compositeFilter:{op:PC(n.op),filters:i}}}(t):Pe(54877,{filter:t})}function n1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,i,o,a=Re.min(),c=Re.min(),f=Vt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.yt=e}}function kC(t){const e=IC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.Cn=new bC}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ki.min())}updateCollectionGroup(e,n,i){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class bC{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Tt(Je.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Tt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r1=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(r1,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zo(0)}static cr(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="LruGarbageCollector",MC=1048576;function av([t,e],[n,i]){const o=Me(t,n);return o===0?Me(e,i):o}class VC{constructor(e){this.Ir=e,this.buffer=new Tt(av),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();av(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OC{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(ov,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yo(n)?me(ov,"Ignoring IndexedDB error during garbage collection: ",n):await mh(n)}await this.Vr(3e5)})}}class LC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return te.resolve(gh.ce);const i=new VC(n);return this.mr.forEachTarget(e,o=>i.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>i.Ar(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(sv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sv):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,a,c,f,p,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,f=Date.now(),this.removeTargets(e,i,n))).next(w=>(a=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(m=Date.now(),xo()<=Le.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${a} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function FC(t,e){return new LC(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.changes=new Rs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?te.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&fl(i.mutation,o,Ii.empty(),et.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ue()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ue()){const o=ps();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(a=>{let c=Ja();return a.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=ps();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ue()))}populateOverlays(e,n,i){const o=[];return i.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,i,o){let a=Vi();const c=hl(),f=function(){return hl()}();return n.forEach((p,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Th)?a=a.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),fl(v.mutation,m,v.mutation.getFieldMask(),et.now())):c.set(m.key,Ii.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((m,v)=>c.set(m,v)),n.forEach((m,v)=>f.set(m,new BC(v,c.get(m)??null))),f))}recalculateAndSaveOverlays(e,n){const i=hl();let o=new ht((c,f)=>c-f),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(p=>{const m=n.get(p);if(m===null)return;let v=i.get(p)||Ii.empty();v=f.applyToLocalView(m,v),i.set(p,v);const w=(o.get(f.batchId)||Ue()).add(p);o=o.insert(f.batchId,w)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,v=p.value,w=jw();v.forEach(E=>{if(!a.has(E)){const x=qw(n.get(E),i.get(E));x!==null&&w.set(E,x),a=a.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,w))}return te.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Vw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):te.resolve(ps());let f=wl,p=a;return c.next(m=>te.forEach(m,(v,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),a.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{p=p.insert(v,E)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,p,m,Ue())).next(v=>({batchId:f,changes:eC(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(i=>{let o=Ja();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let c=Ja();return this.indexManager.getCollectionParents(e,a).next(f=>te.forEach(f,p=>{const m=function(w,E){return new Zo(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(v=>{v.forEach((w,E)=>{c=c.insert(w,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o))).next(c=>{a.forEach((p,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,zt.newInvalidDocument(v)))});let f=Ja();return c.forEach((p,m)=>{const v=a.get(p);v!==void 0&&fl(v.mutation,m,Ii.empty(),et.now()),wh(n,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Do(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:kC(o.bundledQuery),readTime:Do(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.overlays=new ht(Ie.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ps();return te.forEach(n,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,a)=>{this.St(e,n,a)}),te.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(i)),te.resolve()}getOverlaysForCollection(e,n,i){const o=ps(),a=n.length+1,c=new Ie(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new ht((m,v)=>m-v);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let v=a.get(m.largestBatchId);v===null&&(v=ps(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=ps(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=o)););return te.resolve(f)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new fC(n,i));let a=this.qr.get(n);a===void 0&&(a=Ue(),this.qr.set(n,a)),this.qr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this.Qr=new Tt(Pt.$r),this.Ur=new Tt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Pt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new Ie(new Je([])),i=new Pt(n,e),o=new Pt(n,e+1),a=[];return this.Ur.forEachInRange([i,o],c=>{this.Gr(c),a.push(c.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new Je([])),i=new Pt(n,e),o=new Pt(n,e+1);let a=Ue();return this.Ur.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const n=new Pt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(Pt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new hC(a,n,i,o);this.mutationQueue.push(c);for(const f of o)this.Zr=this.Zr.add(new Pt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return te.resolve(c)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),a=o<0?0:o;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?NA:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,o],c=>{const f=this.Xr(c.Yr);a.push(f)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Tt(Me);return n.forEach(o=>{const a=new Pt(o,0),c=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],f=>{i=i.add(f.Yr)})}),te.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;Ie.isDocumentKey(a)||(a=a.child(""));const c=new Pt(new Ie(a),0);let f=new Tt(Me);return this.Zr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(f=f.add(p.Yr)),!0)},c),te.resolve(this.ti(f))}ti(e){const n=[];return e.forEach(i=>{const o=this.Xr(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){it(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return te.forEach(n.mutations,o=>{const a=new Pt(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new Pt(n,0),o=this.Zr.firstAfterOrEqual(i);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.ri=e,this.docs=function(){return new ht(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return te.resolve(i?i.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let i=Vi();return n.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():zt.newInvalidDocument(o))}),te.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=Vi();const c=n.path,f=new Ie(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||AA(IA(v),i)<=0||(o.has(v.key)||wh(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,n,i,o){Pe(9500)}ii(e,n){return te.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new KC(this)}getSize(e){return te.resolve(this.size)}}class KC extends jC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)}),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.persistence=e,this.si=new Rs(n=>Zp(n),Jp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new im,this.targetCount=0,this.ai=zo.ur()}forEachTarget(e,n){return this.si.forEach((i,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.si.forEach((c,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),te.waitFor(a).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return te.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),te.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return te.resolve(i)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new qC,this.referenceDelegate=e(this),this.Pi=new WC(this),this.indexManager=new DC,this.remoteDocumentCache=function(o){return new GC(o)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new NC(n),this.Ii=new zC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $C,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new HC(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const o=new QC(this.ci.next());return this.referenceDelegate.Ei(),i(o).next(a=>this.referenceDelegate.di(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ai(e,n){return te.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class QC extends RA{constructor(e){super(),this.currentSequenceNumber=e}}class sm{constructor(e){this.persistence=e,this.Ri=new im,this.Vi=null}static mi(e){return new sm(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),te.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(a=>this.fi.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,i=>{const o=Ie.fromPath(i);return this.gi(e,o).next(a=>{a||n.removeEntry(o,Re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zc{constructor(e,n){this.persistence=e,this.pi=new Rs(i=>DA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=FC(this,n)}static mi(e,n){return new zc(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return te.forEach(this.pi,(i,o)=>this.br(e,i,o).next(a=>a?te.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,c=>this.br(e,c,n).next(f=>{f||(i++,a.removeEntry(c,Re.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Tc(e.data.value)),n}br(e,n,i){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Ue(),o=Ue();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new om(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Yx()?8:PA(Wx())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.ys(e,n).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.ws(e,n,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new YC;return this.Ss(e,n,c).next(f=>{if(a.result=f,this.Vs)return this.bs(e,n,c,f.size)})}).next(()=>a.result)}bs(e,n,i,o){return i.documentReadCount<this.fs?(xo()<=Le.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(xo()<=Le.DEBUG&&me("QueryEngine","Query:",Io(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(xo()<=Le.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):te.resolve())}ys(e,n){if(Q0(n))return te.resolve(null);let i=_r(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Jd(n,null,"F"),i=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Ue(...a);return this.ps.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.Ds(n,f);return this.Cs(n,m,c,p.readTime)?this.ys(e,Jd(n,null,"F")):this.vs(e,m,n,p)}))})))}ws(e,n,i,o){return Q0(n)||o.isEqual(Re.min())?te.resolve(null):this.ps.getDocuments(e,i).next(a=>{const c=this.Ds(n,a);return this.Cs(n,c,i,o)?te.resolve(null):(xo()<=Le.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(n)),this.vs(e,c,n,xA(o,wl)).next(f=>f))})}Ds(e,n){let i=new Tt(Lw(e));return n.forEach((o,a)=>{wh(e,a)&&(i=i.add(a))}),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,i){return xo()<=Le.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Io(n)),this.ps.getDocumentsMatchingQuery(e,n,ki.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next(a=>(n.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="LocalStore",ZC=3e8;class JC{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Me),this.xs=new Rs(a=>Zp(a),Jp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function e2(t,e,n,i){return new JC(t,e,n,i)}async function s1(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],f=[];let p=Ue();for(const m of o){c.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of a){f.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(i,p).next(m=>({Ls:m,removedBatchIds:c,addedBatchIds:f}))})})}function o1(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function t2(t,e){const n=Fe(t),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const f=[];e.targetChanges.forEach((v,w)=>{const E=o.get(w);if(!E)return;f.push(n.Pi.removeMatchingKeys(a,v.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(a,v.addedDocuments,w)));let x=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?x=x.withResumeToken(Vt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,i)),o=o.insert(w,x),function(L,k,q){return L.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=ZC?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(E,x,v)&&f.push(n.Pi.updateTargetData(a,x))});let p=Vi(),m=Ue();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(n2(a,c,e.documentUpdates).next(v=>{p=v.ks,m=v.qs})),!i.isEqual(Re.min())){const v=n.Pi.getLastRemoteSnapshotVersion(a).next(w=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(v)}return te.waitFor(f).next(()=>c.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,p,m)).next(()=>p)}).then(a=>(n.Ms=o,a))}function n2(t,e,n){let i=Ue(),o=Ue();return n.forEach(a=>i=i.add(a)),e.getEntries(t,i).next(a=>{let c=Vi();return n.forEach((f,p)=>{const m=a.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):me(am,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{ks:c,qs:o}})}function r2(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Pi.getTargetData(i,e).next(a=>a?(o=a,te.resolve(o)):n.Pi.allocateTargetId(i).next(c=>(o=new Ai(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function sp(t,e,n){const i=Fe(t),o=i.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Yo(c))throw c;me(am,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function lv(t,e,n){const i=Fe(t);let o=Re.min(),a=Ue();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,v){const w=Fe(p),E=w.xs.get(v);return E!==void 0?te.resolve(w.Ms.get(E)):w.Pi.getTargetData(m,v)}(i,c,_r(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next(p=>{a=p})}).next(()=>i.Fs.getDocumentsMatchingQuery(c,e,n?o:Re.min(),n?a:Ue())).next(f=>(i2(i,XA(e),f),{documents:f,Qs:a})))}function i2(t,e,n){let i=t.Os.get(e)||Re.min();n.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),t.Os.set(e,i)}class uv{constructor(){this.activeTargetIds=rC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s2{constructor(){this.Mo=new uv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new uv,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="ConnectivityMonitor";class hv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(cv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(cv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function op(){return uc===null?uc=function(){return 268435456+Math.round(2147483648*Math.random())}():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="RestConnection",a2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Lc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,a){const c=op(),f=this.zo(e,n.toUriEncodedString());me(_d,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,a);const{host:m}=new URL(f),v=Hp(m);return this.Jo(e,f,p,i,v).then(w=>(me(_d,`Received RPC '${e}' ${c}: `,w),w),w=>{throw Fo(_d,`RPC '${e}' ${c} failed with error: `,w,"url: ",f,"request:",i),w})}Ho(e,n,i,o,a,c){return this.Go(e,n,i,o,a)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}zo(e,n){const i=a2[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class c2 extends l2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,a){const c=op();return new Promise((f,p)=>{const m=new cw;m.setWithCredentials(!0),m.listenOnce(hw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Ec.NO_ERROR:const w=m.getResponseJson();me(Bt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case Ec.TIMEOUT:me(Bt,`RPC '${e}' ${c} timed out`),p(new ye(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:const E=m.getStatus();if(me(Bt,`RPC '${e}' ${c} failed with status:`,E,"response text:",m.getResponseText()),E>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const P=x?.error;if(P&&P.status&&P.message){const L=function(q){const G=q.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(G)>=0?G:ce.UNKNOWN}(P.status);p(new ye(L,P.message))}else p(new ye(ce.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new ye(ce.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{me(Bt,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(o);me(Bt,`RPC '${e}' ${c} sending request:`,o),m.send(n,"POST",v,i,15)})}T_(e,n,i){const o=op(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=pw(),f=dw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const v=a.join("");me(Bt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const w=c.createWebChannel(v,p);this.I_(w);let E=!1,x=!1;const P=new u2({Yo:k=>{x?me(Bt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(E||(me(Bt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),me(Bt,`RPC '${e}' stream ${o} sending:`,k),w.send(k))},Zo:()=>w.close()}),L=(k,q,G)=>{k.listen(q,Z=>{try{G(Z)}catch(J){setTimeout(()=>{throw J},0)}})};return L(w,Za.EventType.OPEN,()=>{x||(me(Bt,`RPC '${e}' stream ${o} transport opened.`),P.o_())}),L(w,Za.EventType.CLOSE,()=>{x||(x=!0,me(Bt,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(w))}),L(w,Za.EventType.ERROR,k=>{x||(x=!0,Fo(Bt,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),P.a_(new ye(ce.UNAVAILABLE,"The operation could not be completed")))}),L(w,Za.EventType.MESSAGE,k=>{if(!x){const q=k.data[0];it(!!q,16349);const G=q,Z=G?.error||G[0]?.error;if(Z){me(Bt,`RPC '${e}' stream ${o} received error:`,Z);const J=Z.status;let ue=function(A){const R=pt[A];if(R!==void 0)return Gw(R)}(J),le=Z.message;ue===void 0&&(ue=ce.INTERNAL,le="Unknown error status: "+J+" with message "+Z.message),x=!0,P.a_(new ye(ue,le)),w.close()}else me(Bt,`RPC '${e}' stream ${o} received:`,q),P.u_(q)}}),L(f,fw.STAT_EVENT,k=>{k.stat===Hd.PROXY?me(Bt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Hd.NOPROXY&&me(Bt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){return new wC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,i=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="PersistentStream";class h2{constructor(e,n,i,o,a,c,f,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new a1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.D_===n&&this.G_(i,o)},i=>{e(()=>{const o=new ye(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{i(()=>this.z_(o))}),this.stream.onMessage(o=>{i(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return me(fv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(me(fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f2 extends h2{constructor(e,n,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,c),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TC(this.serializer,e),i=function(a){if(!("targetChange"in a))return Re.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?Do(c.readTime):Re.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=iv(this.serializer),n.addTarget=function(a,c){let f;const p=c.target;if(f=Xd(p)?{documents:SC(a,p)}:{query:xC(a,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Qw(a,c.resumeToken);const m=np(a,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Re.min())>0){f.readTime=rp(a,c.snapshotVersion.toTimestamp());const m=np(a,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=AC(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=iv(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{}class p2 extends d2{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Go(e,ip(n,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(ce.UNKNOWN,a.toString())})}Ho(e,n,i,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Ho(e,ip(n,i),o,c,f,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(ce.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class m2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="RemoteStore";class g2{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(c=>{i.enqueueAndForget(async()=>{jl(this)&&(me($o,"Restarting streams for network reachability change."),await async function(p){const m=Fe(p);m.Ea.add(4),await Fl(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Ih(m)}(this))})}),this.Ra=new m2(i,o)}}async function Ih(t){if(jl(t))for(const e of t.da)await e(!0)}async function Fl(t){for(const e of t.da)await e(!1)}function l1(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),hm(n)?cm(n):Jo(n).O_()&&um(n,e))}function lm(t,e){const n=Fe(t),i=Jo(n);n.Ia.delete(e),i.O_()&&u1(n,e),n.Ia.size===0&&(i.O_()?i.L_():jl(n)&&n.Ra.set("Unknown"))}function um(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(t).Y_(e)}function u1(t,e){t.Va.Ue(e),Jo(t).Z_(e)}function cm(t){t.Va=new gC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Jo(t).start(),t.Ra.ua()}function hm(t){return jl(t)&&!Jo(t).x_()&&t.Ia.size>0}function jl(t){return Fe(t).Ea.size===0}function c1(t){t.Va=void 0}async function y2(t){t.Ra.set("Online")}async function v2(t){t.Ia.forEach((e,n)=>{um(t,e)})}async function _2(t,e){c1(t),hm(t)?(t.Ra.ha(e),cm(t)):t.Ra.set("Unknown")}async function w2(t,e,n){if(t.Ra.set("Online"),e instanceof Ww&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const f of a.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ia.delete(f),o.Va.removeTarget(f))}(t,e)}catch(i){me($o,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await dv(t,i)}else if(e instanceof xc?t.Va.Ze(e):e instanceof Kw?t.Va.st(e):t.Va.tt(e),!n.isEqual(Re.min()))try{const i=await o1(t.localStore);n.compareTo(i)>=0&&await function(a,c){const f=a.Va.Tt(c);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=a.Ia.get(m);v&&a.Ia.set(m,v.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,m)=>{const v=a.Ia.get(p);if(!v)return;a.Ia.set(p,v.withResumeToken(Vt.EMPTY_BYTE_STRING,v.snapshotVersion)),u1(a,p);const w=new Ai(v.target,p,m,v.sequenceNumber);um(a,w)}),a.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(i){me($o,"Failed to raise snapshot:",i),await dv(t,i)}}async function dv(t,e,n){if(!Yo(e))throw e;t.Ea.add(1),await Fl(t),t.Ra.set("Offline"),n||(n=()=>o1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me($o,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ih(t)})}async function pv(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),me($o,"RemoteStore received new credentials");const i=jl(n);n.Ea.add(3),await Fl(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ih(n)}async function E2(t,e){const n=Fe(t);e?(n.Ea.delete(2),await Ih(n)):e||(n.Ea.add(2),await Fl(n),n.Ra.set("Unknown"))}function Jo(t){return t.ma||(t.ma=function(n,i,o){const a=Fe(n);return a.sa(),new f2(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{Xo:y2.bind(null,t),t_:v2.bind(null,t),r_:_2.bind(null,t),H_:w2.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),hm(t)?cm(t):t.Ra.set("Unknown")):(await t.ma.stop(),c1(t))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const c=Date.now()+i,f=new fm(e,n,c,o,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h1(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),Yo(t))return new ye(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ie.comparator(n.key,i.key):(n,i)=>Ie.comparator(n.key,i.key),this.keyedMap=Ja(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new bo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.ga=new ht(Ie.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class qo{constructor(e,n,i,o,a,c,f,p,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,o,a){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new qo(e,n,bo.emptySet(n),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class S2{constructor(){this.queries=gv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Fe(n),a=o.queries;o.queries=gv(),a.forEach((c,f)=>{for(const p of f.Sa)p.onError(i)})})(this,new ye(ce.ABORTED,"Firestore shutting down"))}}function gv(){return new Rs(t=>Ow(t),_h)}async function x2(t,e){const n=Fe(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(i=2):(a=new T2,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const f=h1(c,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&dm(n)}async function I2(t,e){const n=Fe(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function A2(t,e){const n=Fe(t);let i=!1;for(const o of e){const a=o.query,c=n.queries.get(a);if(c){for(const f of c.Sa)f.Fa(o)&&(i=!0);c.wa=o}}i&&dm(n)}function C2(t,e,n){const i=Fe(t),o=i.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);i.queries.delete(e)}function dm(t){t.Ca.forEach(e=>{e.next()})}var ap,yv;(yv=ap||(ap={})).Ma="default",yv.Cache="cache";class R2{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new qo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.key=e}}class d1{constructor(e){this.key=e}}class P2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=Lw(e),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new mv,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const E=o.get(v),x=wh(this.query,w)?w:null,P=!!E&&this.mutatedKeys.has(E.key),L=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;E&&x?E.data.isEqual(x.data)?P!==L&&(i.track({type:3,doc:x}),k=!0):this.su(E,x)||(i.track({type:2,doc:x}),k=!0,(p&&this.eu(x,p)>0||m&&this.eu(x,m)<0)&&(f=!0)):!E&&x?(i.track({type:0,doc:x}),k=!0):E&&!x&&(i.track({type:1,doc:E}),k=!0,(p||m)&&(f=!0)),k&&(x?(c=c.add(x),a=L?a.add(v):a.delete(v)):(c=c.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:f,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((v,w)=>function(x,P){const L=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:k})}};return L(x)-L(P)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(i),o=o??!1;const f=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new qo(this.query,e.tu,a,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new d1(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new f1(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pm="SyncEngine";class N2{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class k2{constructor(e){this.key=e,this.hu=!1}}class D2{constructor(e,n,i,o,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Rs(f=>Ow(f),_h),this.Iu=new Map,this.Eu=new Set,this.du=new ht(Ie.comparator),this.Au=new Map,this.Ru=new im,this.Vu={},this.mu=new Map,this.fu=zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function b2(t,e,n=!0){const i=v1(t);let o;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await p1(i,e,n,!0),o}async function M2(t,e){const n=v1(t);await p1(n,e,!0,!1)}async function p1(t,e,n,i){const o=await r2(t.localStore,_r(e)),a=o.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let f;return i&&(f=await V2(t,e,a,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&l1(t.remoteStore,o),f}async function V2(t,e,n,i,o){t.pu=(w,E,x)=>async function(L,k,q,G){let Z=k.view.ru(q);Z.Cs&&(Z=await lv(L.localStore,k.query,!1).then(({documents:b})=>k.view.ru(b,Z)));const J=G&&G.targetChanges.get(k.targetId),ue=G&&G.targetMismatches.get(k.targetId)!=null,le=k.view.applyChanges(Z,L.isPrimaryClient,J,ue);return _v(L,k.targetId,le.au),le.snapshot}(t,w,E,x);const a=await lv(t.localStore,e,!0),c=new P2(e,a.Qs),f=c.ru(a.documents),p=Ll.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),m=c.applyChanges(f,t.isPrimaryClient,p);_v(t,n,m.au);const v=new N2(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function O2(t,e,n){const i=Fe(t),o=i.Tu.get(e),a=i.Iu.get(o.targetId);if(a.length>1)return i.Iu.set(o.targetId,a.filter(c=>!_h(c,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await sp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&lm(i.remoteStore,o.targetId),lp(i,o.targetId)}).catch(mh)):(lp(i,o.targetId),await sp(i.localStore,o.targetId,!0))}async function L2(t,e){const n=Fe(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),lm(n.remoteStore,i.targetId))}async function m1(t,e){const n=Fe(t);try{const i=await t2(n.localStore,e);e.targetChanges.forEach((o,a)=>{const c=n.Au.get(a);c&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?it(c.hu,14607):o.removedDocuments.size>0&&(it(c.hu,42227),c.hu=!1))}),await y1(n,i,e)}catch(i){await mh(i)}}function vv(t,e,n){const i=Fe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach((a,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const p=Fe(c);p.onlineState=f;let m=!1;p.queries.forEach((v,w)=>{for(const E of w.Sa)E.va(f)&&(m=!0)}),m&&dm(p)}(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function F2(t,e,n){const i=Fe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),a=o&&o.key;if(a){let c=new ht(Ie.comparator);c=c.insert(a,zt.newNoDocument(a,Re.min()));const f=Ue().add(a),p=new Sh(Re.min(),new Map,new ht(Me),c,f);await m1(i,p),i.du=i.du.remove(a),i.Au.delete(e),mm(i)}else await sp(i.localStore,e,!1).then(()=>lp(i,e,n)).catch(mh)}function lp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||g1(t,i)})}function g1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(lm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),mm(t))}function _v(t,e,n){for(const i of n)i instanceof f1?(t.Ru.addReference(i.key,e),j2(t,i)):i instanceof d1?(me(pm,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||g1(t,i.key)):Pe(19791,{wu:i})}function j2(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(me(pm,"New document in limbo: "+n),t.Eu.add(i),mm(t))}function mm(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(Je.fromString(e)),i=t.fu.next();t.Au.set(i,new k2(n)),t.du=t.du.insert(n,i),l1(t.remoteStore,new Ai(_r(Mw(n.path)),i,"TargetPurposeLimboResolution",gh.ce))}}async function y1(t,e,n){const i=Fe(t),o=[],a=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach((f,p)=>{c.push(i.pu(p,e,n).then(m=>{if((m||n)&&i.isPrimaryClient){const v=m?!m.fromCache:n?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(m){o.push(m);const v=om.As(p.targetId,m);a.push(v)}}))}),await Promise.all(c),i.Pu.H_(o),await async function(p,m){const v=Fe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(m,E=>te.forEach(E.Es,x=>v.persistence.referenceDelegate.addReference(w,E.targetId,x)).next(()=>te.forEach(E.ds,x=>v.persistence.referenceDelegate.removeReference(w,E.targetId,x)))))}catch(w){if(!Yo(w))throw w;me(am,"Failed to update sequence numbers: "+w)}for(const w of m){const E=w.targetId;if(!w.fromCache){const x=v.Ms.get(E),P=x.snapshotVersion,L=x.withLastLimboFreeSnapshotVersion(P);v.Ms=v.Ms.insert(E,L)}}}(i.localStore,a))}async function B2(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){me(pm,"User change. New user:",e.toKey());const i=await s1(n.localStore,e);n.currentUser=e,function(a,c){a.mu.forEach(f=>{f.forEach(p=>{p.reject(new ye(ce.CANCELLED,c))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await y1(n,i.Ls)}}function U2(t,e){const n=Fe(t),i=n.Au.get(e);if(i&&i.hu)return Ue().add(i.key);{let o=Ue();const a=n.Iu.get(e);if(!a)return o;for(const c of a){const f=n.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function v1(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=m1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F2.bind(null,e),e.Pu.H_=A2.bind(null,e.eventManager),e.Pu.yu=C2.bind(null,e.eventManager),e}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return e2(this.persistence,new XC,e.initialUser,this.serializer)}Cu(e){return new i1(sm.mi,this.serializer)}Du(e){return new s2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class z2 extends $c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){it(this.persistence.referenceDelegate instanceof zc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new OC(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new i1(i=>zc.mi(i,n),this.serializer)}}class up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>vv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=B2.bind(null,this.syncEngine),await E2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new S2}()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),i=function(a){return new c2(a)}(e.databaseInfo);return function(a,c,f,p){return new p2(a,c,f,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,a,c,f){return new g2(i,o,a,c,f)}(this.localStore,this.datastore,e.asyncQueue,n=>vv(this.syncEngine,n,0),function(){return hv.v()?new hv:new o2}())}createSyncEngine(e,n){return function(o,a,c,f,p,m,v){const w=new D2(o,a,c,f,p,m);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const i=Fe(n);me($o,"RemoteStore shutting down."),i.Ea.add(5),await Fl(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}up.provider={build:()=>new up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="FirestoreClient";class q2{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Ut.UNAUTHENTICATED,this.clientId=yw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{me(Oi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(me(Oi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=h1(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ed(t,e){t.asyncQueue.verifyOperationInProgress(),me(Oi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await s1(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await H2(t);me(Oi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>pv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>pv(e.remoteStore,o)),t._onlineComponents=e}async function H2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Oi,"Using user provided OfflineComponentProvider");try{await Ed(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Fo("Error using user provided cache. Falling back to memory cache: "+n),await Ed(t,new $c)}}else me(Oi,"Using default OfflineComponentProvider"),await Ed(t,new z2(void 0));return t._offlineComponents}async function G2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Oi,"Using user provided OnlineComponentProvider"),await wv(t,t._uninitializedComponentsProvider._online)):(me(Oi,"Using default OnlineComponentProvider"),await wv(t,new up))),t._onlineComponents}async function K2(t){const e=await G2(t),n=e.eventManager;return n.onListen=b2.bind(null,e.syncEngine),n.onUnlisten=O2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L2.bind(null,e.syncEngine),n}function W2(t,e,n={}){const i=new ys;return t.asyncQueue.enqueueAndForget(async()=>function(a,c,f,p,m){const v=new $2({next:E=>{v.Nu(),c.enqueueAndForget(()=>I2(a,w)),E.fromCache&&p.source==="server"?m.reject(new ye(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new R2(f,v,{includeMetadataChanges:!0,qa:!0});return x2(a,w)}(await K2(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="firestore.googleapis.com",Tv=!0;class Sv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w1,this.ssl=Tv}else this.host=e.host,this.ssl=e.ssl??Tv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=r1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MC)throw new ye(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_1(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gm{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new dA;switch(i.type){case"firstParty":return new yA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Ev.get(n);i&&(me("ComponentProvider","Removing Datastore"),Ev.delete(n),i.terminate())}(this),Promise.resolve()}}function Q2(t,e,n,i={}){t=Kd(t,gm);const o=Hp(e),a=t._getSettings(),c={...a,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;o&&($x(`https://${f}`),Kx("Firestore",!0)),a.host!==w1&&a.host!==f&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:f,ssl:o,emulatorOptions:i};if(!vl(p,c)&&(t._setSettings(p),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=Ut.MOCK_USER;else{m=qx(i.mockUserToken,t._app?.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new ye(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ut(w)}t._authCredentials=new pA(new gw(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class Qt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Ol(n,Qt._jsonSchema))return new Qt(e,i||null,new Ie(Je.fromString(n.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:gt("string",Qt._jsonSchemaVersion),referencePath:gt("string")};class Mo extends Ps{constructor(e,n,i){super(e,n,Mw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new Ie(e))}withConverter(e){return new Mo(this.firestore,e,this._path)}}function Y2(t,e,...n){if(t=ws(t),t instanceof gm){const i=Je.fromString(e,...n);return V0(i),new Mo(t,null,i)}{if(!(t instanceof Qt||t instanceof Mo))throw new ye(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Je.fromString(e,...n));return V0(i),new Mo(t.firestore,null,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="AsyncQueue";class Iv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new a1(this,"async_queue_retry"),this._c=()=>{const i=wd();i&&me(xv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=wd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ys;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yo(e))throw e;me(xv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Qr("INTERNAL UNHANDLED ERROR: ",Av(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=fm.createAndSchedule(this,e,n,i,a=>this.hc(a));return this.tc.push(o),o}uc(){this.nc&&Pe(47125,{Pc:Av(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Av(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class E1 extends gm{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new Iv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Iv(e),this._firestoreClient=void 0,await e}}}function X2(t,e){const n=typeof t=="object"?t:Wp(),i=typeof t=="string"?t:Lc,o=Cs(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=zx("firestore");a&&Q2(o,...a)}return o}function Z2(t){if(t._terminated)throw new ye(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J2(t),t._firestoreClient}function J2(t){const e=t._freezeSettings(),n=function(o,a,c,f){return new VA(o,a,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,_1(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new q2(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Vt.fromBase64String(e))}catch(n){throw new ye(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kn(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ol(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:gt("string",kn._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wr._jsonSchemaVersion}}static fromJSON(e){if(Ol(e,wr._jsonSchema))return new wr(e.latitude,e.longitude)}}wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:gt("string",wr._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ol(e,Er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Er(e.vectorValues);throw new ye(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Er._jsonSchemaVersion="firestore/vectorValue/1.0",Er._jsonSchema={type:gt("string",Er._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=/^__.*__$/;function x1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:t})}}class ym{constructor(e,n,i,o,a,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ym({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(x1(this.Ac)&&eR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tR{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||xh(e)}Cc(e,n,i,o=!1){return new ym({Ac:e,methodName:n,Dc:i,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nR(t){const e=t._freezeSettings(),n=xh(t._databaseId);return new tR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rR(t,e,n,i=!1){return vm(n,t.Cc(i?4:3,e))}function vm(t,e){if(I1(t=ws(t)))return sR("Unsupported field value:",e,t),iR(t,e);if(t instanceof S1)return function(i,o){if(!x1(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const f of i){let p=vm(f,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(t,e)}return function(i,o){if((i=ws(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return iC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=et.fromDate(i);return{timestampValue:rp(o.serializer,a)}}if(i instanceof et){const a=new et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:rp(o.serializer,a)}}if(i instanceof wr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof kn)return{bytesValue:Qw(o.serializer,i._byteString)};if(i instanceof Qt){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Yw(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Er)return function(c,f){return{mapValue:{fields:{[Aw]:{stringValue:Cw},[Fc]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.Sc("VectorValues must only contain numeric values.");return em(f.serializer,m)})}}}}}}(i,o);throw o.Sc(`Unsupported field value: ${ph(i)}`)}(t,e)}function iR(t,e){const n={};return ww(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(t,(i,o)=>{const a=vm(o,e.mc(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function I1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof wr||t instanceof kn||t instanceof Qt||t instanceof S1||t instanceof Er)}function sR(t,e,n){if(!I1(n)||!vw(n)){const i=ph(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}const oR=new RegExp("[~\\*/\\[\\]]");function aR(t,e,n){if(e.search(oR)>=0)throw cp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new T1(...e.split("."))._internalPath}catch{throw cp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cp(t,e,n,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ye(ce.INVALID_ARGUMENT,f+t+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_m("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lR extends A1{data(){return super.data()}}function _m(t,e){return typeof e=="string"?aR(t,e):e instanceof T1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wm{}class C1 extends wm{}function cR(t,e,...n){let i=[];e instanceof wm&&i.push(e),i=i.concat(n),function(a){const c=a.filter(p=>p instanceof Tm).length,f=a.filter(p=>p instanceof Em).length;if(c>1||c>0&&f>0)throw new ye(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)t=o._apply(t);return t}class Em extends C1{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Em(e,n,i)}_apply(e){const n=this._parse(e);return R1(e._query,n),new Ps(e.firestore,e.converter,Zd(e._query,n))}_parse(e){const n=nR(e.firestore);return function(a,c,f,p,m,v,w){let E;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ye(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Rv(w,v);const P=[];for(const L of w)P.push(Cv(p,a,L));E={arrayValue:{values:P}}}else E=Cv(p,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Rv(w,v),E=rR(f,c,w,v==="in"||v==="not-in");return mt.create(m,v,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Tm extends wm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tm(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,a){let c=o;const f=a.getFlattenedFilters();for(const p of f)R1(c,p),c=Zd(c,p)}(e._query,n),new Ps(e.firestore,e.converter,Zd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sm extends C1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sm(e,n)}_apply(e){const n=function(o,a,c){if(o.startAt!==null)throw new ye(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ye(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xl(a,c)}(e._query,this._field,this._direction);return new Ps(e.firestore,e.converter,function(o,a){const c=o.explicitOrderBy.concat([a]);return new Zo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function hR(t,e="asc"){const n=e,i=_m("orderBy",t);return Sm._create(i,n)}function Cv(t,e,n){if(typeof(n=ws(n))=="string"){if(n==="")throw new ye(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vw(e)&&n.indexOf("/")!==-1)throw new ye(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Je.fromString(n));if(!Ie.isDocumentKey(i))throw new ye(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $0(t,new Ie(i))}if(n instanceof Qt)return $0(t,n._key);throw new ye(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(n)}.`)}function Rv(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function R1(t,e){const n=function(o,a){for(const c of o)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ye(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fR{convertValue(e,n="none"){switch(Mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Xo(e,(o,a)=>{i[o]=this.convertValue(a,n)}),i}convertVectorValue(e){const n=e.fields?.[Fc].arrayValue?.values?.map(i=>lt(i.doubleValue));return new Er(n)}convertGeoPoint(e){return new wr(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=vh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(El(e));default:return null}}convertTimestamp(e){const n=Di(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Je.fromString(e);it(n1(i),9688,{name:e});const o=new Tl(i.get(1),i.get(3)),a=new Ie(i.popFirst(5));return o.isEqual(n)||Qr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}class cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vo extends A1{constructor(e,n,i,o,a,c){super(e,n,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(_m("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Vo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vo._jsonSchema={type:gt("string",Vo._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class Ic extends Vo{data(e={}){return super.data(e)}}class Oo{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new cc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Ic(this._firestore,this._userDataWriter,i.key,i,new cc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const p=new Ic(o._firestore,o._userDataWriter,f.doc.key,f.doc,new cc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const p=new Ic(o._firestore,o._userDataWriter,f.doc.key,f.doc,new cc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:dR(f.type),doc:p,oldIndex:m,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:t})}}Oo._jsonSchemaVersion="firestore/querySnapshot/1.0",Oo._jsonSchema={type:gt("string",Oo._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class pR extends fR{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}function mR(t){t=Kd(t,Ps);const e=Kd(t.firestore,E1),n=Z2(e),i=new pR(e);return uR(t._query),W2(n,t._query).then(o=>new Oo(e,i,t,o))}(function(e,n=!0){(function(o){Qo=o})(nA),Sr(new er("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),f=new E1(new mA(i.getProvider("auth-internal")),new vA(c,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ye(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(m.options.projectId,v)}(c,o),c);return a={useFetchStreams:n,...a},f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),Jn(k0,D0,e),Jn(k0,D0,"esm2020")})();var gR="firebase",yR="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(gR,yR,"app");const P1="@firebase/installations",xm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=1e4,k1=`w:${xm}`,D1="FIS_v2",vR="https://firebaseinstallations.googleapis.com/v1",_R=3600*1e3,wR="installations",ER="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ts=new Vl(wR,ER,TR);function b1(t){return t instanceof Li&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1({projectId:t}){return`${vR}/projects/${t}/installations`}function V1(t){return{token:t.token,requestStatus:2,expiresIn:xR(t.expiresIn),creationTime:Date.now()}}async function O1(t,e){const i=(await e.json()).error;return Ts.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function L1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function SR(t,{refreshToken:e}){const n=L1(t);return n.append("Authorization",IR(e)),n}async function F1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function xR(t){return Number(t.replace("s","000"))}function IR(t){return`${D1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=M1(t),o=L1(t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const c={fid:n,authVersion:D1,appId:t.appId,sdkVersion:k1},f={method:"POST",headers:o,body:JSON.stringify(c)},p=await F1(()=>fetch(i,f));if(p.ok){const m=await p.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:V1(m.authToken)}}else throw await O1("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=/^[cdef][\w-]{21}$/,hp="";function PR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=NR(t);return RR.test(n)?n:hp}catch{return hp}}function NR(t){return CR(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new Map;function U1(t,e){const n=Ah(t);z1(n,e),kR(n,e)}function z1(t,e){const n=B1.get(t);if(n)for(const i of n)i(e)}function kR(t,e){const n=DR();n&&n.postMessage({key:t,fid:e}),bR()}let ms=null;function DR(){return!ms&&"BroadcastChannel"in self&&(ms=new BroadcastChannel("[Firebase] FID Change"),ms.onmessage=t=>{z1(t.data.key,t.data.fid)}),ms}function bR(){B1.size===0&&ms&&(ms.close(),ms=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="firebase-installations-database",VR=1,Ss="firebase-installations-store";let Td=null;function Im(){return Td||(Td=sw(MR,VR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ss)}}})),Td}async function qc(t,e){const n=Ah(t),o=(await Im()).transaction(Ss,"readwrite"),a=o.objectStore(Ss),c=await a.get(n);return await a.put(e,n),await o.done,(!c||c.fid!==e.fid)&&U1(t,e.fid),e}async function $1(t){const e=Ah(t),i=(await Im()).transaction(Ss,"readwrite");await i.objectStore(Ss).delete(e),await i.done}async function Ch(t,e){const n=Ah(t),o=(await Im()).transaction(Ss,"readwrite"),a=o.objectStore(Ss),c=await a.get(n),f=e(c);return f===void 0?await a.delete(n):await a.put(f,n),await o.done,f&&(!c||c.fid!==f.fid)&&U1(t,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Am(t){let e;const n=await Ch(t.appConfig,i=>{const o=OR(i),a=LR(t,o);return e=a.registrationPromise,a.installationEntry});return n.fid===hp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function OR(t){const e=t||{fid:PR(),registrationStatus:0};return q1(e)}function LR(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ts.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=FR(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:jR(t)}:{installationEntry:e}}async function FR(t,e){try{const n=await AR(t,e);return qc(t.appConfig,n)}catch(n){throw b1(n)&&n.customData.serverCode===409?await $1(t.appConfig):await qc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function jR(t){let e=await Pv(t.appConfig);for(;e.registrationStatus===1;)await j1(100),e=await Pv(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Am(t);return i||n}return e}function Pv(t){return Ch(t,e=>{if(!e)throw Ts.create("installation-not-found");return q1(e)})}function q1(t){return BR(t)?{fid:t.fid,registrationStatus:0}:t}function BR(t){return t.registrationStatus===1&&t.registrationTime+N1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR({appConfig:t,heartbeatServiceProvider:e},n){const i=zR(t,n),o=SR(t,n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const c={installation:{sdkVersion:k1,appId:t.appId}},f={method:"POST",headers:o,body:JSON.stringify(c)},p=await F1(()=>fetch(i,f));if(p.ok){const m=await p.json();return V1(m)}else throw await O1("Generate Auth Token",p)}function zR(t,{fid:e}){return`${M1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cm(t,e=!1){let n;const i=await Ch(t.appConfig,a=>{if(!H1(a))throw Ts.create("not-registered");const c=a.authToken;if(!e&&HR(c))return a;if(c.requestStatus===1)return n=$R(t,e),a;{if(!navigator.onLine)throw Ts.create("app-offline");const f=KR(a);return n=qR(t,f),f}});return n?await n:i.authToken}async function $R(t,e){let n=await Nv(t.appConfig);for(;n.authToken.requestStatus===1;)await j1(100),n=await Nv(t.appConfig);const i=n.authToken;return i.requestStatus===0?Cm(t,e):i}function Nv(t){return Ch(t,e=>{if(!H1(e))throw Ts.create("not-registered");const n=e.authToken;return WR(n)?{...e,authToken:{requestStatus:0}}:e})}async function qR(t,e){try{const n=await UR(t,e),i={...e,authToken:n};return await qc(t.appConfig,i),n}catch(n){if(b1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $1(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await qc(t.appConfig,i)}throw n}}function H1(t){return t!==void 0&&t.registrationStatus===2}function HR(t){return t.requestStatus===2&&!GR(t)}function GR(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+_R}function KR(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function WR(t){return t.requestStatus===1&&t.requestTime+N1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(t){const e=t,{installationEntry:n,registrationPromise:i}=await Am(e);return i?i.catch(console.error):Cm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(t,e=!1){const n=t;return await XR(n),(await Cm(n,e)).token}async function XR(t){const{registrationPromise:e}=await Am(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t){if(!t||!t.options)throw Sd("App Configuration");if(!t.name)throw Sd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Sd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Sd(t){return Ts.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="installations",JR="installations-internal",eP=t=>{const e=t.getProvider("app").getImmediate(),n=ZR(e),i=Cs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},tP=t=>{const e=t.getProvider("app").getImmediate(),n=Cs(e,G1).getImmediate();return{getId:()=>QR(n),getToken:o=>YR(n,o)}};function nP(){Sr(new er(G1,eP,"PUBLIC")),Sr(new er(JR,tP,"PRIVATE"))}nP();Jn(P1,xm);Jn(P1,xm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc="analytics",rP="firebase_id",iP="origin",sP=60*1e3,oP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new dh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_n=new Vl("analytics","Analytics",aP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t){if(!t.startsWith(Rm)){const e=_n.create("invalid-gtag-resource",{gtagURL:t});return ln.warn(e.message),""}return t}function K1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function uP(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function cP(t,e){const n=uP("firebase-js-sdk-policy",{createScriptURL:lP}),i=document.createElement("script"),o=`${Rm}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function hP(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function fP(t,e,n,i,o,a){const c=i[o];try{if(c)await e[c];else{const p=(await K1(n)).find(m=>m.measurementId===o);p&&await e[p.appId]}}catch(f){ln.error(f)}t("config",o,a)}async function dP(t,e,n,i,o){try{let a=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const f=await K1(n);for(const p of c){const m=f.find(w=>w.measurementId===p),v=m&&e[m.appId];if(v)a.push(v);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",i,o||{})}catch(a){ln.error(a)}}function pP(t,e,n,i){async function o(a,...c){try{if(a==="event"){const[f,p]=c;await dP(t,e,n,f,p)}else if(a==="config"){const[f,p]=c;await fP(t,e,n,i,f,p)}else if(a==="consent"){const[f,p]=c;t("consent",f,p)}else if(a==="get"){const[f,p,m]=c;t("get",f,p,m)}else if(a==="set"){const[f]=c;t("set",f)}else t(a,...c)}catch(f){ln.error(f)}}return o}function mP(t,e,n,i,o){let a=function(...c){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=pP(a,t,e,n),{gtagCore:a,wrappedGtag:window[o]}}function gP(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Rm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=30,vP=1e3;class _P{constructor(e={},n=vP){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const W1=new _P;function wP(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function EP(t){const{appId:e,apiKey:n}=t,i={method:"GET",headers:wP(n)},o=oP.replace("{app-id}",e),a=await fetch(o,i);if(a.status!==200&&a.status!==304){let c="";try{const f=await a.json();f.error?.message&&(c=f.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c})}return a.json()}async function TP(t,e=W1,n){const{appId:i,apiKey:o,measurementId:a}=t.options;if(!i)throw _n.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw _n.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new IP;return setTimeout(async()=>{f.abort()},sP),Q1({appId:i,apiKey:o,measurementId:a},c,f,e)}async function Q1(t,{throttleEndTimeMillis:e,backoffCount:n},i,o=W1){const{appId:a,measurementId:c}=t;try{await SP(i,e)}catch(f){if(c)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:a,measurementId:c};throw f}try{const f=await EP(t);return o.deleteThrottleMetadata(a),f}catch(f){const p=f;if(!xP(p)){if(o.deleteThrottleMetadata(a),c)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:a,measurementId:c};throw f}const m=Number(p?.customData?.httpStatus)===503?jd(n,o.intervalMillis,yP):jd(n,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return o.setThrottleMetadata(a,v),ln.debug(`Calling attemptFetch again in ${m} millis`),Q1(t,v,i,o)}}function SP(t,e){return new Promise((n,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(a),i(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xP(t){if(!(t instanceof Li)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class IP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function AP(t,e,n,i,o){if(o&&o.global){t("event",n,i);return}else{const a=await e,c={...i,send_to:a};t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(){if(Ml())try{await Gp()}catch(t){return ln.warn(_n.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return ln.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function RP(t,e,n,i,o,a,c){const f=TP(t);f.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>ln.error(E)),e.push(f);const p=CP().then(E=>{if(E)return i.getId()}),[m,v]=await Promise.all([f,p]);gP(a)||cP(a,m.measurementId),o("js",new Date);const w=c?.config??{};return w[iP]="firebase",w.update=!0,v!=null&&(w[rP]=v),o("config",m.measurementId,w),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.app=e}_delete(){return delete dl[this.app.options.appId],Promise.resolve()}}let dl={},kv=[];const Dv={};let xd="dataLayer",NP="gtag",bv,Y1,Mv=!1;function kP(){const t=[];if(tw()&&t.push("This is a browser extension environment."),nw()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,o)=>`(${o+1}) ${i}`).join(" "),n=_n.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function DP(t,e,n){kP();const i=t.options.appId;if(!i)throw _n.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _n.create("no-api-key");if(dl[i]!=null)throw _n.create("already-exists",{id:i});if(!Mv){hP(xd);const{wrappedGtag:a,gtagCore:c}=mP(dl,kv,Dv,xd,NP);Y1=a,bv=c,Mv=!0}return dl[i]=RP(t,kv,Dv,e,bv,xd,n),new PP(t)}function bP(t=Wp()){t=ws(t);const e=Cs(t,Hc);return e.isInitialized()?e.getImmediate():MP(t)}function MP(t,e={}){const n=Cs(t,Hc);if(n.isInitialized()){const o=n.getImmediate();if(vl(e,n.getOptions()))return o;throw _n.create("already-initialized")}return n.initialize({options:e})}async function VP(){if(tw()||!nw()||!Ml())return!1;try{return await Gp()}catch{return!1}}function OP(t,e,n,i){t=ws(t),AP(Y1,dl[t.app.options.appId],e,n,i).catch(o=>ln.error(o))}const Vv="@firebase/analytics",Ov="0.10.18";function LP(){Sr(new er(Hc,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return DP(i,o,n)},"PUBLIC")),Sr(new er("analytics-internal",t,"PRIVATE")),Jn(Vv,Ov),Jn(Vv,Ov,"esm2020");function t(e){try{const n=e.getProvider(Hc).getImmediate();return{logEvent:(i,o,a)=>OP(n,i,o,a)}}catch(n){throw _n.create("interop-component-reg-failed",{reason:n})}}}LP();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=new Map,X1={activated:!1,tokenObservers:[]},FP={initialized:!1,enabled:!1};function St(t){return fp.get(t)||{...X1}}function jP(t,e){return fp.set(t,e),fp.get(t)}function Rh(){return FP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="https://content-firebaseappcheck.googleapis.com/v1",BP="exchangeRecaptchaV3Token",UP="exchangeDebugToken",Lv={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},zP=1440*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n,i,o,a){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=o,o>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new yl,this.pending.promise.catch(n=>{}),await qP(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new yl,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function qP(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},on=new Vl("appCheck","AppCheck",HP);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t=!1){return t?self.grecaptcha?.enterprise:self.grecaptcha}function Pm(t){if(!St(t).activated)throw on.create("use-before-activation",{appName:t.name})}function J1(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),i=Math.floor((e-n*3600*24)/3600),o=Math.floor((e-n*3600*24-i*3600)/60),a=e-n*3600*24-i*3600-o*60;let c="";return n&&(c+=hc(n)+"d:"),i&&(c+=hc(i)+"h:"),c+=hc(o)+"m:"+hc(a)+"s",c}function hc(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nm({url:t,body:e},n){const i={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){const w=await o.getHeartbeatsHeader();w&&(i["X-Firebase-Client"]=w)}const a={method:"POST",body:JSON.stringify(e),headers:i};let c;try{c=await fetch(t,a)}catch(w){throw on.create("fetch-network-error",{originalErrorMessage:w?.message})}if(c.status!==200)throw on.create("fetch-status-error",{httpStatus:c.status});let f;try{f=await c.json()}catch(w){throw on.create("fetch-parse-error",{originalErrorMessage:w?.message})}const p=f.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw on.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const m=Number(p[1])*1e3,v=Date.now();return{token:f.token,expireTimeMillis:v+m,issuedAtTimeMillis:v}}function GP(t,e){const{projectId:n,appId:i,apiKey:o}=t.options;return{url:`${Z1}/projects/${n}/apps/${i}:${BP}?key=${o}`,body:{recaptcha_v3_token:e}}}function eE(t,e){const{projectId:n,appId:i,apiKey:o}=t.options;return{url:`${Z1}/projects/${n}/apps/${i}:${UP}?key=${o}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="firebase-app-check-database",WP=1,Il="firebase-app-check-store",tE="debug-token";let fc=null;function nE(){return fc||(fc=new Promise((t,e)=>{try{const n=indexedDB.open(KP,WP);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{e(on.create("storage-open",{originalErrorMessage:i.target.error?.message}))},n.onupgradeneeded=i=>{const o=i.target.result;switch(i.oldVersion){case 0:o.createObjectStore(Il,{keyPath:"compositeKey"})}}}catch(n){e(on.create("storage-open",{originalErrorMessage:n?.message}))}}),fc)}function QP(t){return iE(sE(t))}function YP(t,e){return rE(sE(t),e)}function XP(t){return rE(tE,t)}function ZP(){return iE(tE)}async function rE(t,e){const i=(await nE()).transaction(Il,"readwrite"),a=i.objectStore(Il).put({compositeKey:t,value:e});return new Promise((c,f)=>{a.onsuccess=p=>{c()},i.onerror=p=>{f(on.create("storage-set",{originalErrorMessage:p.target.error?.message}))}})}async function iE(t){const n=(await nE()).transaction(Il,"readonly"),o=n.objectStore(Il).get(t);return new Promise((a,c)=>{o.onsuccess=f=>{const p=f.target.result;a(p?p.value:void 0)},n.onerror=f=>{c(on.create("storage-get",{originalErrorMessage:f.target.error?.message}))}})}function sE(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new dh("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP(t){if(Ml()){let e;try{e=await QP(t)}catch(n){Ci.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function Id(t,e){return Ml()?YP(t,e).catch(n=>{Ci.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function eN(){let t;try{t=await ZP()}catch{}if(t)return t;{const e=crypto.randomUUID();return XP(e).catch(n=>Ci.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(){return Rh().enabled}async function Dm(){const t=Rh();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function tN(){const t=J_(),e=Rh();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new yl;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(eN())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={error:"UNKNOWN_ERROR"};function rN(t){return $p.encodeString(JSON.stringify(t),!1)}async function dp(t,e=!1,n=!1){const i=t.app;Pm(i);const o=St(i);let a=o.token,c;if(a&&!Po(a)&&(o.token=void 0,a=void 0),!a){const m=await o.cachedTokenPromise;m&&(Po(m)?a=m:await Id(i,void 0))}if(!e&&a&&Po(a))return{token:a.token};let f=!1;if(km())try{o.exchangeTokenPromise||(o.exchangeTokenPromise=Nm(eE(i,await Dm()),t.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),f=!0);const m=await o.exchangeTokenPromise;return await Id(i,m),o.token=m,{token:m.token}}catch(m){return m.code==="appCheck/throttled"||m.code==="appCheck/initial-throttle"?Ci.warn(m.message):n&&Ci.error(m),Ad(m)}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),f=!0),a=await St(i).exchangeTokenPromise}catch(m){m.code==="appCheck/throttled"||m.code==="appCheck/initial-throttle"?Ci.warn(m.message):n&&Ci.error(m),c=m}let p;return a?c?Po(a)?p={token:a.token,internalError:c}:p=Ad(c):(p={token:a.token},o.token=a,await Id(i,a)):p=Ad(c),f&&lE(i,p),p}async function iN(t){const e=t.app;Pm(e);const{provider:n}=St(e);if(km()){const i=await Dm(),{token:o}=await Nm(eE(e,i),t.heartbeatServiceProvider);return{token:o}}else{const{token:i}=await n.getToken();return{token:i}}}function oE(t,e,n,i){const{app:o}=t,a=St(o),c={next:n,error:i,type:e};if(a.tokenObservers=[...a.tokenObservers,c],a.token&&Po(a.token)){const f=a.token;Promise.resolve().then(()=>{n({token:f.token}),jv(t)}).catch(()=>{})}a.cachedTokenPromise.then(()=>jv(t))}function aE(t,e){const n=St(t),i=n.tokenObservers.filter(o=>o.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function jv(t){const{app:e}=t,n=St(e);let i=n.tokenRefresher;i||(i=sN(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function sN(t){const{app:e}=t;return new $P(async()=>{const n=St(e);let i;if(n.token?i=await dp(t,!0):i=await dp(t),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{const n=St(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const o=n.token.expireTimeMillis-300*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},Lv.RETRIAL_MIN_WAIT,Lv.RETRIAL_MAX_WAIT)}function lE(t,e){const n=St(t).tokenObservers;for(const i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Po(t){return t.expireTimeMillis-Date.now()>0}function Ad(t){return{token:rN(nN),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=St(this.app);for(const n of e)aE(this.app,n.next);return Promise.resolve()}}function aN(t,e){return new oN(t,e)}function lN(t){return{getToken:e=>dp(t,e),getLimitedUseToken:()=>iN(t),addTokenListener:e=>oE(t,"INTERNAL",e),removeTokenListener:e=>aE(t.app,e)}}const uN="@firebase/app-check",cN="0.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="https://www.google.com/recaptcha/api.js";function fN(t,e){const n=new yl,i=St(t);i.reCAPTCHAState={initialized:n};const o=dN(t),a=Fv(!1);return a?Bv(t,e,a,o,n):gN(()=>{const c=Fv(!1);if(!c)throw new Error("no recaptcha");Bv(t,e,c,o,n)}),n.promise}function Bv(t,e,n,i,o){n.ready(()=>{mN(t,e,n,i),o.resolve(n)})}function dN(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function pN(t){Pm(t);const n=await St(t).reCAPTCHAState.initialized.promise;return new Promise((i,o)=>{const a=St(t).reCAPTCHAState;n.ready(()=>{i(n.execute(a.widgetId,{action:"fire_app_check"}))})})}function mN(t,e,n,i){const o=n.render(i,{sitekey:e,size:"invisible",callback:()=>{St(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{St(t).reCAPTCHAState.succeeded=!1}}),a=St(t);a.reCAPTCHAState={...a.reCAPTCHAState,widgetId:o}}function gN(t){const e=document.createElement("script");e.src=hN,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){vN(this._throttleData);const e=await pN(this._app).catch(i=>{throw on.create("recaptcha-error")});if(!St(this._app).reCAPTCHAState?.succeeded)throw on.create("recaptcha-error");let n;try{n=await Nm(GP(this._app,e),this._heartbeatServiceProvider)}catch(i){throw i.code?.includes("fetch-status-error")?(this._throttleData=yN(Number(i.customData?.httpStatus),this._throttleData),on.create("initial-throttle",{time:J1(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):i}return this._throttleData=null,n}initialize(e){this._app=e,this._heartbeatServiceProvider=Cs(e,"heartbeat"),fN(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof bm?this._siteKey===e._siteKey:!1}}function yN(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+zP,httpStatus:t};{const n=e?e.backoffCount:0,i=jd(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+i,httpStatus:t}}}function vN(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw on.create("throttled",{time:J1(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t=Wp(),e){t=ws(t);const n=Cs(t,"app-check");if(Rh().initialized||tN(),km()&&Dm().then(o=>console.log(`App Check debug token: ${o}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(a.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&a.provider.isEqual(e.provider))return o;throw on.create("already-initialized",{appName:t.name})}const i=n.initialize({options:e});return wN(t,e.provider,e.isTokenAutoRefreshEnabled),St(t).isTokenAutoRefreshEnabled&&oE(i,"INTERNAL",()=>{}),i}function wN(t,e,n=!1){const i=jP(t,{...X1});i.activated=!0,i.provider=e,i.cachedTokenPromise=JP(t).then(o=>(o&&Po(o)&&(i.token=o,lE(t,{token:o.token})),o)),i.isTokenAutoRefreshEnabled=n&&t.automaticDataCollectionEnabled,!t.automaticDataCollectionEnabled&&n&&Ci.warn("`isTokenAutoRefreshEnabled` is true but `automaticDataCollectionEnabled` was set to false during `initializeApp()`. This blocks automatic token refresh."),i.provider.initialize(t)}const EN="app-check",Uv="app-check-internal";function TN(){Sr(new er(EN,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return aN(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Uv).initialize()})),Sr(new er(Uv,t=>{const e=t.getProvider("app-check").getImmediate();return lN(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Jn(uN,cN)}TN();const uE={apiKey:"AIzaSyBNnluwADJFaceTVz9NHv9Uv23CGbgF9Iw",authDomain:"wander-month-map.firebaseapp.com",projectId:"wander-month-map",storageBucket:"wander-month-map.firebasestorage.app",messagingSenderId:"704472271281",appId:"1:704472271281:web:3e6620c41e9b9929721590",measurementId:"G-DLL5TMYY76",appCheckSiteKey:"6LfuA8ArAAAAACaHuZpRP0Bo6icA-hpI2cVYRZ-E"},pp=ow(uE);if(typeof window<"u"){const t=uE.appCheckSiteKey;window.location.hostname==="localhost"&&(window.FIREBASE_APPCHECK_DEBUG_TOKEN=!0),t&&_N(pp,{provider:new bm(t),isTokenAutoRefreshEnabled:!0}),VP().then(e=>e?bP(pp):null).then(e=>{})}const SN=X2(pp);let pl=null;const xN=async()=>{if(pl)return pl;try{const t=Y2(SN,"countries"),e=cR(t,hR("name")),n=await mR(e),i=[];if(n.forEach(o=>{const a=o.data(),{createdAt:c,updatedAt:f,...p}=a;i.push(p)}),!Array.isArray(i))throw new Error("Invalid tourism data format: missing countries array");return pl=i,i}catch{return[]}},IN=async()=>["January","February","March","April","May","June","July","August","September","October","November","December"],ea=()=>pl||[],Gc=t=>{if(!t)return"";const e=ea(),n={};return e.forEach(i=>{n[i.code]=i.code,n[i.name.toUpperCase()]=i.code,i.alternativeCodes&&(i.alternativeCodes.alpha3&&(n[i.alternativeCodes.alpha3]=i.code),i.alternativeCodes.numeric&&(n[i.alternativeCodes.numeric]=i.code),i.alternativeCodes.commonNames&&i.alternativeCodes.commonNames.forEach(o=>{n[o.toUpperCase()]=i.code}))}),n[t]||t},AN=(t,e)=>{const n=Gc(t),o=ea().find(a=>a.code===n);return!!(o&&o.monthlyData[e])},CN=t=>{const e=typeof t=="string"?t:t.selectedMonth,n=typeof t=="string"?void 0:t.visaData,[i,o]=oe.useState(null),a=oe.useRef(null),c=oe.useRef(null),f=(w,E)=>{const x=Gc(E),L=ea().find(A=>A.code===x);if(!L||!L.monthlyData[e]||a.current===E)return;a.current=E;const k=L.monthlyData[e],G=w.currentTarget.closest(".relative")?.getBoundingClientRect();let Z,J;if("touches"in w){const A=w.touches[0];Z=A.clientX,J=A.clientY}else Z=w.clientX,J=w.clientY;const ue=G?Z-G.left:Z,le=G?J-G.top:J;let b;if(n?.selectedPassportIso3){const A=Gc(E),R=String(E),M=n.numericToIso3[R]||A;M&&(b=(n.byPassport[n.selectedPassportIso3]||{})[M]||"n/a")}o({country:L.name,avgDayTemp:k.avgDayTemp,avgNightTemp:k.avgNightTemp,rainfall:k.rainfall,description:k.description||"",bestTime:k.bestTime,x:ue,y:le,regions:L.regions,selectedMonth:e,visaRequirement:b,passportCountry:n?.passportCountryName})},p=()=>{c.current&&(clearTimeout(c.current),c.current=null),o(null),a.current=null};return{tooltip:i,handleCountryHover:f,handleCountryLeave:p,handleTouchStart:(w,E)=>{w.preventDefault(),f(w,E)},handleTouchEnd:w=>{w.preventDefault(),c.current=setTimeout(()=>{p()},150)}}},RN="modulepreload",PN=function(t){return"/travel/"+t},zv={},NN=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let m=function(v){return Promise.all(v.map(w=>Promise.resolve(w).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};var c=m;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");o=m(n.map(v=>{if(v=PN(v),v in zv)return;zv[v]=!0;const w=v.endsWith(".css"),E=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${E}`))return;const x=document.createElement("link");if(x.rel=w?"stylesheet":RN,w||(x.as="script"),x.crossOrigin="",x.href=v,p&&x.setAttribute("nonce",p),document.head.appendChild(x),w)return new Promise((P,L)=>{x.addEventListener("load",P),x.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${v}`)))})}))}function a(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return o.then(f=>{for(const p of f||[])p.status==="rejected"&&a(p.reason);return e().catch(a)})};function kN(t){return t}function DN(t){if(t==null)return kN;var e,n,i=t.scale[0],o=t.scale[1],a=t.translate[0],c=t.translate[1];return function(f,p){p||(e=n=0);var m=2,v=f.length,w=new Array(v);for(w[0]=(e+=f[0])*i+a,w[1]=(n+=f[1])*o+c;m<v;)w[m]=f[m],++m;return w}}function bN(t,e){for(var n,i=t.length,o=i-e;o<--i;)n=t[o],t[o++]=t[i],t[i]=n}function MN(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return $v(t,n)})}:$v(t,e)}function $v(t,e){var n=e.id,i=e.bbox,o=e.properties==null?{}:e.properties,a=VN(t,e);return n==null&&i==null?{type:"Feature",properties:o,geometry:a}:i==null?{type:"Feature",id:n,properties:o,geometry:a}:{type:"Feature",id:n,bbox:i,properties:o,geometry:a}}function VN(t,e){var n=DN(t.transform),i=t.arcs;function o(v,w){w.length&&w.pop();for(var E=i[v<0?~v:v],x=0,P=E.length;x<P;++x)w.push(n(E[x],x));v<0&&bN(w,P)}function a(v){return n(v)}function c(v){for(var w=[],E=0,x=v.length;E<x;++E)o(v[E],w);return w.length<2&&w.push(w[0]),w}function f(v){for(var w=c(v);w.length<4;)w.push(w[0]);return w}function p(v){return v.map(f)}function m(v){var w=v.type,E;switch(w){case"GeometryCollection":return{type:w,geometries:v.geometries.map(m)};case"Point":E=a(v.coordinates);break;case"MultiPoint":E=v.coordinates.map(a);break;case"LineString":E=c(v.arcs);break;case"MultiLineString":E=v.arcs.map(c);break;case"Polygon":E=p(v.arcs);break;case"MultiPolygon":E=v.arcs.map(p);break;default:return null}return{type:w,coordinates:E}}return m(e)}const ON=()=>{const[t,e]=oe.useState(null),[n,i]=oe.useState(!0),[o,a]=oe.useState(null);return oe.useEffect(()=>{(async()=>{try{i(!0);const f=await NN(()=>import("./countries-50m-DgYPl3oJ.js"),[]),p=MN(f,f.objects.countries);e(p),a(null)}catch(f){console.error("Error loading world data:",f),a("Failed to load world map data"),e(null)}finally{i(!1)}})()},[]),{worldData:t,loading:n,error:o}};var mp="http://www.w3.org/1999/xhtml";const qv={svg:"http://www.w3.org/2000/svg",xhtml:mp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ph(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),qv.hasOwnProperty(e)?{space:qv[e],local:t}:t}function LN(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===mp&&e.documentElement.namespaceURI===mp?e.createElement(t):e.createElementNS(n,t)}}function FN(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function cE(t){var e=Ph(t);return(e.local?FN:LN)(e)}function jN(){}function Mm(t){return t==null?jN:function(){return this.querySelector(t)}}function BN(t){typeof t!="function"&&(t=Mm(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],c=a.length,f=i[o]=new Array(c),p,m,v=0;v<c;++v)(p=a[v])&&(m=t.call(p,p.__data__,v,a))&&("__data__"in p&&(m.__data__=p.__data__),f[v]=m);return new wn(i,this._parents)}function UN(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function zN(){return[]}function hE(t){return t==null?zN:function(){return this.querySelectorAll(t)}}function $N(t){return function(){return UN(t.apply(this,arguments))}}function qN(t){typeof t=="function"?t=$N(t):t=hE(t);for(var e=this._groups,n=e.length,i=[],o=[],a=0;a<n;++a)for(var c=e[a],f=c.length,p,m=0;m<f;++m)(p=c[m])&&(i.push(t.call(p,p.__data__,m,c)),o.push(p));return new wn(i,o)}function fE(t){return function(){return this.matches(t)}}function dE(t){return function(e){return e.matches(t)}}var HN=Array.prototype.find;function GN(t){return function(){return HN.call(this.children,t)}}function KN(){return this.firstElementChild}function WN(t){return this.select(t==null?KN:GN(typeof t=="function"?t:dE(t)))}var QN=Array.prototype.filter;function YN(){return Array.from(this.children)}function XN(t){return function(){return QN.call(this.children,t)}}function ZN(t){return this.selectAll(t==null?YN:XN(typeof t=="function"?t:dE(t)))}function JN(t){typeof t!="function"&&(t=fE(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],c=a.length,f=i[o]=[],p,m=0;m<c;++m)(p=a[m])&&t.call(p,p.__data__,m,a)&&f.push(p);return new wn(i,this._parents)}function pE(t){return new Array(t.length)}function ek(){return new wn(this._enter||this._groups.map(pE),this._parents)}function Kc(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Kc.prototype={constructor:Kc,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function tk(t){return function(){return t}}function nk(t,e,n,i,o,a){for(var c=0,f,p=e.length,m=a.length;c<m;++c)(f=e[c])?(f.__data__=a[c],i[c]=f):n[c]=new Kc(t,a[c]);for(;c<p;++c)(f=e[c])&&(o[c]=f)}function rk(t,e,n,i,o,a,c){var f,p,m=new Map,v=e.length,w=a.length,E=new Array(v),x;for(f=0;f<v;++f)(p=e[f])&&(E[f]=x=c.call(p,p.__data__,f,e)+"",m.has(x)?o[f]=p:m.set(x,p));for(f=0;f<w;++f)x=c.call(t,a[f],f,a)+"",(p=m.get(x))?(i[f]=p,p.__data__=a[f],m.delete(x)):n[f]=new Kc(t,a[f]);for(f=0;f<v;++f)(p=e[f])&&m.get(E[f])===p&&(o[f]=p)}function ik(t){return t.__data__}function sk(t,e){if(!arguments.length)return Array.from(this,ik);var n=e?rk:nk,i=this._parents,o=this._groups;typeof t!="function"&&(t=tk(t));for(var a=o.length,c=new Array(a),f=new Array(a),p=new Array(a),m=0;m<a;++m){var v=i[m],w=o[m],E=w.length,x=ok(t.call(v,v&&v.__data__,m,i)),P=x.length,L=f[m]=new Array(P),k=c[m]=new Array(P),q=p[m]=new Array(E);n(v,w,L,k,q,x,e);for(var G=0,Z=0,J,ue;G<P;++G)if(J=L[G]){for(G>=Z&&(Z=G+1);!(ue=k[Z])&&++Z<P;);J._next=ue||null}}return c=new wn(c,i),c._enter=f,c._exit=p,c}function ok(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ak(){return new wn(this._exit||this._groups.map(pE),this._parents)}function lk(t,e,n){var i=this.enter(),o=this,a=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?a.remove():n(a),i&&o?i.merge(o).order():o}function uk(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,a=i.length,c=Math.min(o,a),f=new Array(o),p=0;p<c;++p)for(var m=n[p],v=i[p],w=m.length,E=f[p]=new Array(w),x,P=0;P<w;++P)(x=m[P]||v[P])&&(E[P]=x);for(;p<o;++p)f[p]=n[p];return new wn(f,this._parents)}function ck(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,a=i[o],c;--o>=0;)(c=i[o])&&(a&&c.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(c,a),a=c);return this}function hk(t){t||(t=fk);function e(w,E){return w&&E?t(w.__data__,E.__data__):!w-!E}for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a){for(var c=n[a],f=c.length,p=o[a]=new Array(f),m,v=0;v<f;++v)(m=c[v])&&(p[v]=m);p.sort(e)}return new wn(o,this._parents).order()}function fk(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function dk(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function pk(){return Array.from(this)}function mk(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,a=i.length;o<a;++o){var c=i[o];if(c)return c}return null}function gk(){let t=0;for(const e of this)++t;return t}function yk(){return!this.node()}function vk(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],a=0,c=o.length,f;a<c;++a)(f=o[a])&&t.call(f,f.__data__,a,o);return this}function _k(t){return function(){this.removeAttribute(t)}}function wk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ek(t,e){return function(){this.setAttribute(t,e)}}function Tk(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Sk(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function xk(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ik(t,e){var n=Ph(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?wk:_k:typeof e=="function"?n.local?xk:Sk:n.local?Tk:Ek)(n,e))}function mE(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ak(t){return function(){this.style.removeProperty(t)}}function Ck(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Rk(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Pk(t,e,n){return arguments.length>1?this.each((e==null?Ak:typeof e=="function"?Rk:Ck)(t,e,n??"")):Ho(this.node(),t)}function Ho(t,e){return t.style.getPropertyValue(e)||mE(t).getComputedStyle(t,null).getPropertyValue(e)}function Nk(t){return function(){delete this[t]}}function kk(t,e){return function(){this[t]=e}}function Dk(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function bk(t,e){return arguments.length>1?this.each((e==null?Nk:typeof e=="function"?Dk:kk)(t,e)):this.node()[t]}function gE(t){return t.trim().split(/^|\s+/)}function Vm(t){return t.classList||new yE(t)}function yE(t){this._node=t,this._names=gE(t.getAttribute("class")||"")}yE.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function vE(t,e){for(var n=Vm(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function _E(t,e){for(var n=Vm(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function Mk(t){return function(){vE(this,t)}}function Vk(t){return function(){_E(this,t)}}function Ok(t,e){return function(){(e.apply(this,arguments)?vE:_E)(this,t)}}function Lk(t,e){var n=gE(t+"");if(arguments.length<2){for(var i=Vm(this.node()),o=-1,a=n.length;++o<a;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?Ok:e?Mk:Vk)(n,e))}function Fk(){this.textContent=""}function jk(t){return function(){this.textContent=t}}function Bk(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Uk(t){return arguments.length?this.each(t==null?Fk:(typeof t=="function"?Bk:jk)(t)):this.node().textContent}function zk(){this.innerHTML=""}function $k(t){return function(){this.innerHTML=t}}function qk(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Hk(t){return arguments.length?this.each(t==null?zk:(typeof t=="function"?qk:$k)(t)):this.node().innerHTML}function Gk(){this.nextSibling&&this.parentNode.appendChild(this)}function Kk(){return this.each(Gk)}function Wk(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qk(){return this.each(Wk)}function Yk(t){var e=typeof t=="function"?t:cE(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Xk(){return null}function Zk(t,e){var n=typeof t=="function"?t:cE(t),i=e==null?Xk:typeof e=="function"?e:Mm(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Jk(){var t=this.parentNode;t&&t.removeChild(this)}function e4(){return this.each(Jk)}function t4(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function n4(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function r4(t){return this.select(t?n4:t4)}function i4(t){return arguments.length?this.property("__data__",t):this.node().__data__}function s4(t){return function(e){t.call(this,e,this.__data__)}}function o4(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function a4(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,a;n<o;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++i]=a;++i?e.length=i:delete this.__on}}}function l4(t,e,n){return function(){var i=this.__on,o,a=s4(e);if(i){for(var c=0,f=i.length;c<f;++c)if((o=i[c]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=e;return}}this.addEventListener(t.type,a,n),o={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(o):this.__on=[o]}}function u4(t,e,n){var i=o4(t+""),o,a=i.length,c;if(arguments.length<2){var f=this.node().__on;if(f){for(var p=0,m=f.length,v;p<m;++p)for(o=0,v=f[p];o<a;++o)if((c=i[o]).type===v.type&&c.name===v.name)return v.value}return}for(f=e?l4:a4,o=0;o<a;++o)this.each(f(i[o],e,n));return this}function wE(t,e,n){var i=mE(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function c4(t,e){return function(){return wE(this,t,e)}}function h4(t,e){return function(){return wE(this,t,e.apply(this,arguments))}}function f4(t,e){return this.each((typeof e=="function"?h4:c4)(t,e))}function*d4(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,a=i.length,c;o<a;++o)(c=i[o])&&(yield c)}var EE=[null];function wn(t,e){this._groups=t,this._parents=e}function Bl(){return new wn([[document.documentElement]],EE)}function p4(){return this}wn.prototype=Bl.prototype={constructor:wn,select:BN,selectAll:qN,selectChild:WN,selectChildren:ZN,filter:JN,data:sk,enter:ek,exit:ak,join:lk,merge:uk,selection:p4,order:ck,sort:hk,call:dk,nodes:pk,node:mk,size:gk,empty:yk,each:vk,attr:Ik,style:Pk,property:bk,classed:Lk,text:Uk,html:Hk,raise:Kk,lower:Qk,append:Yk,insert:Zk,remove:e4,clone:r4,datum:i4,on:u4,dispatch:f4,[Symbol.iterator]:d4};function vn(t){return typeof t=="string"?new wn([[document.querySelector(t)]],[document.documentElement]):new wn([[t]],EE)}function m4(t){let e;for(;e=t.sourceEvent;)t=e;return t}function fs(t,e){if(t=m4(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}var g4={value:()=>{}};function Om(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ac(n)}function Ac(t){this._=t}function y4(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ac.prototype=Om.prototype={constructor:Ac,on:function(t,e){var n=this._,i=y4(t+"",n),o,a=-1,c=i.length;if(arguments.length<2){for(;++a<c;)if((o=(t=i[a]).type)&&(o=v4(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<c;)if(o=(t=i[a]).type)n[o]=Hv(n[o],t.name,e);else if(e==null)for(o in n)n[o]=Hv(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ac(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,a;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],i=0,o=a.length;i<o;++i)a[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,a=i.length;o<a;++o)i[o].value.apply(e,n)}};function v4(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function Hv(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=g4,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}const gp={capture:!0,passive:!1};function yp(t){t.preventDefault(),t.stopImmediatePropagation()}function _4(t){var e=t.document.documentElement,n=vn(t).on("dragstart.drag",yp,gp);"onselectstart"in e?n.on("selectstart.drag",yp,gp):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function w4(t,e){var n=t.document.documentElement,i=vn(t).on("dragstart.drag",null);e&&(i.on("click.drag",yp,gp),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Lm(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function TE(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Ul(){}var Al=.7,Wc=1/Al,Lo="\\s*([+-]?\\d+)\\s*",Cl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",E4=/^#([0-9a-f]{3,8})$/,T4=new RegExp(`^rgb\\(${Lo},${Lo},${Lo}\\)$`),S4=new RegExp(`^rgb\\(${Tr},${Tr},${Tr}\\)$`),x4=new RegExp(`^rgba\\(${Lo},${Lo},${Lo},${Cl}\\)$`),I4=new RegExp(`^rgba\\(${Tr},${Tr},${Tr},${Cl}\\)$`),A4=new RegExp(`^hsl\\(${Cl},${Tr},${Tr}\\)$`),C4=new RegExp(`^hsla\\(${Cl},${Tr},${Tr},${Cl}\\)$`),Gv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lm(Ul,Rl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Kv,formatHex:Kv,formatHex8:R4,formatHsl:P4,formatRgb:Wv,toString:Wv});function Kv(){return this.rgb().formatHex()}function R4(){return this.rgb().formatHex8()}function P4(){return SE(this).formatHsl()}function Wv(){return this.rgb().formatRgb()}function Rl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=E4.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Qv(e):n===3?new an(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?dc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?dc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=T4.exec(t))?new an(e[1],e[2],e[3],1):(e=S4.exec(t))?new an(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=x4.exec(t))?dc(e[1],e[2],e[3],e[4]):(e=I4.exec(t))?dc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=A4.exec(t))?Zv(e[1],e[2]/100,e[3]/100,1):(e=C4.exec(t))?Zv(e[1],e[2]/100,e[3]/100,e[4]):Gv.hasOwnProperty(t)?Qv(Gv[t]):t==="transparent"?new an(NaN,NaN,NaN,0):null}function Qv(t){return new an(t>>16&255,t>>8&255,t&255,1)}function dc(t,e,n,i){return i<=0&&(t=e=n=NaN),new an(t,e,n,i)}function N4(t){return t instanceof Ul||(t=Rl(t)),t?(t=t.rgb(),new an(t.r,t.g,t.b,t.opacity)):new an}function vp(t,e,n,i){return arguments.length===1?N4(t):new an(t,e,n,i??1)}function an(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Lm(an,vp,TE(Ul,{brighter(t){return t=t==null?Wc:Math.pow(Wc,t),new an(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Al:Math.pow(Al,t),new an(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new an(_s(this.r),_s(this.g),_s(this.b),Qc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yv,formatHex:Yv,formatHex8:k4,formatRgb:Xv,toString:Xv}));function Yv(){return`#${gs(this.r)}${gs(this.g)}${gs(this.b)}`}function k4(){return`#${gs(this.r)}${gs(this.g)}${gs(this.b)}${gs((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xv(){const t=Qc(this.opacity);return`${t===1?"rgb(":"rgba("}${_s(this.r)}, ${_s(this.g)}, ${_s(this.b)}${t===1?")":`, ${t})`}`}function Qc(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _s(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gs(t){return t=_s(t),(t<16?"0":"")+t.toString(16)}function Zv(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zn(t,e,n,i)}function SE(t){if(t instanceof Zn)return new Zn(t.h,t.s,t.l,t.opacity);if(t instanceof Ul||(t=Rl(t)),!t)return new Zn;if(t instanceof Zn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),a=Math.max(e,n,i),c=NaN,f=a-o,p=(a+o)/2;return f?(e===a?c=(n-i)/f+(n<i)*6:n===a?c=(i-e)/f+2:c=(e-n)/f+4,f/=p<.5?a+o:2-a-o,c*=60):f=p>0&&p<1?0:c,new Zn(c,f,p,t.opacity)}function D4(t,e,n,i){return arguments.length===1?SE(t):new Zn(t,e,n,i??1)}function Zn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Lm(Zn,D4,TE(Ul,{brighter(t){return t=t==null?Wc:Math.pow(Wc,t),new Zn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Al:Math.pow(Al,t),new Zn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new an(Cd(t>=240?t-240:t+120,o,i),Cd(t,o,i),Cd(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new Zn(Jv(this.h),pc(this.s),pc(this.l),Qc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qc(this.opacity);return`${t===1?"hsl(":"hsla("}${Jv(this.h)}, ${pc(this.s)*100}%, ${pc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Jv(t){return t=(t||0)%360,t<0?t+360:t}function pc(t){return Math.max(0,Math.min(1,t||0))}function Cd(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const xE=t=>()=>t;function b4(t,e){return function(n){return t+n*e}}function M4(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function V4(t){return(t=+t)==1?IE:function(e,n){return n-e?M4(e,n,t):xE(isNaN(e)?n:e)}}function IE(t,e){var n=e-t;return n?b4(t,n):xE(isNaN(t)?e:t)}const e_=function t(e){var n=V4(e);function i(o,a){var c=n((o=vp(o)).r,(a=vp(a)).r),f=n(o.g,a.g),p=n(o.b,a.b),m=IE(o.opacity,a.opacity);return function(v){return o.r=c(v),o.g=f(v),o.b=p(v),o.opacity=m(v),o+""}}return i.gamma=t,i}(1);function Ti(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var _p=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rd=new RegExp(_p.source,"g");function O4(t){return function(){return t}}function L4(t){return function(e){return t(e)+""}}function F4(t,e){var n=_p.lastIndex=Rd.lastIndex=0,i,o,a,c=-1,f=[],p=[];for(t=t+"",e=e+"";(i=_p.exec(t))&&(o=Rd.exec(e));)(a=o.index)>n&&(a=e.slice(n,a),f[c]?f[c]+=a:f[++c]=a),(i=i[0])===(o=o[0])?f[c]?f[c]+=o:f[++c]=o:(f[++c]=null,p.push({i:c,x:Ti(i,o)})),n=Rd.lastIndex;return n<e.length&&(a=e.slice(n),f[c]?f[c]+=a:f[++c]=a),f.length<2?p[0]?L4(p[0].x):O4(e):(e=p.length,function(m){for(var v=0,w;v<e;++v)f[(w=p[v]).i]=w.x(m);return f.join("")})}var t_=180/Math.PI,wp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function AE(t,e,n,i,o,a){var c,f,p;return(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c),(p=t*n+e*i)&&(n-=t*p,i-=e*p),(f=Math.sqrt(n*n+i*i))&&(n/=f,i/=f,p/=f),t*i<e*n&&(t=-t,e=-e,p=-p,c=-c),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*t_,skewX:Math.atan(p)*t_,scaleX:c,scaleY:f}}var mc;function j4(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?wp:AE(e.a,e.b,e.c,e.d,e.e,e.f)}function B4(t){return t==null||(mc||(mc=document.createElementNS("http://www.w3.org/2000/svg","g")),mc.setAttribute("transform",t),!(t=mc.transform.baseVal.consolidate()))?wp:(t=t.matrix,AE(t.a,t.b,t.c,t.d,t.e,t.f))}function CE(t,e,n,i){function o(m){return m.length?m.pop()+" ":""}function a(m,v,w,E,x,P){if(m!==w||v!==E){var L=x.push("translate(",null,e,null,n);P.push({i:L-4,x:Ti(m,w)},{i:L-2,x:Ti(v,E)})}else(w||E)&&x.push("translate("+w+e+E+n)}function c(m,v,w,E){m!==v?(m-v>180?v+=360:v-m>180&&(m+=360),E.push({i:w.push(o(w)+"rotate(",null,i)-2,x:Ti(m,v)})):v&&w.push(o(w)+"rotate("+v+i)}function f(m,v,w,E){m!==v?E.push({i:w.push(o(w)+"skewX(",null,i)-2,x:Ti(m,v)}):v&&w.push(o(w)+"skewX("+v+i)}function p(m,v,w,E,x,P){if(m!==w||v!==E){var L=x.push(o(x)+"scale(",null,",",null,")");P.push({i:L-4,x:Ti(m,w)},{i:L-2,x:Ti(v,E)})}else(w!==1||E!==1)&&x.push(o(x)+"scale("+w+","+E+")")}return function(m,v){var w=[],E=[];return m=t(m),v=t(v),a(m.translateX,m.translateY,v.translateX,v.translateY,w,E),c(m.rotate,v.rotate,w,E),f(m.skewX,v.skewX,w,E),p(m.scaleX,m.scaleY,v.scaleX,v.scaleY,w,E),m=v=null,function(x){for(var P=-1,L=E.length,k;++P<L;)w[(k=E[P]).i]=k.x(x);return w.join("")}}}var U4=CE(j4,"px, ","px)","deg)"),z4=CE(B4,", ",")",")"),$4=1e-12;function n_(t){return((t=Math.exp(t))+1/t)/2}function q4(t){return((t=Math.exp(t))-1/t)/2}function H4(t){return((t=Math.exp(2*t))-1)/(t+1)}const G4=function t(e,n,i){function o(a,c){var f=a[0],p=a[1],m=a[2],v=c[0],w=c[1],E=c[2],x=v-f,P=w-p,L=x*x+P*P,k,q;if(L<$4)q=Math.log(E/m)/e,k=function(b){return[f+b*x,p+b*P,m*Math.exp(e*b*q)]};else{var G=Math.sqrt(L),Z=(E*E-m*m+i*L)/(2*m*n*G),J=(E*E-m*m-i*L)/(2*E*n*G),ue=Math.log(Math.sqrt(Z*Z+1)-Z),le=Math.log(Math.sqrt(J*J+1)-J);q=(le-ue)/e,k=function(b){var A=b*q,R=n_(ue),M=m/(n*G)*(R*H4(e*A+ue)-q4(ue));return[f+M*x,p+M*P,m*R/n_(e*A+ue)]}}return k.duration=q*1e3*e/Math.SQRT2,k}return o.rho=function(a){var c=Math.max(.001,+a),f=c*c,p=f*f;return t(c,f,p)},o}(Math.SQRT2,2,4);var Go=0,tl=0,Ya=0,RE=1e3,Yc,nl,Xc=0,xs=0,Nh=0,Pl=typeof performance=="object"&&performance.now?performance:Date,PE=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Fm(){return xs||(PE(K4),xs=Pl.now()+Nh)}function K4(){xs=0}function Zc(){this._call=this._time=this._next=null}Zc.prototype=NE.prototype={constructor:Zc,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Fm():+n)+(e==null?0:+e),!this._next&&nl!==this&&(nl?nl._next=this:Yc=this,nl=this),this._call=t,this._time=n,Ep()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ep())}};function NE(t,e,n){var i=new Zc;return i.restart(t,e,n),i}function W4(){Fm(),++Go;for(var t=Yc,e;t;)(e=xs-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Go}function r_(){xs=(Xc=Pl.now())+Nh,Go=tl=0;try{W4()}finally{Go=0,Y4(),xs=0}}function Q4(){var t=Pl.now(),e=t-Xc;e>RE&&(Nh-=e,Xc=t)}function Y4(){for(var t,e=Yc,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Yc=n);nl=t,Ep(i)}function Ep(t){if(!Go){tl&&(tl=clearTimeout(tl));var e=t-xs;e>24?(t<1/0&&(tl=setTimeout(r_,t-Pl.now()-Nh)),Ya&&(Ya=clearInterval(Ya))):(Ya||(Xc=Pl.now(),Ya=setInterval(Q4,RE)),Go=1,PE(r_))}}function i_(t,e,n){var i=new Zc;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var X4=Om("start","end","cancel","interrupt"),Z4=[],kE=0,s_=1,Tp=2,Cc=3,o_=4,Sp=5,Rc=6;function kh(t,e,n,i,o,a){var c=t.__transition;if(!c)t.__transition={};else if(n in c)return;J4(t,n,{name:e,index:i,group:o,on:X4,tween:Z4,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:kE})}function jm(t,e){var n=nr(t,e);if(n.state>kE)throw new Error("too late; already scheduled");return n}function Ir(t,e){var n=nr(t,e);if(n.state>Cc)throw new Error("too late; already running");return n}function nr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function J4(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=NE(a,0,n.time);function a(m){n.state=s_,n.timer.restart(c,n.delay,n.time),n.delay<=m&&c(m-n.delay)}function c(m){var v,w,E,x;if(n.state!==s_)return p();for(v in i)if(x=i[v],x.name===n.name){if(x.state===Cc)return i_(c);x.state===o_?(x.state=Rc,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete i[v]):+v<e&&(x.state=Rc,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete i[v])}if(i_(function(){n.state===Cc&&(n.state=o_,n.timer.restart(f,n.delay,n.time),f(m))}),n.state=Tp,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Tp){for(n.state=Cc,o=new Array(E=n.tween.length),v=0,w=-1;v<E;++v)(x=n.tween[v].value.call(t,t.__data__,n.index,n.group))&&(o[++w]=x);o.length=w+1}}function f(m){for(var v=m<n.duration?n.ease.call(null,m/n.duration):(n.timer.restart(p),n.state=Sp,1),w=-1,E=o.length;++w<E;)o[w].call(t,v);n.state===Sp&&(n.on.call("end",t,t.__data__,n.index,n.group),p())}function p(){n.state=Rc,n.timer.stop(),delete i[e];for(var m in i)return;delete t.__transition}}function Pc(t,e){var n=t.__transition,i,o,a=!0,c;if(n){e=e==null?null:e+"";for(c in n){if((i=n[c]).name!==e){a=!1;continue}o=i.state>Tp&&i.state<Sp,i.state=Rc,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[c]}a&&delete t.__transition}}function eD(t){return this.each(function(){Pc(this,t)})}function tD(t,e){var n,i;return function(){var o=Ir(this,t),a=o.tween;if(a!==n){i=n=a;for(var c=0,f=i.length;c<f;++c)if(i[c].name===e){i=i.slice(),i.splice(c,1);break}}o.tween=i}}function nD(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var a=Ir(this,t),c=a.tween;if(c!==i){o=(i=c).slice();for(var f={name:e,value:n},p=0,m=o.length;p<m;++p)if(o[p].name===e){o[p]=f;break}p===m&&o.push(f)}a.tween=o}}function rD(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=nr(this.node(),n).tween,o=0,a=i.length,c;o<a;++o)if((c=i[o]).name===t)return c.value;return null}return this.each((e==null?tD:nD)(n,t,e))}function Bm(t,e,n){var i=t._id;return t.each(function(){var o=Ir(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return nr(o,i).value[e]}}function DE(t,e){var n;return(typeof e=="number"?Ti:e instanceof Rl?e_:(n=Rl(e))?(e=n,e_):F4)(t,e)}function iD(t){return function(){this.removeAttribute(t)}}function sD(t){return function(){this.removeAttributeNS(t.space,t.local)}}function oD(t,e,n){var i,o=n+"",a;return function(){var c=this.getAttribute(t);return c===o?null:c===i?a:a=e(i=c,n)}}function aD(t,e,n){var i,o=n+"",a;return function(){var c=this.getAttributeNS(t.space,t.local);return c===o?null:c===i?a:a=e(i=c,n)}}function lD(t,e,n){var i,o,a;return function(){var c,f=n(this),p;return f==null?void this.removeAttribute(t):(c=this.getAttribute(t),p=f+"",c===p?null:c===i&&p===o?a:(o=p,a=e(i=c,f)))}}function uD(t,e,n){var i,o,a;return function(){var c,f=n(this),p;return f==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),p=f+"",c===p?null:c===i&&p===o?a:(o=p,a=e(i=c,f)))}}function cD(t,e){var n=Ph(t),i=n==="transform"?z4:DE;return this.attrTween(t,typeof e=="function"?(n.local?uD:lD)(n,i,Bm(this,"attr."+t,e)):e==null?(n.local?sD:iD)(n):(n.local?aD:oD)(n,i,e))}function hD(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function fD(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function dD(t,e){var n,i;function o(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&fD(t,a)),n}return o._value=e,o}function pD(t,e){var n,i;function o(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&hD(t,a)),n}return o._value=e,o}function mD(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Ph(t);return this.tween(n,(i.local?dD:pD)(i,e))}function gD(t,e){return function(){jm(this,t).delay=+e.apply(this,arguments)}}function yD(t,e){return e=+e,function(){jm(this,t).delay=e}}function vD(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?gD:yD)(e,t)):nr(this.node(),e).delay}function _D(t,e){return function(){Ir(this,t).duration=+e.apply(this,arguments)}}function wD(t,e){return e=+e,function(){Ir(this,t).duration=e}}function ED(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?_D:wD)(e,t)):nr(this.node(),e).duration}function TD(t,e){if(typeof e!="function")throw new Error;return function(){Ir(this,t).ease=e}}function SD(t){var e=this._id;return arguments.length?this.each(TD(e,t)):nr(this.node(),e).ease}function xD(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ir(this,t).ease=n}}function ID(t){if(typeof t!="function")throw new Error;return this.each(xD(this._id,t))}function AD(t){typeof t!="function"&&(t=fE(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],c=a.length,f=i[o]=[],p,m=0;m<c;++m)(p=a[m])&&t.call(p,p.__data__,m,a)&&f.push(p);return new Yr(i,this._parents,this._name,this._id)}function CD(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),c=new Array(i),f=0;f<a;++f)for(var p=e[f],m=n[f],v=p.length,w=c[f]=new Array(v),E,x=0;x<v;++x)(E=p[x]||m[x])&&(w[x]=E);for(;f<i;++f)c[f]=e[f];return new Yr(c,this._parents,this._name,this._id)}function RD(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function PD(t,e,n){var i,o,a=RD(e)?jm:Ir;return function(){var c=a(this,t),f=c.on;f!==i&&(o=(i=f).copy()).on(e,n),c.on=o}}function ND(t,e){var n=this._id;return arguments.length<2?nr(this.node(),n).on.on(t):this.each(PD(n,t,e))}function kD(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function DD(){return this.on("end.remove",kD(this._id))}function bD(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Mm(t));for(var i=this._groups,o=i.length,a=new Array(o),c=0;c<o;++c)for(var f=i[c],p=f.length,m=a[c]=new Array(p),v,w,E=0;E<p;++E)(v=f[E])&&(w=t.call(v,v.__data__,E,f))&&("__data__"in v&&(w.__data__=v.__data__),m[E]=w,kh(m[E],e,n,E,m,nr(v,n)));return new Yr(a,this._parents,e,n)}function MD(t){var e=this._name,n=this._id;typeof t!="function"&&(t=hE(t));for(var i=this._groups,o=i.length,a=[],c=[],f=0;f<o;++f)for(var p=i[f],m=p.length,v,w=0;w<m;++w)if(v=p[w]){for(var E=t.call(v,v.__data__,w,p),x,P=nr(v,n),L=0,k=E.length;L<k;++L)(x=E[L])&&kh(x,e,n,L,E,P);a.push(E),c.push(v)}return new Yr(a,c,e,n)}var VD=Bl.prototype.constructor;function OD(){return new VD(this._groups,this._parents)}function LD(t,e){var n,i,o;return function(){var a=Ho(this,t),c=(this.style.removeProperty(t),Ho(this,t));return a===c?null:a===n&&c===i?o:o=e(n=a,i=c)}}function bE(t){return function(){this.style.removeProperty(t)}}function FD(t,e,n){var i,o=n+"",a;return function(){var c=Ho(this,t);return c===o?null:c===i?a:a=e(i=c,n)}}function jD(t,e,n){var i,o,a;return function(){var c=Ho(this,t),f=n(this),p=f+"";return f==null&&(p=f=(this.style.removeProperty(t),Ho(this,t))),c===p?null:c===i&&p===o?a:(o=p,a=e(i=c,f))}}function BD(t,e){var n,i,o,a="style."+e,c="end."+a,f;return function(){var p=Ir(this,t),m=p.on,v=p.value[a]==null?f||(f=bE(e)):void 0;(m!==n||o!==v)&&(i=(n=m).copy()).on(c,o=v),p.on=i}}function UD(t,e,n){var i=(t+="")=="transform"?U4:DE;return e==null?this.styleTween(t,LD(t,i)).on("end.style."+t,bE(t)):typeof e=="function"?this.styleTween(t,jD(t,i,Bm(this,"style."+t,e))).each(BD(this._id,t)):this.styleTween(t,FD(t,i,e),n).on("end.style."+t,null)}function zD(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function $D(t,e,n){var i,o;function a(){var c=e.apply(this,arguments);return c!==o&&(i=(o=c)&&zD(t,c,n)),i}return a._value=e,a}function qD(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,$D(t,e,n??""))}function HD(t){return function(){this.textContent=t}}function GD(t){return function(){var e=t(this);this.textContent=e??""}}function KD(t){return this.tween("text",typeof t=="function"?GD(Bm(this,"text",t)):HD(t==null?"":t+""))}function WD(t){return function(e){this.textContent=t.call(this,e)}}function QD(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&WD(o)),e}return i._value=t,i}function YD(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,QD(t))}function XD(){for(var t=this._name,e=this._id,n=ME(),i=this._groups,o=i.length,a=0;a<o;++a)for(var c=i[a],f=c.length,p,m=0;m<f;++m)if(p=c[m]){var v=nr(p,e);kh(p,t,n,m,c,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new Yr(i,this._parents,t,n)}function ZD(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(a,c){var f={value:c},p={value:function(){--o===0&&a()}};n.each(function(){var m=Ir(this,i),v=m.on;v!==t&&(e=(t=v).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(p)),m.on=e}),o===0&&a()})}var JD=0;function Yr(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function ME(){return++JD}var qr=Bl.prototype;Yr.prototype={constructor:Yr,select:bD,selectAll:MD,selectChild:qr.selectChild,selectChildren:qr.selectChildren,filter:AD,merge:CD,selection:OD,transition:XD,call:qr.call,nodes:qr.nodes,node:qr.node,size:qr.size,empty:qr.empty,each:qr.each,on:ND,attr:cD,attrTween:mD,style:UD,styleTween:qD,text:KD,textTween:YD,remove:DD,tween:rD,delay:vD,duration:ED,ease:SD,easeVarying:ID,end:ZD,[Symbol.iterator]:qr[Symbol.iterator]};function eb(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var tb={time:null,delay:0,duration:250,ease:eb};function nb(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function rb(t){var e,n;t instanceof Yr?(e=t._id,t=t._name):(e=ME(),(n=tb).time=Fm(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var c=i[a],f=c.length,p,m=0;m<f;++m)(p=c[m])&&kh(p,t,e,m,c,n||nb(p,e));return new Yr(i,this._parents,t,e)}Bl.prototype.interrupt=eD;Bl.prototype.transition=rb;const gc=t=>()=>t;function ib(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Kr(t,e,n){this.k=t,this.x=e,this.y=n}Kr.prototype={constructor:Kr,scale:function(t){return t===1?this:new Kr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Kr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Um=new Kr(1,0,0);Kr.prototype;function Pd(t){t.stopImmediatePropagation()}function Xa(t){t.preventDefault(),t.stopImmediatePropagation()}function sb(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function ob(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function a_(){return this.__zoom||Um}function ab(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function lb(){return navigator.maxTouchPoints||"ontouchstart"in this}function ub(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],c=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),c>a?(a+c)/2:Math.min(0,a)||Math.max(0,c))}function l_(){var t=sb,e=ob,n=ub,i=ab,o=lb,a=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,p=G4,m=Om("start","zoom","end"),v,w,E,x=500,P=150,L=0,k=10;function q(B){B.property("__zoom",a_).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",M).filter(o).on("touchstart.zoom",D).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}q.transform=function(B,U,K,re){var Y=B.selection?B.selection():B;Y.property("__zoom",a_),B!==Y?ue(B,U,K,re):Y.interrupt().each(function(){le(this,arguments).event(re).start().zoom(null,typeof U=="function"?U.apply(this,arguments):U).end()})},q.scaleBy=function(B,U,K,re){q.scaleTo(B,function(){var Y=this.__zoom.k,ne=typeof U=="function"?U.apply(this,arguments):U;return Y*ne},K,re)},q.scaleTo=function(B,U,K,re){q.transform(B,function(){var Y=e.apply(this,arguments),ne=this.__zoom,ee=K==null?J(Y):typeof K=="function"?K.apply(this,arguments):K,O=ne.invert(ee),Q=typeof U=="function"?U.apply(this,arguments):U;return n(Z(G(ne,Q),ee,O),Y,c)},K,re)},q.translateBy=function(B,U,K,re){q.transform(B,function(){return n(this.__zoom.translate(typeof U=="function"?U.apply(this,arguments):U,typeof K=="function"?K.apply(this,arguments):K),e.apply(this,arguments),c)},null,re)},q.translateTo=function(B,U,K,re,Y){q.transform(B,function(){var ne=e.apply(this,arguments),ee=this.__zoom,O=re==null?J(ne):typeof re=="function"?re.apply(this,arguments):re;return n(Um.translate(O[0],O[1]).scale(ee.k).translate(typeof U=="function"?-U.apply(this,arguments):-U,typeof K=="function"?-K.apply(this,arguments):-K),ne,c)},re,Y)};function G(B,U){return U=Math.max(a[0],Math.min(a[1],U)),U===B.k?B:new Kr(U,B.x,B.y)}function Z(B,U,K){var re=U[0]-K[0]*B.k,Y=U[1]-K[1]*B.k;return re===B.x&&Y===B.y?B:new Kr(B.k,re,Y)}function J(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function ue(B,U,K,re){B.on("start.zoom",function(){le(this,arguments).event(re).start()}).on("interrupt.zoom end.zoom",function(){le(this,arguments).event(re).end()}).tween("zoom",function(){var Y=this,ne=arguments,ee=le(Y,ne).event(re),O=e.apply(Y,ne),Q=K==null?J(O):typeof K=="function"?K.apply(Y,ne):K,de=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),_e=Y.__zoom,Te=typeof U=="function"?U.apply(Y,ne):U,Ce=p(_e.invert(Q).concat(de/_e.k),Te.invert(Q).concat(de/Te.k));return function(Ne){if(Ne===1)Ne=Te;else{var ke=Ce(Ne),$e=de/ke[2];Ne=new Kr($e,Q[0]-ke[0]*$e,Q[1]-ke[1]*$e)}ee.zoom(null,Ne)}})}function le(B,U,K){return!K&&B.__zooming||new b(B,U)}function b(B,U){this.that=B,this.args=U,this.active=0,this.sourceEvent=null,this.extent=e.apply(B,U),this.taps=0}b.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,U){return this.mouse&&B!=="mouse"&&(this.mouse[1]=U.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=U.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=U.invert(this.touch1[0])),this.that.__zoom=U,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var U=vn(this.that).datum();m.call(B,this.that,new ib(B,{sourceEvent:this.sourceEvent,target:q,transform:this.that.__zoom,dispatch:m}),U)}};function A(B,...U){if(!t.apply(this,arguments))return;var K=le(this,U).event(B),re=this.__zoom,Y=Math.max(a[0],Math.min(a[1],re.k*Math.pow(2,i.apply(this,arguments)))),ne=fs(B);if(K.wheel)(K.mouse[0][0]!==ne[0]||K.mouse[0][1]!==ne[1])&&(K.mouse[1]=re.invert(K.mouse[0]=ne)),clearTimeout(K.wheel);else{if(re.k===Y)return;K.mouse=[ne,re.invert(ne)],Pc(this),K.start()}Xa(B),K.wheel=setTimeout(ee,P),K.zoom("mouse",n(Z(G(re,Y),K.mouse[0],K.mouse[1]),K.extent,c));function ee(){K.wheel=null,K.end()}}function R(B,...U){if(E||!t.apply(this,arguments))return;var K=B.currentTarget,re=le(this,U,!0).event(B),Y=vn(B.view).on("mousemove.zoom",Q,!0).on("mouseup.zoom",de,!0),ne=fs(B,K),ee=B.clientX,O=B.clientY;_4(B.view),Pd(B),re.mouse=[ne,this.__zoom.invert(ne)],Pc(this),re.start();function Q(_e){if(Xa(_e),!re.moved){var Te=_e.clientX-ee,Ce=_e.clientY-O;re.moved=Te*Te+Ce*Ce>L}re.event(_e).zoom("mouse",n(Z(re.that.__zoom,re.mouse[0]=fs(_e,K),re.mouse[1]),re.extent,c))}function de(_e){Y.on("mousemove.zoom mouseup.zoom",null),w4(_e.view,re.moved),Xa(_e),re.event(_e).end()}}function M(B,...U){if(t.apply(this,arguments)){var K=this.__zoom,re=fs(B.changedTouches?B.changedTouches[0]:B,this),Y=K.invert(re),ne=K.k*(B.shiftKey?.5:2),ee=n(Z(G(K,ne),re,Y),e.apply(this,U),c);Xa(B),f>0?vn(this).transition().duration(f).call(ue,ee,re,B):vn(this).call(q.transform,ee,re,B)}}function D(B,...U){if(t.apply(this,arguments)){var K=B.touches,re=K.length,Y=le(this,U,B.changedTouches.length===re).event(B),ne,ee,O,Q;for(Pd(B),ee=0;ee<re;++ee)O=K[ee],Q=fs(O,this),Q=[Q,this.__zoom.invert(Q),O.identifier],Y.touch0?!Y.touch1&&Y.touch0[2]!==Q[2]&&(Y.touch1=Q,Y.taps=0):(Y.touch0=Q,ne=!0,Y.taps=1+!!v);v&&(v=clearTimeout(v)),ne&&(Y.taps<2&&(w=Q[0],v=setTimeout(function(){v=null},x)),Pc(this),Y.start())}}function V(B,...U){if(this.__zooming){var K=le(this,U).event(B),re=B.changedTouches,Y=re.length,ne,ee,O,Q;for(Xa(B),ne=0;ne<Y;++ne)ee=re[ne],O=fs(ee,this),K.touch0&&K.touch0[2]===ee.identifier?K.touch0[0]=O:K.touch1&&K.touch1[2]===ee.identifier&&(K.touch1[0]=O);if(ee=K.that.__zoom,K.touch1){var de=K.touch0[0],_e=K.touch0[1],Te=K.touch1[0],Ce=K.touch1[1],Ne=(Ne=Te[0]-de[0])*Ne+(Ne=Te[1]-de[1])*Ne,ke=(ke=Ce[0]-_e[0])*ke+(ke=Ce[1]-_e[1])*ke;ee=G(ee,Math.sqrt(Ne/ke)),O=[(de[0]+Te[0])/2,(de[1]+Te[1])/2],Q=[(_e[0]+Ce[0])/2,(_e[1]+Ce[1])/2]}else if(K.touch0)O=K.touch0[0],Q=K.touch0[1];else return;K.zoom("touch",n(Z(ee,O,Q),K.extent,c))}}function C(B,...U){if(this.__zooming){var K=le(this,U).event(B),re=B.changedTouches,Y=re.length,ne,ee;for(Pd(B),E&&clearTimeout(E),E=setTimeout(function(){E=null},x),ne=0;ne<Y;++ne)ee=re[ne],K.touch0&&K.touch0[2]===ee.identifier?delete K.touch0:K.touch1&&K.touch1[2]===ee.identifier&&delete K.touch1;if(K.touch1&&!K.touch0&&(K.touch0=K.touch1,delete K.touch1),K.touch0)K.touch0[1]=this.__zoom.invert(K.touch0[0]);else if(K.end(),K.taps===2&&(ee=fs(ee,this),Math.hypot(w[0]-ee[0],w[1]-ee[1])<k)){var O=vn(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return q.wheelDelta=function(B){return arguments.length?(i=typeof B=="function"?B:gc(+B),q):i},q.filter=function(B){return arguments.length?(t=typeof B=="function"?B:gc(!!B),q):t},q.touchable=function(B){return arguments.length?(o=typeof B=="function"?B:gc(!!B),q):o},q.extent=function(B){return arguments.length?(e=typeof B=="function"?B:gc([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),q):e},q.scaleExtent=function(B){return arguments.length?(a[0]=+B[0],a[1]=+B[1],q):[a[0],a[1]]},q.translateExtent=function(B){return arguments.length?(c[0][0]=+B[0][0],c[1][0]=+B[1][0],c[0][1]=+B[0][1],c[1][1]=+B[1][1],q):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},q.constrain=function(B){return arguments.length?(n=B,q):n},q.duration=function(B){return arguments.length?(f=+B,q):f},q.interpolate=function(B){return arguments.length?(p=B,q):p},q.on=function(){var B=m.on.apply(m,arguments);return B===m?q:B},q.clickDistance=function(B){return arguments.length?(L=(B=+B)*B,q):Math.sqrt(L)},q.tapDistance=function(B){return arguments.length?(k=+B,q):k},q}const cb=()=>{const t=oe.useRef(null),[e,n]=oe.useState(null),i=oe.useRef(null),[o,a]=oe.useState(1),c=oe.useRef(null),f=E=>{i.current=E,n(E)};oe.useEffect(()=>()=>{e&&vn(e).on(".zoom",null),c.current=null},[e]),oe.useEffect(()=>{if(!e||c.current)return;const E=vn(e),x=l_().scaleExtent([.5,8]).on("zoom",P=>{const{transform:L}=P,k=E.select("#map-group");k.empty()||k.attr("transform",L.toString()),a(L.k)});c.current=x,E.call(x),setTimeout(()=>{const P=E.select("#map-group");P.empty()||P.attr("transform","translate(0,0) scale(1)")},50)},[e]);const p=()=>{if(!c.current&&e){const E=vn(e),x=l_().scaleExtent([.5,8]).on("zoom",P=>{const{transform:L}=P,k=E.select("#map-group");k.empty()||k.attr("transform",L.toString()),a(L.k)});return c.current=x,E.call(x),!0}return!!c.current};return{containerRef:t,svgRef:f,zoomIn:()=>{e&&p()&&vn(e).transition().duration(300).call(c.current.scaleBy,1.5)},zoomOut:()=>{e&&p()&&vn(e).transition().duration(300).call(c.current.scaleBy,1/1.5)},resetZoom:()=>{e&&p()&&vn(e).transition().duration(500).call(c.current.transform,Um)},currentZoom:o}},Dh=()=>{const[t,e]=oe.useState([]),[n,i]=oe.useState([]),[o,a]=oe.useState(!0),[c,f]=oe.useState(null);return oe.useEffect(()=>{(async()=>{try{a(!0),f(null);const[m,v]=await Promise.all([xN(),IN()]);e(m),i(v)}catch(m){console.error("Failed to load tourism data:",m),f(m instanceof Error?m.message:"Failed to load data")}finally{a(!1)}})()},[]),{tourismData:t,months:n,loading:o,error:c}},VE=()=>{const[t,e]=oe.useState(!1),n=oe.useCallback(()=>{const c=document,f=document.fullscreenElement||c.webkitFullscreenElement||c.mozFullScreenElement||c.msFullscreenElement;e(!!f)},[]),i=oe.useCallback(async c=>{const f=c||document.documentElement;try{if(f.requestFullscreen)await f.requestFullscreen();else if(f.webkitRequestFullscreen)await f.webkitRequestFullscreen();else if(f.mozRequestFullScreen)await f.mozRequestFullScreen();else if(f.msRequestFullscreen)await f.msRequestFullscreen();else throw new Error("Fullscreen API not supported")}catch(p){console.error("Error entering fullscreen:",p)}},[]),o=oe.useCallback(async()=>{const c=document;try{document.exitFullscreen?await document.exitFullscreen():c.webkitExitFullscreen?await c.webkitExitFullscreen():c.mozCancelFullScreen?await c.mozCancelFullScreen():c.msExitFullscreen&&await c.msExitFullscreen()}catch(f){console.error("Error exiting fullscreen:",f)}},[]),a=oe.useCallback(c=>{if(t)o();else{const f=c||document.documentElement;i(f)}},[t,i,o]);return oe.useEffect(()=>{const c=()=>{setTimeout(()=>{n()},10)};return document.addEventListener("fullscreenchange",c),document.addEventListener("webkitfullscreenchange",c),document.addEventListener("mozfullscreenchange",c),document.addEventListener("MSFullscreenChange",c),n(),()=>{document.removeEventListener("fullscreenchange",c),document.removeEventListener("webkitfullscreenchange",c),document.removeEventListener("mozfullscreenchange",c),document.removeEventListener("MSFullscreenChange",c)}},[n]),{isFullscreen:t,enterFullscreen:i,exitFullscreen:o,toggleFullscreen:a}},hb={DZ:"DZA",AL:"ALB",AD:"AND",AO:"AGO",AG:"ATG",AR:"ARG",AM:"ARM",AU:"AUS",AT:"AUT",AZ:"AZE",BS:"BHS",BH:"BHR",BD:"BGD",BB:"BBD",BY:"BLR",BE:"BEL",BZ:"BLZ",BJ:"BEN",BT:"BTN",BO:"BOL",BA:"BIH",BW:"BWA",BR:"BRA",BN:"BRN",BG:"BGR",BF:"BFA",BI:"BDI",KH:"KHM",CM:"CMR",CA:"CAN",CV:"CPV",CF:"CAF",TD:"TCD",CL:"CHL",CN:"CHN",CO:"COL",KM:"COM",CG:"COG",CD:"COD",CR:"CRI",CI:"CIV",HR:"HRV",CU:"CUB",CY:"CYP",CZ:"CZE",DK:"DNK",DJ:"DJI",DM:"DMA",DO:"DOM",EC:"ECU",EG:"EGY",SV:"SLV",GQ:"GNQ",ER:"ERI",EE:"EST",ET:"ETH",FJ:"FJI",FI:"FIN",FR:"FRA",GA:"GAB",GM:"GMB",GE:"GEO",DE:"DEU",GH:"GHA",GR:"GRC",GD:"GRD",GT:"GTM",GN:"GIN",GW:"GNB",GY:"GUY",HT:"HTI",HN:"HND",HK:"HKG",HU:"HUN",IS:"ISL",IN:"IND",ID:"IDN",IR:"IRN",IQ:"IRQ",IE:"IRL",IL:"ISR",IT:"ITA",JM:"JAM",JP:"JPN",JO:"JOR",KZ:"KAZ",KE:"KEN",KI:"KIR",KP:"PRK",KR:"KOR",XK:"XKX",KW:"KWT",KG:"KGZ",LA:"LAO",LV:"LVA",LB:"LBN",LS:"LSO",LR:"LBR",LY:"LBY",LI:"LIE",LT:"LTU",LU:"LUX",MO:"MAC",MK:"MKD",MG:"MDG",MW:"MWI",MY:"MYS",MV:"MDV",ML:"MLI",MT:"MLT",MH:"MHL",MR:"MRT",MU:"MUS",MX:"MEX",FM:"FSM",MD:"MDA",MC:"MCO",MN:"MNG",ME:"MNE",MA:"MAR",MZ:"MOZ",MM:"MMR",NA:"NAM",NR:"NRU",NP:"NPL",NL:"NLD",NZ:"NZL",NI:"NIC",NE:"NER",NG:"NGA",NO:"NOR",OM:"OMN",PK:"PAK",PW:"PLW",PS:"PSE",PA:"PAN",PG:"PNG",PY:"PRY",PE:"PER",PH:"PHL",PL:"POL",PT:"PRT",QA:"QAT",RO:"ROU",RU:"RUS",RW:"RWA",KN:"KNA",LC:"LCA",VC:"VCT",WS:"WSM",SM:"SMR",ST:"STP",SA:"SAU",SN:"SEN",RS:"SRB",SC:"SYC",SL:"SLE",SG:"SGP",SK:"SVK",SI:"SVN",SB:"SLB",SO:"SOM",ZA:"ZAF",SS:"SSD",ES:"ESP",LK:"LKA",SD:"SDN",SR:"SUR",SZ:"SWZ",SE:"SWE",CH:"CHE",SY:"SYR",TW:"TWN",TJ:"TJK",TZ:"TZA",TH:"THA",TL:"TLS",TG:"TGO",TO:"TON",TT:"TTO",TN:"TUN",TR:"TUR",TM:"TKM",TV:"TUV",UG:"UGA",UA:"UKR",AE:"ARE",GB:"GBR",US:"USA",UY:"URY",UZ:"UZB",VU:"VUT",VA:"VAT",VE:"VEN",VN:"VNM",YE:"YEM",ZM:"ZMB",ZW:"ZWE"},fb=t=>{const e=(t||"").trim().toLowerCase();return e===""||e==="-1"?"n/a":/^\d+$/.test(e)||e==="visa free"||e==="freedom of movement"?"free":e==="visa on arrival"?"voa":e==="e-visa"||e==="evisa"||e==="eta"?"evisa":e==="visa required"?"sticker":e==="no admission"||e==="ban"?"none":"other"},Si={free:"hsl(145, 60%, 45%)",voa:"hsl(35, 90%, 55%)",evisa:"hsl(210, 75%, 55%)",sticker:"hsl(0, 70%, 55%)",none:"hsl(0, 0%, 55%)","n/a":"hsl(0, 0%, 85%)",other:"hsl(270, 40%, 60%)"},db="hsl(280, 70%, 50%)",Jc=t=>Si[t]||Si.other,pb=()=>{const t={AFG:"Afghanistan",AGO:"Angola",ALB:"Albania",AND:"Andorra",ARE:"United Arab Emirates",ARG:"Argentina",ARM:"Armenia",ATG:"Antigua and Barbuda",AUS:"Australia",AUT:"Austria",AZE:"Azerbaijan",BDI:"Burundi",BEL:"Belgium",BEN:"Benin",BFA:"Burkina Faso",BGD:"Bangladesh",BGR:"Bulgaria",BHR:"Bahrain",BHS:"Bahamas",BIH:"Bosnia and Herzegovina",BLR:"Belarus",BLZ:"Belize",BOL:"Bolivia",BRA:"Brazil",BRB:"Barbados",BRN:"Brunei",BTN:"Bhutan",BWA:"Botswana",CAF:"Central African Republic",CAN:"Canada",CHE:"Switzerland",CHL:"Chile",CHN:"China",CIV:"Ivory Coast",CMR:"Cameroon",COD:"DR Congo",COG:"Congo",COL:"Colombia",COM:"Comoros",CPV:"Cape Verde",CRI:"Costa Rica",CUB:"Cuba",CYP:"Cyprus",CZE:"Czech Republic",DEU:"Germany",DJI:"Djibouti",DMA:"Dominica",DNK:"Denmark",DOM:"Dominican Republic",DZA:"Algeria",ECU:"Ecuador",EGY:"Egypt",ERI:"Eritrea",ESP:"Spain",EST:"Estonia",ETH:"Ethiopia",FIN:"Finland",FJI:"Fiji",FRA:"France",FSM:"Micronesia",GAB:"Gabon",GBR:"United Kingdom",GEO:"Georgia",GHA:"Ghana",GIN:"Guinea",GMB:"Gambia",GNB:"Guinea-Bissau",GNQ:"Equatorial Guinea",GRC:"Greece",GRD:"Grenada",GTM:"Guatemala",GUY:"Guyana",HKG:"Hong Kong",HND:"Honduras",HRV:"Croatia",HTI:"Haiti",HUN:"Hungary",IDN:"Indonesia",IND:"India",IRL:"Ireland",IRN:"Iran",IRQ:"Iraq",ISL:"Iceland",ISR:"Israel",ITA:"Italy",JAM:"Jamaica",JOR:"Jordan",JPN:"Japan",KAZ:"Kazakhstan",KEN:"Kenya",KGZ:"Kyrgyzstan",KHM:"Cambodia",KIR:"Kiribati",KNA:"Saint Kitts and Nevis",KOR:"South Korea",KWT:"Kuwait",LAO:"Laos",LBN:"Lebanon",LBR:"Liberia",LBY:"Libya",LCA:"Saint Lucia",LIE:"Liechtenstein",LKA:"Sri Lanka",LSO:"Lesotho",LTU:"Lithuania",LUX:"Luxembourg",LVA:"Latvia",MAC:"Macao",MAR:"Morocco",MCO:"Monaco",MDA:"Moldova",MDG:"Madagascar",MDV:"Maldives",MEX:"Mexico",MHL:"Marshall Islands",MKD:"North Macedonia",MLI:"Mali",MLT:"Malta",MMR:"Myanmar",MNE:"Montenegro",MNG:"Mongolia",MOZ:"Mozambique",MRT:"Mauritania",MUS:"Mauritius",MWI:"Malawi",MYS:"Malaysia",NAM:"Namibia",NER:"Niger",NGA:"Nigeria",NIC:"Nicaragua",NLD:"Netherlands",NOR:"Norway",NPL:"Nepal",NRU:"Nauru",NZL:"New Zealand",OMN:"Oman",PAK:"Pakistan",PAN:"Panama",PER:"Peru",PHL:"Philippines",PLW:"Palau",PNG:"Papua New Guinea",POL:"Poland",PRK:"North Korea",PRT:"Portugal",PRY:"Paraguay",PSE:"Palestine",QAT:"Qatar",ROU:"Romania",RUS:"Russia",RWA:"Rwanda",SAU:"Saudi Arabia",SDN:"Sudan",SEN:"Senegal",SGP:"Singapore",SLB:"Solomon Islands",SLE:"Sierra Leone",SLV:"El Salvador",SMR:"San Marino",SOM:"Somalia",SRB:"Serbia",SSD:"South Sudan",STP:"Sao Tome and Principe",SUR:"Suriname",SVK:"Slovakia",SVN:"Slovenia",SWE:"Sweden",SWZ:"Swaziland",SYC:"Seychelles",SYR:"Syria",TCD:"Chad",TGO:"Togo",THA:"Thailand",TJK:"Tajikistan",TKM:"Turkmenistan",TLS:"Timor-Leste",TON:"Tonga",TTO:"Trinidad and Tobago",TUN:"Tunisia",TUR:"Turkey",TUV:"Tuvalu",TWN:"Taiwan",TZA:"Tanzania",UGA:"Uganda",UKR:"Ukraine",URY:"Uruguay",USA:"United States",UZB:"Uzbekistan",VAT:"Vatican",VCT:"Saint Vincent and the Grenadines",VEN:"Venezuela",VNM:"Vietnam",VUT:"Vanuatu",WSM:"Samoa",XKX:"Kosovo",YEM:"Yemen",ZAF:"South Africa",ZMB:"Zambia",ZWE:"Zimbabwe"},e=ea(),n={};for(const i of e)i.alternativeCodes?.alpha3&&(n[i.alternativeCodes.alpha3]=i.name);return{...t,...n}},mb=()=>{const t=ea(),e={};for(const i of t){const o=i.alternativeCodes?.alpha3,a=i.alternativeCodes?.numeric;if(!o||!a)continue;const c=String(a);e[c]=o,c.length<3&&(e[c.padStart(3,"0")]=o)}const n={4:"AFG",8:"ALB",12:"DZA",20:"AND",24:"AGO",28:"ATG",31:"AZE",32:"ARG",36:"AUS",40:"AUT",44:"BHS",48:"BHR",50:"BGD",51:"ARM",52:"BRB",56:"BEL",60:"BMU",64:"BTN",68:"BOL",70:"BIH",72:"BWA",76:"BRA",84:"BLZ",90:"SLB",96:"BRN",100:"BGR",104:"MMR",108:"BDI",112:"BLR",116:"KHM",120:"CMR",124:"CAN",132:"CPV",140:"CAF",144:"LKA",148:"TCD",152:"CHL",156:"CHN",158:"TWN",170:"COL",174:"COM",178:"COG",180:"COD",188:"CRI",191:"HRV",192:"CUB",196:"CYP",203:"CZE",204:"BEN",208:"DNK",212:"DMA",214:"DOM",218:"ECU",222:"SLV",226:"GNQ",231:"ETH",232:"ERI",233:"EST",242:"FJI",246:"FIN",250:"FRA",262:"DJI",266:"GAB",268:"GEO",270:"GMB",275:"PSE",276:"DEU",288:"GHA",296:"KIR",300:"GRC",308:"GRD",320:"GTM",324:"GIN",328:"GUY",332:"HTI",336:"VAT",340:"HND",344:"HKG",348:"HUN",352:"ISL",356:"IND",360:"IDN",364:"IRN",368:"IRQ",372:"IRL",376:"ISR",380:"ITA",384:"CIV",388:"JAM",392:"JPN",398:"KAZ",400:"JOR",404:"KEN",408:"PRK",410:"KOR",414:"KWT",417:"KGZ",418:"LAO",422:"LBN",426:"LSO",428:"LVA",430:"LBR",434:"LBY",438:"LIE",440:"LTU",442:"LUX",446:"MAC",450:"MDG",454:"MWI",458:"MYS",462:"MDV",466:"MLI",470:"MLT",478:"MRT",480:"MUS",484:"MEX",492:"MCO",496:"MNG",498:"MDA",499:"MNE",504:"MAR",508:"MOZ",512:"OMN",516:"NAM",520:"NRU",524:"NPL",528:"NLD",548:"VUT",554:"NZL",558:"NIC",562:"NER",566:"NGA",570:"NIU",578:"NOR",583:"FSM",584:"MHL",585:"PLW",586:"PAK",591:"PAN",598:"PNG",600:"PRY",604:"PER",608:"PHL",616:"POL",620:"PRT",624:"GNB",626:"TLS",634:"QAT",642:"ROU",643:"RUS",646:"RWA",659:"KNA",662:"LCA",670:"VCT",674:"SMR",678:"STP",682:"SAU",686:"SEN",688:"SRB",690:"SYC",694:"SLE",702:"SGP",703:"SVK",704:"VNM",705:"SVN",706:"SOM",710:"ZAF",716:"ZWE",724:"ESP",728:"SSD",729:"SDN",732:"ESH",740:"SUR",748:"SWZ",752:"SWE",756:"CHE",760:"SYR",762:"TJK",764:"THA",768:"TGO",776:"TON",780:"TTO",784:"ARE",788:"TUN",792:"TUR",795:"TKM",798:"TUV",800:"UGA",804:"UKR",807:"MKD",818:"EGY",826:"GBR",831:"GGY",832:"JEY",833:"IMN",834:"TZA",840:"USA",850:"VIR",854:"BFA",858:"URY",860:"UZB",862:"VEN",876:"WLF",882:"WSM",887:"YEM",894:"ZMB",999:"XKX","004":"AFG","008":"ALB","012":"DZA","016":"ASM","020":"AND","024":"AGO","028":"ATG","031":"AZE","032":"ARG","036":"AUS","040":"AUT","044":"BHS","048":"BHR","050":"BGD","051":"ARM","052":"BRB","056":"BEL","060":"BMU","064":"BTN","068":"BOL","070":"BIH","072":"BWA","076":"BRA","084":"BLZ","090":"SLB","096":"BRN"};return Object.keys(n).length>Object.keys(e).length?{...n,...e}:{...e,...n}},gb="/travel/",yb=[`${gb}data/visa_tidy_iso3.csv`,"/data/visa_tidy_iso3.csv","./data/visa_tidy_iso3.csv"],OE=()=>{const[t,e]=oe.useState(!0),[n,i]=oe.useState(null),[o,a]=oe.useState([]);oe.useEffect(()=>{let m=!1;return(async()=>{e(!0),i(null);let w=null;for(const E of yb)try{console.log(`[useVisaData] Attempting to fetch from: ${E}`);const x=await fetch(E,{cache:"force-cache"});if(!x.ok){w=new Error(`HTTP ${x.status}`);continue}const P=await x.text();console.log(`[useVisaData] Successfully loaded ${P.length} bytes from ${E}`);const L=[],k=P.split(/\r?\n/);for(let q=1;q<k.length;q+=1){const G=k[q];if(!G)continue;const[Z,J,ue]=G.split(",");!Z||!J||L.push({passport:Z.trim(),destination:J.trim(),requirement:fb(ue||"")})}console.log(`[useVisaData] Parsed ${L.length} visa entries`),m||(a(L),e(!1));return}catch(x){console.warn(`[useVisaData] Failed to load from ${E}:`,x),w=x;continue}m||(console.error("[useVisaData] All paths failed. Last error:",w),i(w?.message||"Failed to load visa data from all paths"),e(!1))})(),()=>{m=!0}},[]);const c=oe.useMemo(()=>{const m={};for(const v of o)m[v.passport]||(m[v.passport]={}),m[v.passport][v.destination]=v.requirement;return console.log(`[useVisaData] Built map for ${Object.keys(m).length} passports`),m},[o]),f=oe.useMemo(()=>Object.keys(c).sort(),[c]),p=oe.useMemo(()=>pb(),[]);return{loading:t,error:n,byPassport:c,passports:f,iso3ToName:p}},u_=({selectedMonth:t,onMonthSelect:e,isFullscreen:n=!1})=>{const{months:i,loading:o}=Dh();return o?I.jsx("div",{className:n?"bg-white/95 backdrop-blur-sm rounded-lg shadow-xl border p-3 w-64":"bg-white rounded-lg shadow-lg border p-4 sm:p-6 h-fit",children:I.jsxs("div",{className:"animate-pulse",children:[I.jsx("div",{className:"h-4 sm:h-6 bg-gray-200 rounded mb-3 sm:mb-4"}),I.jsx("div",{className:n?"grid grid-cols-3 gap-1":"grid grid-cols-3 sm:grid-cols-2 gap-1 sm:gap-2",children:Array(12).fill(0).map((a,c)=>I.jsx("div",{className:"h-8 sm:h-12 bg-gray-200 rounded"},c))})]})}):I.jsxs("div",{className:n?"bg-white/95 backdrop-blur-sm rounded-lg shadow-xl border p-3 w-64":"bg-white rounded-lg shadow-lg border p-4 sm:p-6 h-fit",children:[I.jsx("h2",{className:`font-semibold text-foreground ${n?"text-sm mb-2":"text-base sm:text-lg mb-3 sm:mb-4"}`,children:n?"Select Month":"Select a Month to Explore"}),I.jsx("div",{className:n?"grid grid-cols-3 gap-1":"grid grid-cols-3 sm:grid-cols-2 gap-1 sm:gap-2",children:i.map(a=>I.jsx("button",{onClick:()=>e(a),className:`rounded-lg font-medium transition-all duration-200 text-left ${n?"px-2 py-1 text-xs":"px-2 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm"} ${t===a?"bg-blue-600 text-white shadow-md transform scale-105":"bg-gray-50 text-gray-700 hover:bg-blue-50 hover:text-blue-700 hover:shadow-sm"}`,children:n?a.substring(0,3):a},a))})]})};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LE=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _b={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=oe.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:c,...f},p)=>oe.createElement("svg",{ref:p,..._b,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:LE("lucide",o),...f},[...c.map(([m,v])=>oe.createElement(m,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=(t,e)=>{const n=oe.forwardRef(({className:i,...o},a)=>oe.createElement(wb,{ref:a,iconNode:e,className:LE(`lucide-${vb(t)}`,i),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=rr("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=rr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=rr("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=rr("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=rr("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=rr("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=rr("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=rr("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=rr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=rr("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=rr("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),h_=({selectedCategory:t,onCategorySelect:e})=>I.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 justify-center mb-4 sm:mb-6 px-2 sm:px-0",children:[I.jsxs("button",{onClick:()=>e("temperature"),className:`flex items-center justify-center gap-2 px-3 sm:px-6 py-2 sm:py-3 rounded-lg transition-all duration-300 text-sm sm:text-base ${t==="temperature"?"bg-primary text-primary-foreground shadow-lg transform scale-105":"bg-secondary text-secondary-foreground hover:bg-primary/10"}`,children:[I.jsx(Cb,{size:16,className:"sm:w-5 sm:h-5"}),I.jsx("span",{className:"hidden xs:inline",children:"Temperature"}),I.jsx("span",{className:"xs:hidden",children:"Temp"})]}),I.jsxs("button",{onClick:()=>e("rainfall"),className:`flex items-center justify-center gap-2 px-3 sm:px-6 py-2 sm:py-3 rounded-lg transition-all duration-300 text-sm sm:text-base ${t==="rainfall"?"bg-primary text-primary-foreground shadow-lg transform scale-105":"bg-secondary text-secondary-foreground hover:bg-primary/10"}`,children:[I.jsx(Sb,{size:16,className:"sm:w-5 sm:h-5"}),I.jsx("span",{className:"hidden xs:inline",children:"Rainfall"}),I.jsx("span",{className:"xs:hidden",children:"Rain"})]}),I.jsxs("button",{onClick:()=>e("bestTime"),className:`flex items-center justify-center gap-2 px-3 sm:px-6 py-2 sm:py-3 rounded-lg transition-all duration-300 text-sm sm:text-base ${t==="bestTime"?"bg-primary text-primary-foreground shadow-lg transform scale-105":"bg-secondary text-secondary-foreground hover:bg-primary/10"}`,children:[I.jsx(Tb,{size:16,className:"sm:w-5 sm:h-5"}),I.jsx("span",{className:"hidden sm:inline",children:"Best time to visit"}),I.jsx("span",{className:"sm:hidden",children:"Best time"})]}),I.jsxs("button",{onClick:()=>e("visa"),className:`flex items-center justify-center gap-2 px-3 sm:px-6 py-2 sm:py-3 rounded-lg transition-all duration-300 text-sm sm:text-base ${t==="visa"?"bg-primary text-primary-foreground shadow-lg transform scale-105":"bg-secondary text-secondary-foreground hover:bg-primary/10"}`,children:[I.jsx(Eb,{size:16,className:"sm:w-5 sm:h-5"}),I.jsx("span",{className:"hidden sm:inline",children:"Visa"}),I.jsx("span",{className:"sm:hidden",children:"Visa"})]})]});class Is{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let i=0;for(let o=0;o<this._n&&o<32;o++){const a=n[o],c=e+a,f=Math.abs(e)<Math.abs(a)?e-(c-a):a-(c-e);f&&(n[i++]=f),e=c}return n[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let n=this._n,i,o,a,c=0;if(n>0){for(c=e[--n];n>0&&(i=c,o=e[--n],c=i+o,a=o-(c-i),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(o=a*2,i=c+o,o==i-c&&(c=i))}return c}}function*kb(t){for(const e of t)yield*e}function FE(t){return Array.from(kb(t))}var Ge=1e-6,Be=Math.PI,bn=Be/2,f_=Be/4,Vn=Be*2,Hr=180/Be,yn=Be/180,tt=Math.abs,Db=Math.atan,Nl=Math.atan2,ut=Math.cos,ct=Math.sin,bb=Math.sign||function(t){return t>0?1:t<0?-1:0},Ns=Math.sqrt;function Mb(t){return t>1?0:t<-1?Be:Math.acos(t)}function kl(t){return t>1?bn:t<-1?-bn:Math.asin(t)}function Mn(){}function eh(t,e){t&&p_.hasOwnProperty(t.type)&&p_[t.type](t,e)}var d_={Feature:function(t,e){eh(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)eh(n[i].geometry,e)}},p_={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){xp(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)xp(n[i],e,0)},Polygon:function(t,e){m_(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)m_(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)eh(n[i],e)}};function xp(t,e,n){var i=-1,o=t.length-n,a;for(e.lineStart();++i<o;)a=t[i],e.point(a[0],a[1],a[2]);e.lineEnd()}function m_(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)xp(t[n],e,1);e.polygonEnd()}function Ro(t,e){t&&d_.hasOwnProperty(t.type)?d_[t.type](t,e):eh(t,e)}function Ip(t){return[Nl(t[1],t[0]),kl(t[2])]}function Ko(t){var e=t[0],n=t[1],i=ut(n);return[i*ut(e),i*ct(e),ct(n)]}function yc(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function th(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Nd(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function vc(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ap(t){var e=Ns(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Cp(t,e){function n(i,o){return i=t(i,o),e(i[0],i[1])}return t.invert&&e.invert&&(n.invert=function(i,o){return i=e.invert(i,o),i&&t.invert(i[0],i[1])}),n}function Rp(t,e){return tt(t)>Be&&(t-=Math.round(t/Vn)*Vn),[t,e]}Rp.invert=Rp;function Vb(t,e,n){return(t%=Vn)?e||n?Cp(y_(t),v_(e,n)):y_(t):e||n?v_(e,n):Rp}function g_(t){return function(e,n){return e+=t,tt(e)>Be&&(e-=Math.round(e/Vn)*Vn),[e,n]}}function y_(t){var e=g_(t);return e.invert=g_(-t),e}function v_(t,e){var n=ut(t),i=ct(t),o=ut(e),a=ct(e);function c(f,p){var m=ut(p),v=ut(f)*m,w=ct(f)*m,E=ct(p),x=E*n+v*i;return[Nl(w*o-x*a,v*n-E*i),kl(x*o+w*a)]}return c.invert=function(f,p){var m=ut(p),v=ut(f)*m,w=ct(f)*m,E=ct(p),x=E*o-w*a;return[Nl(w*o+E*a,v*n+x*i),kl(x*n-v*i)]},c}function Ob(t,e,n,i,o,a){if(n){var c=ut(e),f=ct(e),p=i*n;o==null?(o=e+i*Vn,a=e-p/2):(o=__(c,o),a=__(c,a),(i>0?o<a:o>a)&&(o+=i*Vn));for(var m,v=o;i>0?v>a:v<a;v-=p)m=Ip([c,-f*ut(v),-f*ct(v)]),t.point(m[0],m[1])}}function __(t,e){e=Ko(e),e[0]-=t,Ap(e);var n=Mb(-e[1]);return((-e[2]<0?-n:n)+Vn-Ge)%Vn}function jE(){var t=[],e;return{point:function(n,i,o){e.push([n,i,o])},lineStart:function(){t.push(e=[])},lineEnd:Mn,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Nc(t,e){return tt(t[0]-e[0])<Ge&&tt(t[1]-e[1])<Ge}function _c(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function BE(t,e,n,i,o){var a=[],c=[],f,p;if(t.forEach(function(P){if(!((L=P.length-1)<=0)){var L,k=P[0],q=P[L],G;if(Nc(k,q)){if(!k[2]&&!q[2]){for(o.lineStart(),f=0;f<L;++f)o.point((k=P[f])[0],k[1]);o.lineEnd();return}q[0]+=2*Ge}a.push(G=new _c(k,P,null,!0)),c.push(G.o=new _c(k,null,G,!1)),a.push(G=new _c(q,P,null,!1)),c.push(G.o=new _c(q,null,G,!0))}}),!!a.length){for(c.sort(e),w_(a),w_(c),f=0,p=c.length;f<p;++f)c[f].e=n=!n;for(var m=a[0],v,w;;){for(var E=m,x=!0;E.v;)if((E=E.n)===m)return;v=E.z,o.lineStart();do{if(E.v=E.o.v=!0,E.e){if(x)for(f=0,p=v.length;f<p;++f)o.point((w=v[f])[0],w[1]);else i(E.x,E.n.x,1,o);E=E.n}else{if(x)for(v=E.p.z,f=v.length-1;f>=0;--f)o.point((w=v[f])[0],w[1]);else i(E.x,E.p.x,-1,o);E=E.p}E=E.o,v=E.z,x=!x}while(!E.v);o.lineEnd()}}}function w_(t){if(e=t.length){for(var e,n=0,i=t[0],o;++n<e;)i.n=o=t[n],o.p=i,i=o;i.n=o=t[0],o.p=i}}function kd(t){return tt(t[0])<=Be?t[0]:bb(t[0])*((tt(t[0])+Be)%Vn-Be)}function Lb(t,e){var n=kd(e),i=e[1],o=ct(i),a=[ct(n),-ut(n),0],c=0,f=0,p=new Is;o===1?i=bn+Ge:o===-1&&(i=-bn-Ge);for(var m=0,v=t.length;m<v;++m)if(E=(w=t[m]).length)for(var w,E,x=w[E-1],P=kd(x),L=x[1]/2+f_,k=ct(L),q=ut(L),G=0;G<E;++G,P=J,k=le,q=b,x=Z){var Z=w[G],J=kd(Z),ue=Z[1]/2+f_,le=ct(ue),b=ut(ue),A=J-P,R=A>=0?1:-1,M=R*A,D=M>Be,V=k*le;if(p.add(Nl(V*R*ct(M),q*b+V*ut(M))),c+=D?A+R*Vn:A,D^P>=n^J>=n){var C=th(Ko(x),Ko(Z));Ap(C);var B=th(a,C);Ap(B);var U=(D^A>=0?-1:1)*kl(B[2]);(i>U||i===U&&(C[0]||C[1]))&&(f+=D^A>=0?1:-1)}}return(c<-Ge||c<Ge&&p<-1e-12)^f&1}function UE(t,e,n,i){return function(o){var a=e(o),c=jE(),f=e(c),p=!1,m,v,w,E={point:x,lineStart:L,lineEnd:k,polygonStart:function(){E.point=q,E.lineStart=G,E.lineEnd=Z,v=[],m=[]},polygonEnd:function(){E.point=x,E.lineStart=L,E.lineEnd=k,v=FE(v);var J=Lb(m,i);v.length?(p||(o.polygonStart(),p=!0),BE(v,jb,J,n,o)):J&&(p||(o.polygonStart(),p=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),p&&(o.polygonEnd(),p=!1),v=m=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function x(J,ue){t(J,ue)&&o.point(J,ue)}function P(J,ue){a.point(J,ue)}function L(){E.point=P,a.lineStart()}function k(){E.point=x,a.lineEnd()}function q(J,ue){w.push([J,ue]),f.point(J,ue)}function G(){f.lineStart(),w=[]}function Z(){q(w[0][0],w[0][1]),f.lineEnd();var J=f.clean(),ue=c.result(),le,b=ue.length,A,R,M;if(w.pop(),m.push(w),w=null,!!b){if(J&1){if(R=ue[0],(A=R.length-1)>0){for(p||(o.polygonStart(),p=!0),o.lineStart(),le=0;le<A;++le)o.point((M=R[le])[0],M[1]);o.lineEnd()}return}b>1&&J&2&&ue.push(ue.pop().concat(ue.shift())),v.push(ue.filter(Fb))}}return E}}function Fb(t){return t.length>1}function jb(t,e){return((t=t.x)[0]<0?t[1]-bn-Ge:bn-t[1])-((e=e.x)[0]<0?e[1]-bn-Ge:bn-e[1])}const E_=UE(function(){return!0},Bb,zb,[-Be,-bn]);function Bb(t){var e=NaN,n=NaN,i=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(a,c){var f=a>0?Be:-Be,p=tt(a-e);tt(p-Be)<Ge?(t.point(e,n=(n+c)/2>0?bn:-bn),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(a,n),o=0):i!==f&&p>=Be&&(tt(e-i)<Ge&&(e-=i*Ge),tt(a-f)<Ge&&(a-=f*Ge),n=Ub(e,n,a,c),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(f,n),o=0),t.point(e=a,n=c),i=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-o}}}function Ub(t,e,n,i){var o,a,c=ct(t-n);return tt(c)>Ge?Db((ct(e)*(a=ut(i))*ct(n)-ct(i)*(o=ut(e))*ct(t))/(o*a*c)):(e+i)/2}function zb(t,e,n,i){var o;if(t==null)o=n*bn,i.point(-Be,o),i.point(0,o),i.point(Be,o),i.point(Be,0),i.point(Be,-o),i.point(0,-o),i.point(-Be,-o),i.point(-Be,0),i.point(-Be,o);else if(tt(t[0]-e[0])>Ge){var a=t[0]<e[0]?Be:-Be;o=n*a/2,i.point(-a,o),i.point(0,o),i.point(a,o)}else i.point(e[0],e[1])}function $b(t){var e=ut(t),n=2*yn,i=e>0,o=tt(e)>Ge;function a(v,w,E,x){Ob(x,t,n,E,v,w)}function c(v,w){return ut(v)*ut(w)>e}function f(v){var w,E,x,P,L;return{lineStart:function(){P=x=!1,L=1},point:function(k,q){var G=[k,q],Z,J=c(k,q),ue=i?J?0:m(k,q):J?m(k+(k<0?Be:-Be),q):0;if(!w&&(P=x=J)&&v.lineStart(),J!==x&&(Z=p(w,G),(!Z||Nc(w,Z)||Nc(G,Z))&&(G[2]=1)),J!==x)L=0,J?(v.lineStart(),Z=p(G,w),v.point(Z[0],Z[1])):(Z=p(w,G),v.point(Z[0],Z[1],2),v.lineEnd()),w=Z;else if(o&&w&&i^J){var le;!(ue&E)&&(le=p(G,w,!0))&&(L=0,i?(v.lineStart(),v.point(le[0][0],le[0][1]),v.point(le[1][0],le[1][1]),v.lineEnd()):(v.point(le[1][0],le[1][1]),v.lineEnd(),v.lineStart(),v.point(le[0][0],le[0][1],3)))}J&&(!w||!Nc(w,G))&&v.point(G[0],G[1]),w=G,x=J,E=ue},lineEnd:function(){x&&v.lineEnd(),w=null},clean:function(){return L|(P&&x)<<1}}}function p(v,w,E){var x=Ko(v),P=Ko(w),L=[1,0,0],k=th(x,P),q=yc(k,k),G=k[0],Z=q-G*G;if(!Z)return!E&&v;var J=e*q/Z,ue=-e*G/Z,le=th(L,k),b=vc(L,J),A=vc(k,ue);Nd(b,A);var R=le,M=yc(b,R),D=yc(R,R),V=M*M-D*(yc(b,b)-1);if(!(V<0)){var C=Ns(V),B=vc(R,(-M-C)/D);if(Nd(B,b),B=Ip(B),!E)return B;var U=v[0],K=w[0],re=v[1],Y=w[1],ne;K<U&&(ne=U,U=K,K=ne);var ee=K-U,O=tt(ee-Be)<Ge,Q=O||ee<Ge;if(!O&&Y<re&&(ne=re,re=Y,Y=ne),Q?O?re+Y>0^B[1]<(tt(B[0]-U)<Ge?re:Y):re<=B[1]&&B[1]<=Y:ee>Be^(U<=B[0]&&B[0]<=K)){var de=vc(R,(-M+C)/D);return Nd(de,b),[B,Ip(de)]}}}function m(v,w){var E=i?t:Be-t,x=0;return v<-E?x|=1:v>E&&(x|=2),w<-E?x|=4:w>E&&(x|=8),x}return UE(c,f,a,i?[0,-t]:[-Be,t-Be])}function qb(t,e,n,i,o,a){var c=t[0],f=t[1],p=e[0],m=e[1],v=0,w=1,E=p-c,x=m-f,P;if(P=n-c,!(!E&&P>0)){if(P/=E,E<0){if(P<v)return;P<w&&(w=P)}else if(E>0){if(P>w)return;P>v&&(v=P)}if(P=o-c,!(!E&&P<0)){if(P/=E,E<0){if(P>w)return;P>v&&(v=P)}else if(E>0){if(P<v)return;P<w&&(w=P)}if(P=i-f,!(!x&&P>0)){if(P/=x,x<0){if(P<v)return;P<w&&(w=P)}else if(x>0){if(P>w)return;P>v&&(v=P)}if(P=a-f,!(!x&&P<0)){if(P/=x,x<0){if(P>w)return;P>v&&(v=P)}else if(x>0){if(P<v)return;P<w&&(w=P)}return v>0&&(t[0]=c+v*E,t[1]=f+v*x),w<1&&(e[0]=c+w*E,e[1]=f+w*x),!0}}}}}var rl=1e9,wc=-rl;function Hb(t,e,n,i){function o(m,v){return t<=m&&m<=n&&e<=v&&v<=i}function a(m,v,w,E){var x=0,P=0;if(m==null||(x=c(m,w))!==(P=c(v,w))||p(m,v)<0^w>0)do E.point(x===0||x===3?t:n,x>1?i:e);while((x=(x+w+4)%4)!==P);else E.point(v[0],v[1])}function c(m,v){return tt(m[0]-t)<Ge?v>0?0:3:tt(m[0]-n)<Ge?v>0?2:1:tt(m[1]-e)<Ge?v>0?1:0:v>0?3:2}function f(m,v){return p(m.x,v.x)}function p(m,v){var w=c(m,1),E=c(v,1);return w!==E?w-E:w===0?v[1]-m[1]:w===1?m[0]-v[0]:w===2?m[1]-v[1]:v[0]-m[0]}return function(m){var v=m,w=jE(),E,x,P,L,k,q,G,Z,J,ue,le,b={point:A,lineStart:V,lineEnd:C,polygonStart:M,polygonEnd:D};function A(U,K){o(U,K)&&v.point(U,K)}function R(){for(var U=0,K=0,re=x.length;K<re;++K)for(var Y=x[K],ne=1,ee=Y.length,O=Y[0],Q,de,_e=O[0],Te=O[1];ne<ee;++ne)Q=_e,de=Te,O=Y[ne],_e=O[0],Te=O[1],de<=i?Te>i&&(_e-Q)*(i-de)>(Te-de)*(t-Q)&&++U:Te<=i&&(_e-Q)*(i-de)<(Te-de)*(t-Q)&&--U;return U}function M(){v=w,E=[],x=[],le=!0}function D(){var U=R(),K=le&&U,re=(E=FE(E)).length;(K||re)&&(m.polygonStart(),K&&(m.lineStart(),a(null,null,1,m),m.lineEnd()),re&&BE(E,f,U,a,m),m.polygonEnd()),v=m,E=x=P=null}function V(){b.point=B,x&&x.push(P=[]),ue=!0,J=!1,G=Z=NaN}function C(){E&&(B(L,k),q&&J&&w.rejoin(),E.push(w.result())),b.point=A,J&&v.lineEnd()}function B(U,K){var re=o(U,K);if(x&&P.push([U,K]),ue)L=U,k=K,q=re,ue=!1,re&&(v.lineStart(),v.point(U,K));else if(re&&J)v.point(U,K);else{var Y=[G=Math.max(wc,Math.min(rl,G)),Z=Math.max(wc,Math.min(rl,Z))],ne=[U=Math.max(wc,Math.min(rl,U)),K=Math.max(wc,Math.min(rl,K))];qb(Y,ne,t,e,n,i)?(J||(v.lineStart(),v.point(Y[0],Y[1])),v.point(ne[0],ne[1]),re||v.lineEnd(),le=!1):re&&(v.lineStart(),v.point(U,K),le=!1)}G=U,Z=K,J=re}return b}}const Pp=t=>t;var Dd=new Is,Np=new Is,zE,$E,kp,Dp,Gr={point:Mn,lineStart:Mn,lineEnd:Mn,polygonStart:function(){Gr.lineStart=Gb,Gr.lineEnd=Wb},polygonEnd:function(){Gr.lineStart=Gr.lineEnd=Gr.point=Mn,Dd.add(tt(Np)),Np=new Is},result:function(){var t=Dd/2;return Dd=new Is,t}};function Gb(){Gr.point=Kb}function Kb(t,e){Gr.point=qE,zE=kp=t,$E=Dp=e}function qE(t,e){Np.add(Dp*t-kp*e),kp=t,Dp=e}function Wb(){qE(zE,$E)}var Wo=1/0,nh=Wo,Dl=-Wo,rh=Dl,ih={point:Qb,lineStart:Mn,lineEnd:Mn,polygonStart:Mn,polygonEnd:Mn,result:function(){var t=[[Wo,nh],[Dl,rh]];return Dl=rh=-(nh=Wo=1/0),t}};function Qb(t,e){t<Wo&&(Wo=t),t>Dl&&(Dl=t),e<nh&&(nh=e),e>rh&&(rh=e)}var bp=0,Mp=0,il=0,sh=0,oh=0,No=0,Vp=0,Op=0,sl=0,HE,GE,yr,vr,Dn={point:As,lineStart:T_,lineEnd:S_,polygonStart:function(){Dn.lineStart=Zb,Dn.lineEnd=Jb},polygonEnd:function(){Dn.point=As,Dn.lineStart=T_,Dn.lineEnd=S_},result:function(){var t=sl?[Vp/sl,Op/sl]:No?[sh/No,oh/No]:il?[bp/il,Mp/il]:[NaN,NaN];return bp=Mp=il=sh=oh=No=Vp=Op=sl=0,t}};function As(t,e){bp+=t,Mp+=e,++il}function T_(){Dn.point=Yb}function Yb(t,e){Dn.point=Xb,As(yr=t,vr=e)}function Xb(t,e){var n=t-yr,i=e-vr,o=Ns(n*n+i*i);sh+=o*(yr+t)/2,oh+=o*(vr+e)/2,No+=o,As(yr=t,vr=e)}function S_(){Dn.point=As}function Zb(){Dn.point=eM}function Jb(){KE(HE,GE)}function eM(t,e){Dn.point=KE,As(HE=yr=t,GE=vr=e)}function KE(t,e){var n=t-yr,i=e-vr,o=Ns(n*n+i*i);sh+=o*(yr+t)/2,oh+=o*(vr+e)/2,No+=o,o=vr*t-yr*e,Vp+=o*(yr+t),Op+=o*(vr+e),sl+=o*3,As(yr=t,vr=e)}function WE(t){this._context=t}WE.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Vn);break}}},result:Mn};var Lp=new Is,bd,QE,YE,ol,al,bl={point:Mn,lineStart:function(){bl.point=tM},lineEnd:function(){bd&&XE(QE,YE),bl.point=Mn},polygonStart:function(){bd=!0},polygonEnd:function(){bd=null},result:function(){var t=+Lp;return Lp=new Is,t}};function tM(t,e){bl.point=XE,QE=ol=t,YE=al=e}function XE(t,e){ol-=t,al-=e,Lp.add(Ns(ol*ol+al*al)),ol=t,al=e}let x_,ah,I_,A_;class C_{constructor(e){this._append=e==null?ZE:nM(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==I_||this._append!==ah){const i=this._radius,o=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,I_=i,ah=this._append,A_=this._,this._=o}this._+=A_;break}}}result(){const e=this._;return this._="",e.length?e:null}}function ZE(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function nM(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return ZE;if(e!==x_){const n=10**e;x_=e,ah=function(o){let a=1;this._+=o[0];for(const c=o.length;a<c;++a)this._+=Math.round(arguments[a]*n)/n+o[a]}}return ah}function rM(t,e){let n=3,i=4.5,o,a;function c(f){return f&&(typeof i=="function"&&a.pointRadius(+i.apply(this,arguments)),Ro(f,o(a))),a.result()}return c.area=function(f){return Ro(f,o(Gr)),Gr.result()},c.measure=function(f){return Ro(f,o(bl)),bl.result()},c.bounds=function(f){return Ro(f,o(ih)),ih.result()},c.centroid=function(f){return Ro(f,o(Dn)),Dn.result()},c.projection=function(f){return arguments.length?(o=f==null?(t=null,Pp):(t=f).stream,c):t},c.context=function(f){return arguments.length?(a=f==null?(e=null,new C_(n)):new WE(e=f),typeof i!="function"&&a.pointRadius(i),c):e},c.pointRadius=function(f){return arguments.length?(i=typeof f=="function"?f:(a.pointRadius(+f),+f),c):i},c.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const p=Math.floor(f);if(!(p>=0))throw new RangeError(`invalid digits: ${f}`);n=p}return e===null&&(a=new C_(n)),c},c.projection(t).digits(n).context(e)}function zm(t){return function(e){var n=new Fp;for(var i in t)n[i]=t[i];return n.stream=e,n}}function Fp(){}Fp.prototype={constructor:Fp,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function $m(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),Ro(n,t.stream(ih)),e(ih.result()),i!=null&&t.clipExtent(i),t}function JE(t,e,n){return $m(t,function(i){var o=e[1][0]-e[0][0],a=e[1][1]-e[0][1],c=Math.min(o/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),f=+e[0][0]+(o-c*(i[1][0]+i[0][0]))/2,p=+e[0][1]+(a-c*(i[1][1]+i[0][1]))/2;t.scale(150*c).translate([f,p])},n)}function iM(t,e,n){return JE(t,[[0,0],e],n)}function sM(t,e,n){return $m(t,function(i){var o=+e,a=o/(i[1][0]-i[0][0]),c=(o-a*(i[1][0]+i[0][0]))/2,f=-a*i[0][1];t.scale(150*a).translate([c,f])},n)}function oM(t,e,n){return $m(t,function(i){var o=+e,a=o/(i[1][1]-i[0][1]),c=-a*i[0][0],f=(o-a*(i[1][1]+i[0][1]))/2;t.scale(150*a).translate([c,f])},n)}var R_=16,aM=ut(30*yn);function P_(t,e){return+e?uM(t,e):lM(t)}function lM(t){return zm({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function uM(t,e){function n(i,o,a,c,f,p,m,v,w,E,x,P,L,k){var q=m-i,G=v-o,Z=q*q+G*G;if(Z>4*e&&L--){var J=c+E,ue=f+x,le=p+P,b=Ns(J*J+ue*ue+le*le),A=kl(le/=b),R=tt(tt(le)-1)<Ge||tt(a-w)<Ge?(a+w)/2:Nl(ue,J),M=t(R,A),D=M[0],V=M[1],C=D-i,B=V-o,U=G*C-q*B;(U*U/Z>e||tt((q*C+G*B)/Z-.5)>.3||c*E+f*x+p*P<aM)&&(n(i,o,a,c,f,p,D,V,R,J/=b,ue/=b,le,L,k),k.point(D,V),n(D,V,R,J,ue,le,m,v,w,E,x,P,L,k))}}return function(i){var o,a,c,f,p,m,v,w,E,x,P,L,k={point:q,lineStart:G,lineEnd:J,polygonStart:function(){i.polygonStart(),k.lineStart=ue},polygonEnd:function(){i.polygonEnd(),k.lineStart=G}};function q(A,R){A=t(A,R),i.point(A[0],A[1])}function G(){w=NaN,k.point=Z,i.lineStart()}function Z(A,R){var M=Ko([A,R]),D=t(A,R);n(w,E,v,x,P,L,w=D[0],E=D[1],v=A,x=M[0],P=M[1],L=M[2],R_,i),i.point(w,E)}function J(){k.point=q,i.lineEnd()}function ue(){G(),k.point=le,k.lineEnd=b}function le(A,R){Z(o=A,R),a=w,c=E,f=x,p=P,m=L,k.point=Z}function b(){n(w,E,v,x,P,L,a,c,o,f,p,m,R_,i),k.lineEnd=J,J()}return k}}var cM=zm({point:function(t,e){this.stream.point(t*yn,e*yn)}});function hM(t){return zm({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}function fM(t,e,n,i,o){function a(c,f){return c*=i,f*=o,[e+t*c,n-t*f]}return a.invert=function(c,f){return[(c-e)/t*i,(n-f)/t*o]},a}function N_(t,e,n,i,o,a){if(!a)return fM(t,e,n,i,o);var c=ut(a),f=ct(a),p=c*t,m=f*t,v=c/t,w=f/t,E=(f*n-c*e)/t,x=(f*e+c*n)/t;function P(L,k){return L*=i,k*=o,[p*L-m*k+e,n-m*L-p*k]}return P.invert=function(L,k){return[i*(v*L-w*k+E),o*(x-w*L-v*k)]},P}function dM(t){return pM(function(){return t})()}function pM(t){var e,n=150,i=480,o=250,a=0,c=0,f=0,p=0,m=0,v,w=0,E=1,x=1,P=null,L=E_,k=null,q,G,Z,J=Pp,ue=.5,le,b,A,R,M;function D(U){return A(U[0]*yn,U[1]*yn)}function V(U){return U=A.invert(U[0],U[1]),U&&[U[0]*Hr,U[1]*Hr]}D.stream=function(U){return R&&M===U?R:R=cM(hM(v)(L(le(J(M=U)))))},D.preclip=function(U){return arguments.length?(L=U,P=void 0,B()):L},D.postclip=function(U){return arguments.length?(J=U,k=q=G=Z=null,B()):J},D.clipAngle=function(U){return arguments.length?(L=+U?$b(P=U*yn):(P=null,E_),B()):P*Hr},D.clipExtent=function(U){return arguments.length?(J=U==null?(k=q=G=Z=null,Pp):Hb(k=+U[0][0],q=+U[0][1],G=+U[1][0],Z=+U[1][1]),B()):k==null?null:[[k,q],[G,Z]]},D.scale=function(U){return arguments.length?(n=+U,C()):n},D.translate=function(U){return arguments.length?(i=+U[0],o=+U[1],C()):[i,o]},D.center=function(U){return arguments.length?(a=U[0]%360*yn,c=U[1]%360*yn,C()):[a*Hr,c*Hr]},D.rotate=function(U){return arguments.length?(f=U[0]%360*yn,p=U[1]%360*yn,m=U.length>2?U[2]%360*yn:0,C()):[f*Hr,p*Hr,m*Hr]},D.angle=function(U){return arguments.length?(w=U%360*yn,C()):w*Hr},D.reflectX=function(U){return arguments.length?(E=U?-1:1,C()):E<0},D.reflectY=function(U){return arguments.length?(x=U?-1:1,C()):x<0},D.precision=function(U){return arguments.length?(le=P_(b,ue=U*U),B()):Ns(ue)},D.fitExtent=function(U,K){return JE(D,U,K)},D.fitSize=function(U,K){return iM(D,U,K)},D.fitWidth=function(U,K){return sM(D,U,K)},D.fitHeight=function(U,K){return oM(D,U,K)};function C(){var U=N_(n,0,0,E,x,w).apply(null,e(a,c)),K=N_(n,i-U[0],o-U[1],E,x,w);return v=Vb(f,p,m),b=Cp(e,K),A=Cp(v,b),le=P_(b,ue),B()}function B(){return R=M=null,D}return function(){return e=t.apply(this,arguments),D.invert=e.invert&&V,C()}}function eT(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(-.013791+i*(.003971*n-.001529*i))),e*(1.007226+n*(.015085+i*(-.044475+.028874*n-.005916*i)))]}eT.invert=function(t,e){var n=e,i=25,o;do{var a=n*n,c=a*a;n-=o=(n*(1.007226+a*(.015085+c*(-.044475+.028874*a-.005916*c)))-e)/(1.007226+a*(.015085*3+c*(-.044475*7+.028874*9*a-.005916*11*c)))}while(tt(o)>Ge&&--i>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function mM(){return dM(eT).scale(175.295)}const gM={scale:230,translateX:580,translateY:325},yM=(t=gM)=>mM().scale(t.scale).translate([t.translateX,t.translateY]),vM=t=>rM().projection(t),_M={viewBox:"0 0 1200 650"},wM=(t,e,n)=>{const i=Gc(t),a=ea().find(f=>f.code===i);if(!a||!a.monthlyData[e])return"hsl(0, 0%, 85%)";const c=a.monthlyData[e];return rT(n,c)},tT=t=>t<=0?"hsl(240, 100%, 70%)":t<=10?"hsl(220, 80%, 60%)":t<=20?"hsl(180, 60%, 50%)":t<=25?"hsl(120, 60%, 50%)":t<=30?"hsl(60, 80%, 50%)":t<=35?"hsl(30, 90%, 55%)":"hsl(0, 90%, 60%)",nT=t=>t<=10?"hsl(45, 70%, 85%)":t<=25?"hsl(200, 40%, 80%)":t<=50?"hsl(200, 50%, 70%)":t<=100?"hsl(200, 60%, 60%)":t<=150?"hsl(200, 70%, 50%)":t<=200?"hsl(210, 80%, 40%)":"hsl(220, 90%, 30%)",EM=t=>{switch(t){case"best":return"hsl(120, 70%, 50%)";case"okay":return"hsl(45, 80%, 55%)";case"avoid":return"hsl(0, 70%, 55%)";default:return"hsl(0, 0%, 80%)"}},rT=(t,e)=>{switch(t){case"temperature":return tT(e.avgDayTemp);case"rainfall":return nT(e.rainfall);case"bestTime":return EM(e.bestTime);default:return"hsl(0, 0%, 80%)"}},TM=(t,e,n)=>{const i=(t+e)/2;return n>200?{icon:"",emoji:"",bgColor:"bg-gradient-to-br from-gray-700 to-blue-900",textColor:"text-white",borderColor:"border-blue-400",description:"Heavy storms & flooding"}:n>100&&i>20?{icon:"",emoji:"",bgColor:"bg-gradient-to-br from-green-600 to-blue-600",textColor:"text-white",borderColor:"border-green-400",description:"Tropical rainy season"}:n>100?{icon:"",emoji:"",bgColor:"bg-gradient-to-br from-gray-500 to-blue-600",textColor:"text-white",borderColor:"border-blue-300",description:"Cold & wet season"}:n>50?{icon:"",emoji:"",bgColor:"bg-gradient-to-br from-blue-400 to-green-500",textColor:"text-white",borderColor:"border-blue-300",description:"Showery weather"}:t>35&&n<20?{icon:"",emoji:"",bgColor:"bg-gradient-to-br from-yellow-400 to-orange-600",textColor:"text-white",borderColor:"border-orange-400",description:"Hot & arid desert"}:t>30?{icon:"",emoji:"",bgColor:"bg-gradient-to-br from-yellow-300 to-red-500",textColor:"text-white",borderColor:"border-yellow-400",description:"Very hot & sunny"}:i>20?{icon:"",emoji:"",bgColor:"bg-gradient-to-br from-yellow-200 to-green-400",textColor:"text-gray-800",borderColor:"border-yellow-300",description:"Warm & pleasant"}:i>10?{icon:"",emoji:"",bgColor:"bg-gradient-to-br from-blue-200 to-gray-400",textColor:"text-gray-800",borderColor:"border-blue-300",description:"Cool & mild"}:i>0?{icon:"",emoji:"",bgColor:"bg-gradient-to-br from-blue-300 to-gray-600",textColor:"text-white",borderColor:"border-blue-400",description:"Cold & chilly"}:{icon:"",emoji:"",bgColor:"bg-gradient-to-br from-blue-600 to-purple-800",textColor:"text-white",borderColor:"border-blue-500",description:"Freezing conditions"}},SM=t=>t===0?"No rain":t<=10?"Very light":t<=30?"Light":t<=60?"Moderate":t<=100?"Heavy":t<=200?"Very heavy":"Extreme",k_=t=>t<0?"Freezing":t<10?"Cold":t<20?"Cool":t<25?"Mild":t<30?"Warm":t<35?"Hot":"Very hot",iT=({tooltip:t,maxWidth:e=1e3,maxHeight:n=600})=>{if(!t)return null;const i=!!t.visaRequirement,o=TM(t.avgDayTemp,t.avgNightTemp,t.rainfall),a=SM(t.rainfall),c=k_(t.avgDayTemp),f=k_(t.avgNightTemp),p=G=>{switch(G){case"free":return"bg-green-600";case"voa":return"bg-orange-500";case"evisa":return"bg-blue-600";case"sticker":return"bg-red-600";case"none":return"bg-gray-700";default:return"bg-gray-500"}},m=()=>"text-white",v=G=>{switch(G){case"free":return"border-green-400";case"voa":return"border-orange-400";case"evisa":return"border-blue-400";case"sticker":return"border-red-400";case"none":return"border-gray-500";default:return"border-gray-400"}},w=G=>{switch(G){case"free":return"Visa-free";case"voa":return"Visa on arrival";case"evisa":return"eVisa required";case"sticker":return"Visa required";case"none":return"No admission";case"n/a":return"No visa data";default:return"Check requirements"}},E=G=>{switch(G){case"free":return"";case"voa":return"";case"evisa":return"";case"sticker":return"";case"none":return"";default:return""}},x=240,P=320,L=t.y>n*.3,k=Math.min(Math.max(t.x-P/2,15),e-P-15),q=L?Math.max(t.y-x-30,15):Math.min(t.y+20,n-x-15);return I.jsxs("div",{className:`absolute z-50 rounded-xl shadow-2xl border-2 transition-all duration-200 pointer-events-none max-w-[280px] sm:max-w-[320px] ${i&&t.visaRequirement?`${p(t.visaRequirement)} ${m()} ${v(t.visaRequirement)}`:`${o.bgColor} ${o.textColor} ${o.borderColor}`}`,style:{left:k,top:q,maxWidth:`${P}px`,transform:"translateZ(0)"},children:[I.jsxs("div",{className:"p-3 sm:p-4 pb-2",children:[I.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[I.jsx("h3",{className:"font-bold text-xs sm:text-sm",children:t.country}),!i&&I.jsxs("div",{className:"justify-end items-center flex gap-1 sm:gap-2",children:[I.jsx("div",{className:"text-sm sm:text-md",children:o.emoji}),I.jsx("div",{className:`text-sm sm:text-md font-bold ${t.bestTime==="best"?"text-green-300":t.bestTime==="okay"?"text-yellow-300":"text-red-300"}`,children:t.bestTime==="best"?"":t.bestTime==="okay"?"":""})]})]}),t.visaRequirement&&t.passportCountry&&I.jsxs("div",{className:"text-center mb-2 sm:mb-3 bg-black bg-opacity-20 rounded-md p-2",children:[I.jsxs("div",{className:"text-sm font-bold flex items-center justify-center gap-2",children:[I.jsx("span",{children:E(t.visaRequirement)}),I.jsx("span",{children:w(t.visaRequirement)})]}),I.jsxs("div",{className:"text-xs opacity-90 mt-1",children:["for ",t.passportCountry," passport"]})]}),!i&&I.jsx("div",{className:"text-center mb-2 sm:mb-3",children:I.jsxs("div",{className:"text-xs font-medium opacity-90",children:[o.icon," ",t.description]})})]}),!i&&I.jsxs("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-2 sm:space-y-3",children:[I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsxs("div",{className:"bg-black bg-opacity-20 rounded-md p-2 sm:p-3",children:[I.jsx("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:I.jsx("span",{className:"text-xs font-medium opacity-80",children:" Temperature"})}),I.jsxs("div",{className:"grid grid-cols-2 gap-1 sm:gap-2 text-xs sm:text-sm",children:[I.jsxs("div",{className:"text-center",children:[I.jsxs("div",{className:"text-xs font-bold",children:[" ",t.avgDayTemp,"C"]}),I.jsx("div",{className:"text-xs opacity-75",children:c})]}),I.jsxs("div",{className:"text-center",children:[I.jsxs("div",{className:"text-xs font-bold",children:[" ",t.avgNightTemp,"C"]}),I.jsx("div",{className:"text-xs opacity-75",children:f})]})]})]}),I.jsxs("div",{className:"bg-black bg-opacity-20 rounded-lg p-2 sm:p-3",children:[I.jsx("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:I.jsx("span",{className:"text-xs font-medium opacity-80",children:" Precipitation"})}),I.jsxs("div",{className:"text-center",children:[I.jsxs("div",{className:"text-xs font-bold",children:[t.rainfall,"mm"]}),I.jsxs("div",{className:"text-xs opacity-75",children:[a," rainfall"]})]})]})]}),t.regions&&t.selectedMonth&&I.jsxs("div",{className:"bg-black bg-opacity-20 rounded-lg p-2 sm:p-3",children:[I.jsx("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:I.jsx("span",{className:"text-xs font-medium opacity-80",children:" Regional Variations"})}),I.jsx("div",{className:"space-y-1 sm:space-y-2",children:t.regions.map((G,Z)=>{const J=G.monthlyData[t.selectedMonth];if(!J)return null;const ue=J.bestTime==="best"?"":J.bestTime==="okay"?"":"",le=J.bestTime==="best"?"text-green-300":J.bestTime==="okay"?"text-yellow-300":"text-red-300";return I.jsxs("div",{className:"flex items-center justify-between text-xs",children:[I.jsxs("div",{className:"flex items-center gap-1",children:[I.jsx("span",{className:le,children:ue}),I.jsx("span",{className:"opacity-90",children:G.name})]}),I.jsxs("div",{className:"text-right opacity-80 flex gap-1 sm:gap-2",children:[I.jsxs("div",{children:[J.avgDayTemp,"C"]}),I.jsxs("div",{className:"text-xs opacity-60",children:[J.rainfall,"mm"]})]})]},Z)})})]})]})]})},sT=({selectedCategory:t,countryCount:e})=>I.jsxs("div",{className:"absolute bottom-2 sm:bottom-4 left-2 sm:left-4 bg-white/90 backdrop-blur-sm rounded-lg p-2 sm:p-3 shadow-lg max-w-[200px] sm:max-w-none",children:[I.jsx("h3",{className:"font-semibold text-xs sm:text-sm mb-1 sm:mb-2",children:t==="temperature"?"Temperature (C)":t==="rainfall"?"Rainfall (mm)":t==="bestTime"?"Best time to visit":"Visa requirements"}),I.jsx("div",{className:"flex items-center gap-1 sm:gap-2 text-xs",children:t==="temperature"?I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"w-3 sm:w-4 h-2 sm:h-3 bg-gradient-to-r from-blue-400 to-red-500 rounded"}),I.jsx("span",{children:"Cold  Hot"})]}):t==="rainfall"?I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"w-3 sm:w-4 h-2 sm:h-3 bg-gradient-to-r from-gray-300 to-blue-600 rounded"}),I.jsx("span",{children:"Low  High"})]}):t==="bestTime"?I.jsxs("div",{className:"space-y-1",children:[I.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[I.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 bg-green-500 rounded"}),I.jsx("span",{children:"Best time"})]}),I.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[I.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 bg-yellow-500 rounded"}),I.jsx("span",{children:"Okay time"})]}),I.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[I.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 bg-red-500 rounded"}),I.jsx("span",{children:"Avoid"})]})]}):I.jsxs("div",{className:"space-y-1",children:[I.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[I.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 rounded",style:{backgroundColor:db}}),I.jsx("span",{className:"font-semibold",children:"Your country"})]}),I.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[I.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 rounded",style:{backgroundColor:Si.free}}),I.jsx("span",{children:"Visa-free"})]}),I.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[I.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 rounded",style:{backgroundColor:Si.voa}}),I.jsx("span",{children:"Visa on arrival"})]}),I.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[I.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 rounded",style:{backgroundColor:Si.evisa}}),I.jsx("span",{children:"eVisa/ETA"})]}),I.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[I.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 rounded",style:{backgroundColor:Si.sticker}}),I.jsx("span",{children:"Sticker visa"})]}),I.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[I.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 rounded",style:{backgroundColor:Si.none}}),I.jsx("span",{children:"No admission"})]}),I.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[I.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 rounded",style:{backgroundColor:Si["n/a"]}}),I.jsx("span",{children:"No data"})]})]})}),I.jsxs("div",{className:"mt-1 sm:mt-2 text-xs text-gray-600",children:[I.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[I.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 rounded-full bg-blue-500 border border-white"}),I.jsx("span",{className:"text-xs",children:"Interactive data points"})]}),I.jsx("div",{className:"text-xs font-medium text-blue-600",children:"Tap countries for detailed data"})]})]}),xM=({selectedMonth:t,selectedCategory:e,countryCount:n})=>I.jsxs("div",{className:"absolute bottom-2 sm:bottom-4 right-2 sm:right-4 bg-white/90 backdrop-blur-sm rounded-lg p-2 sm:p-3 shadow-lg",children:[e!=="visa"&&I.jsx("div",{className:"text-xs sm:text-sm font-semibold",children:t}),I.jsxs("div",{className:"text-xs text-muted-foreground capitalize",children:[e==="bestTime"?"Best time to visit":e," View"]}),e!=="visa"&&I.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[n," countries with data"]}),e==="visa"&&I.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"199 countries"})]}),IM=({selectedMonth:t,selectedCategory:e,projection:n,onCountryHover:i,onCountryLeave:o,currentZoom:a=1,visaData:c})=>{const{tourismData:f,loading:p}=Dh();return p||!f.length?null:I.jsx(I.Fragment,{children:f.map(m=>{if(!m.coordinates)return console.log(`No coordinates found for ${m.name}`),null;const[v,w]=m.coordinates,[E,x]=n([w,v])||[0,0];let P;if(e==="visa"&&c?.selectedPassportIso3){const k=m.alternativeCodes?.alpha3||hb[m.code];if(!k)P="hsl(0, 0%, 75%)";else if(k===c.selectedPassportIso3)P="hsl(280, 70%, 50%)";else{const G=(c.byPassport[c.selectedPassportIso3]||{})[k];P=Jc(G||"n/a")}}else{if(!m.monthlyData||!Object.prototype.hasOwnProperty.call(m.monthlyData,t))return console.log(`No data for ${t} found for ${m.name}`),null;const k=m.monthlyData[t];P=rT(e,k)}const L=1/a;return I.jsxs("g",{transform:`translate(${E}, ${x}) scale(${L}) translate(${-E}, ${-x})`,children:[I.jsx("circle",{cx:E,cy:x,r:"12",fill:P,stroke:"white",strokeWidth:"1",className:"cursor-pointer transition-all duration-300 hover:r-16 touch-manipulation",onMouseEnter:k=>i(k,m.code),onMouseLeave:o,onTouchStart:k=>{k.preventDefault(),i(k,m.code)},onTouchEnd:k=>{k.preventDefault(),o()}}),I.jsx("text",{x:E,y:x+5,textAnchor:"middle",className:"text-xs font-bold fill-white pointer-events-none",children:m.code})]},`marker-${m.code}`)})})},AM=({selectedMonth:t,selectedCategory:e,tooltip:n,onCountryHover:i,onCountryLeave:o})=>{const{tourismData:a,loading:c}=Dh();return c||!a.length?I.jsx("div",{className:"relative w-full h-[500px] sm:h-[600px] md:h-[700px] bg-blue-100 rounded-lg overflow-hidden shadow-lg flex items-center justify-center",children:I.jsxs("div",{className:"text-center",children:[I.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),I.jsx("p",{className:"text-gray-600",children:"Loading fallback map..."})]})}):I.jsxs("div",{className:"relative w-full h-[500px] sm:h-[600px] md:h-[650px] bg-blue-100 rounded-lg overflow-hidden shadow-lg",children:[I.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:I.jsxs("div",{className:"text-center p-4 sm:p-8",children:[I.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Loading World Map..."}),I.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3 sm:mb-4",children:"Displaying available countries while map loads"}),I.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-4 max-h-[400px] overflow-y-auto touch-scroll",children:a.map(f=>{const p=f.monthlyData[t],m=e==="temperature"?tT(p.avgDayTemp):nT(p.rainfall);return I.jsxs("div",{className:"p-2 sm:p-4 rounded-lg cursor-pointer transition-all duration-300 hover:scale-105 border touch-manipulation",style:{backgroundColor:m},onMouseEnter:v=>i(v,f.code),onMouseLeave:o,onTouchStart:v=>{v.preventDefault(),i(v,f.code)},onTouchEnd:v=>{v.preventDefault(),o()},children:[I.jsx("div",{className:"text-xs sm:text-sm font-medium text-white mix-blend-difference",children:f.name}),I.jsx("div",{className:"text-xs text-white mix-blend-difference mt-1",children:e==="temperature"?`${p.avgDayTemp}C`:`${p.rainfall}mm`})]},f.code)})})]})}),I.jsx(sT,{selectedCategory:e,countryCount:a.length}),I.jsx(iT,{tooltip:n,maxWidth:1e3,maxHeight:600})]})},CM=()=>I.jsxs(I.Fragment,{children:[I.jsx("defs",{children:I.jsxs("linearGradient",{id:"oceanGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[I.jsx("stop",{offset:"0%",stopColor:"hsl(200, 80%, 82%)"}),I.jsx("stop",{offset:"50%",stopColor:"hsl(205, 85%, 78%)"}),I.jsx("stop",{offset:"100%",stopColor:"hsl(210, 80%, 76%)"})]})}),I.jsx("rect",{width:"100%",height:"100%",fill:"url(#oceanGradient)"})]}),RM=({onZoomIn:t,onZoomOut:e,onReset:n,onToggleFullscreen:i,isFullscreen:o,currentZoom:a})=>I.jsxs("div",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 flex flex-col gap-1 sm:gap-2 bg-white/90 backdrop-blur-sm rounded-lg p-1 sm:p-2 shadow-lg",children:[I.jsx("button",{onClick:t,className:"p-2 sm:p-2 hover:bg-gray-100 rounded-md transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation",disabled:a>=8,title:"Zoom In",children:I.jsx(Pb,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),I.jsx("button",{onClick:e,className:"p-2 sm:p-2 hover:bg-gray-100 rounded-md transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation",disabled:a<=1.01,title:"Zoom Out",children:I.jsx(Nb,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),I.jsx("div",{className:"border-t border-gray-300 mx-1"}),I.jsx("button",{onClick:n,className:"p-2 sm:p-2 hover:bg-gray-100 rounded-md transition-colors duration-200 touch-manipulation",title:"Reset Zoom",children:I.jsx(Ab,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),I.jsx("div",{className:"border-t border-gray-300 mx-1"}),I.jsx("button",{onClick:i,className:"p-2 sm:p-2 hover:bg-gray-100 rounded-md transition-colors duration-200 touch-manipulation",title:o?"Exit Fullscreen":"Enter Fullscreen",children:o?I.jsx(Ib,{size:16,className:"sm:w-[18px] sm:h-[18px]"}):I.jsx(xb,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),I.jsxs("div",{className:"text-xs text-center text-gray-600 font-mono px-1 py-1",children:[Math.round(a*100),"%"]})]}),D_=({selectedMonth:t,selectedCategory:e,selectedPassportIso3:n})=>{const{worldData:i,loading:o,error:a}=ON(),{tourismData:c,loading:f,error:p}=Dh(),{byPassport:m,iso3ToName:v}=OE(),w=oe.useMemo(()=>mb(),[]),{tooltip:E,handleCountryHover:x,handleCountryLeave:P,handleTouchStart:L,handleTouchEnd:k}=CN({selectedMonth:t,visaData:e==="visa"&&n?{byPassport:m,selectedPassportIso3:n,passportCountryName:v[n],numericToIso3:w}:void 0}),{containerRef:q,svgRef:G,zoomIn:Z,zoomOut:J,resetZoom:ue,currentZoom:le}=cb(),{isFullscreen:b,toggleFullscreen:A}=VE(),R=yM(),M=vM(R),D=o||f,V=a||p;return D?I.jsx("div",{className:"relative w-full h-full bg-blue-100 rounded-lg overflow-hidden shadow-lg flex items-center justify-center",children:I.jsxs("div",{className:"text-center",children:[I.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),I.jsx("p",{className:"text-gray-600",children:"Loading climate data..."})]})}):V?I.jsx("div",{className:"relative w-full h-full bg-red-50 rounded-lg overflow-hidden shadow-lg flex items-center justify-center",children:I.jsxs("div",{className:"text-center text-red-600",children:[I.jsx("p",{className:"font-semibold mb-2",children:"Error loading data"}),I.jsx("p",{className:"text-sm",children:V})]})}):i?I.jsxs("div",{className:"relative w-full h-full bg-blue-100 rounded-lg overflow-hidden shadow-lg",children:[I.jsx("div",{ref:q,className:"w-full h-full",style:{touchAction:"none"},children:I.jsx("svg",{ref:G,width:"100%",height:"100%",viewBox:_M.viewBox,className:"w-full h-full cursor-grab active:cursor-grabbing",style:{touchAction:"none",pointerEvents:"all"},children:I.jsxs("g",{id:"map-group",children:[I.jsx(CM,{}),i.features.map((C,B)=>{const U=M(C),K=C.id;let re,Y;if(e==="visa"&&n){const ne=C?.properties?.ISO_A3||C?.properties?.ADM0_A3,ee=C?.id?String(C.id):void 0,O=ne||(ee?w[ee]:void 0);if(O===n)re="hsl(280, 70%, 50%)",Y=!0;else{const Q=m[n]||{},de=O&&Q[O]||"n/a";re=Jc(de),Y=!!O&&Object.prototype.hasOwnProperty.call(Q,O)}}else re=wM(K,t,e),Y=AN(K,t);return I.jsx("path",{d:U||"",fill:re,stroke:"hsl(0, 0%, 100%)",strokeWidth:"0.5",className:`transition-all duration-300 cursor-pointer ${Y?"hover:stroke-4 hover:stroke-blue-500":"hover:stroke-2"}`,onMouseEnter:ne=>x(ne,K),onMouseLeave:P,onTouchStart:ne=>L(ne,K),onTouchEnd:k},`country-${K}-${B}`)}),I.jsx(IM,{selectedMonth:t,selectedCategory:e,projection:R,onCountryHover:x,onCountryLeave:P,currentZoom:le,visaData:e==="visa"&&n?{byPassport:m,selectedPassportIso3:n}:void 0})]})})}),I.jsx(RM,{onZoomIn:Z,onZoomOut:J,onReset:ue,onToggleFullscreen:()=>A(),isFullscreen:b,currentZoom:le}),I.jsx(sT,{selectedCategory:e,countryCount:c.length}),I.jsx(iT,{tooltip:E,maxWidth:1e3,maxHeight:600}),I.jsx(xM,{selectedMonth:t,selectedCategory:e,countryCount:c.length})]}):I.jsx(AM,{selectedMonth:t,selectedCategory:e,tooltip:E,onCountryHover:x,onCountryLeave:P})},b_=({selectedPassportIso3:t,onChange:e,selectedDestinationIso3:n,onDestinationChange:i})=>{const{loading:o,error:a,passports:c,iso3ToName:f,byPassport:p}=OE(),[m,v]=oe.useState(""),[w,E]=oe.useState(!1),[x,P]=oe.useState(!1),[L,k]=oe.useState(""),[q,G]=oe.useState(!1),[Z,J]=oe.useState(!1),ue=oe.useMemo(()=>{if(!m.trim())return c.slice(0,5);const V=m.toLowerCase();return c.filter(C=>(f[C]||C).toLowerCase().includes(V)||C.toLowerCase().includes(V)).slice(0,5)},[m,c,f]),le=oe.useMemo(()=>{if(!L.trim())return c.slice(0,5);const V=L.toLowerCase();return c.filter(C=>(f[C]||C).toLowerCase().includes(V)||C.toLowerCase().includes(V)).slice(0,5)},[L,c,f]),b=t?f[t]||t:"",A=n?f[n]||n:"",R=oe.useMemo(()=>t&&n?(p[t]||{})[n]||"n/a":null,[t,n,p]),M=V=>{switch(V){case"free":return"Visa-free";case"voa":return"Visa on arrival";case"evisa":return"eVisa required";case"sticker":return"Visa required";case"none":return"No admission";case"n/a":return"No data available";default:return"Check requirements"}},D=V=>{switch(V){case"free":return"";case"voa":return"";case"evisa":return"";case"sticker":return"";case"none":return"";default:return""}};return I.jsxs("div",{className:"bg-card rounded-lg p-3 shadow-sm border",children:[I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{children:[I.jsx("div",{className:"text-sm font-medium mb-2",children:"Passport Country"}),o?I.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading..."}):a?I.jsxs("div",{children:[I.jsx("div",{className:"text-xs text-red-600 font-medium",children:"Failed to load visa data"}),I.jsx("div",{className:"text-xs text-red-500 mt-1",children:a})]}):c.length===0?I.jsx("div",{className:"text-xs text-yellow-600",children:"No passport data available"}):I.jsxs("div",{className:"relative",children:[I.jsx("input",{type:"text",placeholder:x||m?"Search passport country...":b||"Select passport country...",value:x||w?m:b,onChange:V=>{v(V.target.value),E(!0)},onFocus:()=>{P(!0),E(!0),v("")},onBlur:()=>{P(!1)},className:"w-full border rounded px-3 py-2 text-sm bg-background focus:outline-none focus:ring-2 focus:ring-primary"}),w&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>{E(!1),v("")}}),I.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[ue.length>0?ue.map(V=>I.jsx("button",{onClick:()=>{e(V),E(!1),v(""),P(!1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-primary/10 transition-colors ${V===t?"bg-primary/20 font-medium":""}`,children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("span",{children:f[V]||V}),I.jsx("span",{className:"text-xs text-gray-500",children:V})]})},V)):I.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:"No countries found"}),!m&&c.length>5&&I.jsxs("div",{className:"px-3 py-2 text-xs text-gray-400 border-t",children:["Type to search all ",c.length," countries"]})]})]})]})]}),i&&I.jsxs("div",{children:[I.jsx("div",{className:"text-sm font-medium mb-2",children:"Destination Country"}),I.jsxs("div",{className:"relative",children:[I.jsx("input",{type:"text",placeholder:Z||L?"Search destination...":A||"Select destination...",value:Z||q?L:A,onChange:V=>{k(V.target.value),G(!0)},onFocus:()=>{J(!0),G(!0),k("")},onBlur:()=>{J(!1)},className:"w-full border rounded px-3 py-2 text-sm bg-background focus:outline-none focus:ring-2 focus:ring-primary"}),q&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>{G(!1),k("")}}),I.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[le.length>0?I.jsx(I.Fragment,{children:le.map(V=>I.jsx("button",{onClick:()=>{i(V),G(!1),k(""),J(!1)},className:`w-full text-left px-3 py-2 text-sm hover:bg-primary/10 transition-colors ${V===n?"bg-primary/20 font-medium":""}`,children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("span",{children:f[V]||V}),I.jsx("span",{className:"text-xs text-gray-500",children:V})]})},V))}):I.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:"No countries found"}),!L&&c.length>5&&I.jsxs("div",{className:"px-3 py-2 text-xs text-gray-400 border-t",children:["Type to search all ",c.length," countries"]})]})]})]})]}),R&&t&&n&&I.jsxs("div",{className:"mt-3 p-3 rounded-lg text-white",style:{backgroundColor:Jc(R)},children:[I.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm font-semibold",children:[I.jsx("span",{className:"text-xl",children:D(R)}),I.jsx("span",{children:M(R)})]}),I.jsxs("div",{className:"text-xs text-center mt-1 opacity-90",children:[b,"  ",A]})]})]}),I.jsx("div",{className:"text-xs text-muted-foreground mt-3",children:"Select countries to view visa requirements."})]})},PM=()=>{const t=new Date().toLocaleString("default",{month:"long"}),[e,n]=oe.useState(t),[i,o]=oe.useState("temperature"),[a,c]=oe.useState(""),[f,p]=oe.useState(""),{isFullscreen:m}=VE();return m?I.jsx("div",{className:"fixed inset-0 bg-blue-100 z-50",children:I.jsx("main",{className:"h-full relative",children:I.jsxs("div",{className:"h-full relative",children:[I.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50",children:I.jsx(h_,{selectedCategory:i,onCategorySelect:o})}),I.jsx(D_,{selectedMonth:e,selectedCategory:i,selectedPassportIso3:a}),I.jsx("div",{className:"absolute bottom-40 left-4 z-40",children:i==="visa"?I.jsx(b_,{selectedPassportIso3:a,onChange:c,selectedDestinationIso3:f,onDestinationChange:p}):I.jsx(u_,{selectedMonth:e,onMonthSelect:n,isFullscreen:!0})})]})})}):I.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background to-primary/5",children:[I.jsxs("header",{className:"text-center py-4 px-4 sm:py-6 md:py-8",children:[I.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[I.jsx(c_,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),I.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Wanderer"})]}),I.jsx("p",{className:"text-sm sm:text-base md:text-lg text-muted-foreground max-w-2xl mx-auto px-2",children:"Discover the best destinations around the world based on seasonal weather patterns and climate data"})]}),I.jsxs("main",{className:"container mx-auto px-2 sm:px-4 space-y-4 sm:space-y-6 md:space-y-8",children:[I.jsx(h_,{selectedCategory:i,onCategorySelect:o}),I.jsxs("div",{className:"flex flex-col xl:flex-row gap-4 sm:gap-6 max-w-7xl mx-auto",children:[I.jsx("div",{className:"xl:w-64 flex-shrink-0 order-1 xl:order-1",children:i==="visa"?I.jsx(b_,{selectedPassportIso3:a,onChange:c,selectedDestinationIso3:f,onDestinationChange:p}):I.jsx(u_,{selectedMonth:e,onMonthSelect:n,isFullscreen:!1})}),I.jsx("div",{className:"flex-1 order-2 xl:order-2",children:I.jsx(D_,{selectedMonth:e,selectedCategory:i,selectedPassportIso3:a})})]}),I.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6 mt-8 sm:mt-12 px-2 sm:px-0",children:[I.jsxs("div",{className:"bg-card rounded-lg p-4 sm:p-6 shadow-lg border",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[I.jsx(Rb,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),I.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"How to Use"})]}),I.jsxs("ul",{className:"space-y-1 sm:space-y-2 text-xs sm:text-sm text-muted-foreground",children:[I.jsx("li",{children:" Select a month to see seasonal weather patterns"}),I.jsx("li",{children:" Choose between temperature and rainfall views"}),I.jsx("li",{children:" Hover over countries for detailed climate information"}),I.jsx("li",{children:" Colors indicate optimal travel conditions"})]})]}),I.jsxs("div",{className:"bg-card rounded-lg p-4 sm:p-6 shadow-lg border",children:[I.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3",children:"Current Selection"}),I.jsxs("div",{className:"space-y-2 text-xs sm:text-sm",children:[i!=="visa"&&I.jsxs("div",{children:[I.jsx("span",{className:"font-medium",children:"Month:"})," ",e]}),I.jsxs("div",{children:[I.jsx("span",{className:"font-medium",children:"Category:"})," ",I.jsx("span",{className:"capitalize",children:i==="bestTime"?"Best time to visit":i})]}),i==="visa"&&I.jsxs("div",{children:[I.jsx("span",{className:"font-medium",children:"Passport:"})," ",a||"Not selected"]}),i==="visa"&&f&&I.jsxs("div",{children:[I.jsx("span",{className:"font-medium",children:"Destination:"})," ",f]}),I.jsx("div",{className:"mt-3 text-xs text-muted-foreground",children:i==="temperature"?"Red indicates hot weather, blue indicates cold weather":i==="rainfall"?"Blue indicates high rainfall, gray indicates low rainfall":i==="bestTime"?"Green = best time, yellow = okay, red = avoid visiting":"Colors show visa requirements for your passport"})]})]}),I.jsxs("div",{className:"bg-card rounded-lg p-4 sm:p-6 shadow-lg border",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[I.jsx(c_,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),I.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Visa Requirements"})]}),I.jsx("div",{className:"overflow-x-auto rounded-md border bg-background",children:I.jsx("div",{className:"min-w-[350px]",children:I.jsx("iframe",{title:"Visa requirements widget",src:"https://visalist.io/widget?dark=false&showheader=false&home=&destination=",width:"100%",className:"w-full h-[250px] border-0",allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})})]})]}),I.jsx("footer",{className:"text-center py-4 sm:py-6 md:py-8 mt-8 sm:mt-12 md:mt-16 border-t border-border/50",children:I.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Wanderer  ",I.jsx("a",{href:"https://github.com/geek-paradox/travel",children:"Github"})]})})]})]})},NM=()=>I.jsx(PM,{}),kM=()=>{const t=Y_();return oe.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),I.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:I.jsxs("div",{className:"text-center",children:[I.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),I.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),I.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},DM=new US,bM=()=>I.jsx(HS,{client:DM,children:I.jsx(Dx,{basename:"/travel/",children:I.jsxs(Px,{children:[I.jsx(Ld,{path:"",element:I.jsx(NM,{})}),I.jsx(Ld,{path:"*",element:I.jsx(kM,{})})]})})});vS.createRoot(document.getElementById("root")).render(I.jsx(bM,{}));
