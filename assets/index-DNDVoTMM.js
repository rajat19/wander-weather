function ET(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function TT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qf={exports:{}},$a={},Gf={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function ST(){if(Cy)return De;Cy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,L={};function k(O,W,de){this.props=O,this.context=W,this.refs=L,this.updater=de||x}k.prototype.isReactComponent={},k.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=k.prototype;function X(O,W,de){this.props=O,this.context=W,this.refs=L,this.updater=de||x}var J=X.prototype=new H;J.constructor=X,P(J,k.prototype),J.isPureReactComponent=!0;var Z=Array.isArray,le=Object.prototype.hasOwnProperty,ce={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(O,W,de){var _e,Te={},Ae=null,ke=null;if(W!=null)for(_e in W.ref!==void 0&&(ke=W.ref),W.key!==void 0&&(Ae=""+W.key),W)le.call(W,_e)&&!D.hasOwnProperty(_e)&&(Te[_e]=W[_e]);var Ne=arguments.length-2;if(Ne===1)Te.children=de;else if(1<Ne){for(var Be=Array(Ne),St=0;St<Ne;St++)Be[St]=arguments[St+2];Te.children=Be}if(O&&O.defaultProps)for(_e in Ne=O.defaultProps,Ne)Te[_e]===void 0&&(Te[_e]=Ne[_e]);return{$$typeof:t,type:O,key:Ae,ref:ke,props:Te,_owner:ce.current}}function C(O,W){return{$$typeof:t,type:O.type,key:W,ref:O.ref,props:O.props,_owner:O._owner}}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function N(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(de){return W[de]})}var j=/\/+/g;function A(O,W){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):W.toString(36)}function z(O,W,de,_e,Te){var Ae=typeof O;(Ae==="undefined"||Ae==="boolean")&&(O=null);var ke=!1;if(O===null)ke=!0;else switch(Ae){case"string":case"number":ke=!0;break;case"object":switch(O.$$typeof){case t:case e:ke=!0}}if(ke)return ke=O,Te=Te(ke),O=_e===""?"."+A(ke,0):_e,Z(Te)?(de="",O!=null&&(de=O.replace(j,"$&/")+"/"),z(Te,W,de,"",function(St){return St})):Te!=null&&(V(Te)&&(Te=C(Te,de+(!Te.key||ke&&ke.key===Te.key?"":(""+Te.key).replace(j,"$&/")+"/")+O)),W.push(Te)),1;if(ke=0,_e=_e===""?".":_e+":",Z(O))for(var Ne=0;Ne<O.length;Ne++){Ae=O[Ne];var Be=_e+A(Ae,Ne);ke+=z(Ae,W,de,Be,Te)}else if(Be=E(O),typeof Be=="function")for(O=Be.call(O),Ne=0;!(Ae=O.next()).done;)Ae=Ae.value,Be=_e+A(Ae,Ne++),ke+=z(Ae,W,de,Be,Te);else if(Ae==="object")throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return ke}function U(O,W,de){if(O==null)return O;var _e=[],Te=0;return z(O,_e,"","",function(Ae){return W.call(de,Ae,Te++)}),_e}function G(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(de){(O._status===0||O._status===-1)&&(O._status=1,O._result=de)},function(de){(O._status===0||O._status===-1)&&(O._status=2,O._result=de)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var ie={current:null},Y={transition:null},ne={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:Y,ReactCurrentOwner:ce};function ee(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:U,forEach:function(O,W,de){U(O,function(){W.apply(this,arguments)},de)},count:function(O){var W=0;return U(O,function(){W++}),W},toArray:function(O){return U(O,function(W){return W})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},De.Component=k,De.Fragment=n,De.Profiler=o,De.PureComponent=X,De.StrictMode=i,De.Suspense=p,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,De.act=ee,De.cloneElement=function(O,W,de){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var _e=P({},O.props),Te=O.key,Ae=O.ref,ke=O._owner;if(W!=null){if(W.ref!==void 0&&(Ae=W.ref,ke=ce.current),W.key!==void 0&&(Te=""+W.key),O.type&&O.type.defaultProps)var Ne=O.type.defaultProps;for(Be in W)le.call(W,Be)&&!D.hasOwnProperty(Be)&&(_e[Be]=W[Be]===void 0&&Ne!==void 0?Ne[Be]:W[Be])}var Be=arguments.length-2;if(Be===1)_e.children=de;else if(1<Be){Ne=Array(Be);for(var St=0;St<Be;St++)Ne[St]=arguments[St+2];_e.children=Ne}return{$$typeof:t,type:O.type,key:Te,ref:Ae,props:_e,_owner:ke}},De.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},De.createElement=I,De.createFactory=function(O){var W=I.bind(null,O);return W.type=O,W},De.createRef=function(){return{current:null}},De.forwardRef=function(O){return{$$typeof:f,render:O}},De.isValidElement=V,De.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:G}},De.memo=function(O,W){return{$$typeof:m,type:O,compare:W===void 0?null:W}},De.startTransition=function(O){var W=Y.transition;Y.transition={};try{O()}finally{Y.transition=W}},De.unstable_act=ee,De.useCallback=function(O,W){return ie.current.useCallback(O,W)},De.useContext=function(O){return ie.current.useContext(O)},De.useDebugValue=function(){},De.useDeferredValue=function(O){return ie.current.useDeferredValue(O)},De.useEffect=function(O,W){return ie.current.useEffect(O,W)},De.useId=function(){return ie.current.useId()},De.useImperativeHandle=function(O,W,de){return ie.current.useImperativeHandle(O,W,de)},De.useInsertionEffect=function(O,W){return ie.current.useInsertionEffect(O,W)},De.useLayoutEffect=function(O,W){return ie.current.useLayoutEffect(O,W)},De.useMemo=function(O,W){return ie.current.useMemo(O,W)},De.useReducer=function(O,W,de){return ie.current.useReducer(O,W,de)},De.useRef=function(O){return ie.current.useRef(O)},De.useState=function(O){return ie.current.useState(O)},De.useSyncExternalStore=function(O,W,de){return ie.current.useSyncExternalStore(O,W,de)},De.useTransition=function(){return ie.current.useTransition()},De.version="18.3.1",De}var Ay;function _p(){return Ay||(Ay=1,Gf.exports=ST()),Gf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function xT(){if(Ry)return $a;Ry=1;var t=_p(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,m){var v,w={},E=null,x=null;m!==void 0&&(E=""+m),p.key!==void 0&&(E=""+p.key),p.ref!==void 0&&(x=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(w[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:e,type:f,key:E,ref:x,props:w,_owner:o.current}}return $a.Fragment=n,$a.jsx=c,$a.jsxs=c,$a}var Py;function IT(){return Py||(Py=1,Qf.exports=xT()),Qf.exports}var M=IT(),Gu={},Wf={exports:{}},nn={},Kf={exports:{}},Yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function CT(){return ky||(ky=1,function(t){function e(Y,ne){var ee=Y.length;Y.push(ne);e:for(;0<ee;){var O=ee-1>>>1,W=Y[O];if(0<o(W,ne))Y[O]=ne,Y[ee]=W,ee=O;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var ne=Y[0],ee=Y.pop();if(ee!==ne){Y[0]=ee;e:for(var O=0,W=Y.length,de=W>>>1;O<de;){var _e=2*(O+1)-1,Te=Y[_e],Ae=_e+1,ke=Y[Ae];if(0>o(Te,ee))Ae<W&&0>o(ke,Te)?(Y[O]=ke,Y[Ae]=ee,O=Ae):(Y[O]=Te,Y[_e]=ee,O=_e);else if(Ae<W&&0>o(ke,ee))Y[O]=ke,Y[Ae]=ee,O=Ae;else break e}}return ne}function o(Y,ne){var ee=Y.sortIndex-ne.sortIndex;return ee!==0?ee:Y.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],m=[],v=1,w=null,E=3,x=!1,P=!1,L=!1,k=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(Y){for(var ne=n(m);ne!==null;){if(ne.callback===null)i(m);else if(ne.startTime<=Y)i(m),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=n(m)}}function Z(Y){if(L=!1,J(Y),!P)if(n(p)!==null)P=!0,G(le);else{var ne=n(m);ne!==null&&ie(Z,ne.startTime-Y)}}function le(Y,ne){P=!1,L&&(L=!1,H(I),I=-1),x=!0;var ee=E;try{for(J(ne),w=n(p);w!==null&&(!(w.expirationTime>ne)||Y&&!N());){var O=w.callback;if(typeof O=="function"){w.callback=null,E=w.priorityLevel;var W=O(w.expirationTime<=ne);ne=t.unstable_now(),typeof W=="function"?w.callback=W:w===n(p)&&i(p),J(ne)}else i(p);w=n(p)}if(w!==null)var de=!0;else{var _e=n(m);_e!==null&&ie(Z,_e.startTime-ne),de=!1}return de}finally{w=null,E=ee,x=!1}}var ce=!1,D=null,I=-1,C=5,V=-1;function N(){return!(t.unstable_now()-V<C)}function j(){if(D!==null){var Y=t.unstable_now();V=Y;var ne=!0;try{ne=D(!0,Y)}finally{ne?A():(ce=!1,D=null)}}else ce=!1}var A;if(typeof X=="function")A=function(){X(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,U=z.port2;z.port1.onmessage=j,A=function(){U.postMessage(null)}}else A=function(){k(j,0)};function G(Y){D=Y,ce||(ce=!0,A())}function ie(Y,ne){I=k(function(){Y(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){P||x||(P=!0,G(le))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var ne=3;break;default:ne=E}var ee=E;E=ne;try{return Y()}finally{E=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ne){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ee=E;E=Y;try{return ne()}finally{E=ee}},t.unstable_scheduleCallback=function(Y,ne,ee){var O=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?O+ee:O):ee=O,Y){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ee+W,Y={id:v++,callback:ne,priorityLevel:Y,startTime:ee,expirationTime:W,sortIndex:-1},ee>O?(Y.sortIndex=ee,e(m,Y),n(p)===null&&Y===n(m)&&(L?(H(I),I=-1):L=!0,ie(Z,ee-O))):(Y.sortIndex=W,e(p,Y),P||x||(P=!0,G(le))),Y},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(Y){var ne=E;return function(){var ee=E;E=ne;try{return Y.apply(this,arguments)}finally{E=ee}}}}(Yf)),Yf}var Ny;function AT(){return Ny||(Ny=1,Kf.exports=CT()),Kf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function RT(){if(Dy)return nn;Dy=1;var t=_p(),e=AT();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(r){return p.call(w,r)?!0:p.call(v,r)?!1:m.test(r)?w[r]=!0:(v[r]=!0,!1)}function x(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function P(r,s,a,h){if(s===null||typeof s>"u"||x(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function L(r,s,a,h,d,y,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=T}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new L(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];k[s]=new L(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new L(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new L(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new L(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new L(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new L(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new L(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new L(r,5,!1,r.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function X(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(H,X);k[s]=new L(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(H,X);k[s]=new L(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(H,X);k[s]=new L(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new L(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new L(r,1,!1,r.toLowerCase(),null,!0,!0)});function J(r,s,a,h){var d=k.hasOwnProperty(s)?k[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(P(s,a,d,h)&&(a=null),h||d===null?E(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,h=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var Z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),ce=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ne(r){return r===null||typeof r!="object"?null:(r=Y&&r[Y]||r["@@iterator"],typeof r=="function"?r:null)}var ee=Object.assign,O;function W(r){if(O===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+r}var de=!1;function _e(r,s){if(!r||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var h=Q}Reflect.construct(r,[],s)}else{try{s.call()}catch(Q){h=Q}r.call(s.prototype)}else{try{throw Error()}catch(Q){h=Q}r()}}catch(Q){if(Q&&h&&typeof Q.stack=="string"){for(var d=Q.stack.split(`
`),y=h.stack.split(`
`),T=d.length-1,R=y.length-1;1<=T&&0<=R&&d[T]!==y[R];)R--;for(;1<=T&&0<=R;T--,R--)if(d[T]!==y[R]){if(T!==1||R!==1)do if(T--,R--,0>R||d[T]!==y[R]){var b=`
`+d[T].replace(" at new "," at ");return r.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",r.displayName)),b}while(1<=T&&0<=R);break}}}finally{de=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?W(r):""}function Te(r){switch(r.tag){case 5:return W(r.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return r=_e(r.type,!1),r;case 11:return r=_e(r.type.render,!1),r;case 1:return r=_e(r.type,!0),r;default:return""}}function Ae(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case ce:return"Portal";case C:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case z:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case U:return s=r.displayName||null,s!==null?s:Ae(r.type)||"Memo";case G:s=r._payload,r=r._init;try{return Ae(r(s))}catch{}}return null}function ke(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ne(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Be(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function St(r){var s=Be(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,y=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Tr(r){r._valueTracker||(r._valueTracker=St(r))}function Is(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=Be(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function Wr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function bi(r,s){var a=s.checked;return ee({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Cs(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Ne(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Wo(r,s){s=s.checked,s!=null&&J(r,"checked",s,!1)}function Ko(r,s){Wo(r,s);var a=Ne(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?As(r,s.type,a):s.hasOwnProperty("defaultValue")&&As(r,s.type,Ne(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Dl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function As(r,s,a){(s!=="number"||Wr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Sr=Array.isArray;function xr(r,s,a,h){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Ne(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function Yo(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Rs(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if(Sr(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Ne(a)}}function Ps(r,s){var a=Ne(s.value),h=Ne(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Xo(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function yt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?yt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ir,Jo=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Ir=Ir||document.createElement("div"),Ir.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ir.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Kr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oi=["Webkit","ms","Moz","O"];Object.keys(Mi).forEach(function(r){Oi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Mi[s]=Mi[r]})});function Zo(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Mi.hasOwnProperty(r)&&Mi[r]?(""+s).trim():s+"px"}function ea(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=Zo(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,d):r[a]=d}}var ta=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function na(r,s){if(s){if(ta[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function ra(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Li=null;function ks(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ns=null,_n=null,Zn=null;function Ds(r){if(r=Aa(r)){if(typeof Ns!="function")throw Error(n(280));var s=r.stateNode;s&&(s=lu(s),Ns(r.stateNode,r.type,s))}}function er(r){_n?Zn?Zn.push(r):Zn=[r]:_n=r}function ia(){if(_n){var r=_n,s=Zn;if(Zn=_n=null,Ds(r),s)for(r=0;r<s.length;r++)Ds(s[r])}}function Fi(r,s){return r(s)}function sa(){}var Cr=!1;function oa(r,s,a){if(Cr)return r(s,a);Cr=!0;try{return Fi(r,s,a)}finally{Cr=!1,(_n!==null||Zn!==null)&&(sa(),ia())}}function ot(r,s){var a=r.stateNode;if(a===null)return null;var h=lu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var Vs=!1;if(f)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{Vs=!1}function ji(r,s,a,h,d,y,T,R,b){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(a,Q)}catch(se){this.onError(se)}}var zi=!1,bs=null,Mn=!1,aa=null,_h={onError:function(r){zi=!0,bs=r}};function Ms(r,s,a,h,d,y,T,R,b){zi=!1,bs=null,ji.apply(_h,arguments)}function Vl(r,s,a,h,d,y,T,R,b){if(Ms.apply(this,arguments),zi){if(zi){var Q=bs;zi=!1,bs=null}else throw Error(n(198));Mn||(Mn=!0,aa=Q)}}function On(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Ui(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Ln(r){if(On(r)!==r)throw Error(n(188))}function bl(r){var s=r.alternate;if(!s){if(s=On(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,h=s;;){var d=a.return;if(d===null)break;var y=d.alternate;if(y===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===a)return Ln(d),r;if(y===h)return Ln(d),s;y=y.sibling}throw Error(n(188))}if(a.return!==h.return)a=d,h=y;else{for(var T=!1,R=d.child;R;){if(R===a){T=!0,a=d,h=y;break}if(R===h){T=!0,h=d,a=y;break}R=R.sibling}if(!T){for(R=y.child;R;){if(R===a){T=!0,a=y,h=d;break}if(R===h){T=!0,h=y,a=d;break}R=R.sibling}if(!T)throw Error(n(189))}}if(a.alternate!==h)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function la(r){return r=bl(r),r!==null?Os(r):null}function Os(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Os(r);if(s!==null)return s;r=r.sibling}return null}var Ls=e.unstable_scheduleCallback,ua=e.unstable_cancelCallback,Ml=e.unstable_shouldYield,wh=e.unstable_requestPaint,Ge=e.unstable_now,Ol=e.unstable_getCurrentPriorityLevel,$i=e.unstable_ImmediatePriority,Yr=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,ca=e.unstable_LowPriority,Ll=e.unstable_IdlePriority,Bi=null,ln=null;function Fl(r){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Bi,r,void 0,(r.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:zl,ha=Math.log,jl=Math.LN2;function zl(r){return r>>>=0,r===0?32:31-(ha(r)/jl|0)|0}var Fs=64,js=4194304;function Xr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function qi(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,d=r.suspendedLanes,y=r.pingedLanes,T=a&268435455;if(T!==0){var R=T&~d;R!==0?h=Xr(R):(y&=T,y!==0&&(h=Xr(y)))}else T=a&~d,T!==0?h=Xr(T):y!==0&&(h=Xr(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&d)===0&&(d=h&-h,y=s&-s,d>=y||d===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Bt(s),d=1<<a,h|=r[a],s&=~d;return h}function Eh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ar(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,y=r.pendingLanes;0<y;){var T=31-Bt(y),R=1<<T,b=d[T];b===-1?((R&a)===0||(R&h)!==0)&&(d[T]=Eh(R,s)):b<=s&&(r.expiredLanes|=R),y&=~R}}function un(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Hi(){var r=Fs;return Fs<<=1,(Fs&4194240)===0&&(Fs=64),r}function Jr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Zr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Bt(s),r[s]=a}function He(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Bt(a),y=1<<d;s[d]=0,h[d]=-1,r[d]=-1,a&=~y}}function ei(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Bt(a),d=1<<h;d&s|r[h]&s&&(r[h]|=s),a&=~d}}var Ve=0;function ti(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ul,zs,$l,Bl,ql,fa=!1,tr=[],Pt=null,Fn=null,jn=null,ni=new Map,En=new Map,nr=[],Th="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hl(r,s){switch(r){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":ni.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(s.pointerId)}}function Kt(r,s,a,h,d,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:y,targetContainers:[d]},s!==null&&(s=Aa(s),s!==null&&zs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Sh(r,s,a,h,d){switch(s){case"focusin":return Pt=Kt(Pt,r,s,a,h,d),!0;case"dragenter":return Fn=Kt(Fn,r,s,a,h,d),!0;case"mouseover":return jn=Kt(jn,r,s,a,h,d),!0;case"pointerover":var y=d.pointerId;return ni.set(y,Kt(ni.get(y)||null,r,s,a,h,d)),!0;case"gotpointercapture":return y=d.pointerId,En.set(y,Kt(En.get(y)||null,r,s,a,h,d)),!0}return!1}function Ql(r){var s=Yi(r.target);if(s!==null){var a=On(s);if(a!==null){if(s=a.tag,s===13){if(s=Ui(a),s!==null){r.blockedOn=s,ql(r.priority,function(){$l(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Rr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Us(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Li=h,a.target.dispatchEvent(h),Li=null}else return s=Aa(a),s!==null&&zs(s),r.blockedOn=a,!1;s.shift()}return!0}function Qi(r,s,a){Rr(r)&&a.delete(s)}function Gl(){fa=!1,Pt!==null&&Rr(Pt)&&(Pt=null),Fn!==null&&Rr(Fn)&&(Fn=null),jn!==null&&Rr(jn)&&(jn=null),ni.forEach(Qi),En.forEach(Qi)}function zn(r,s){r.blockedOn===s&&(r.blockedOn=null,fa||(fa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gl)))}function Un(r){function s(d){return zn(d,r)}if(0<tr.length){zn(tr[0],r);for(var a=1;a<tr.length;a++){var h=tr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Pt!==null&&zn(Pt,r),Fn!==null&&zn(Fn,r),jn!==null&&zn(jn,r),ni.forEach(s),En.forEach(s),a=0;a<nr.length;a++)h=nr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<nr.length&&(a=nr[0],a.blockedOn===null);)Ql(a),a.blockedOn===null&&nr.shift()}var Pr=Z.ReactCurrentBatchConfig,ri=!0;function Xe(r,s,a,h){var d=Ve,y=Pr.transition;Pr.transition=null;try{Ve=1,da(r,s,a,h)}finally{Ve=d,Pr.transition=y}}function xh(r,s,a,h){var d=Ve,y=Pr.transition;Pr.transition=null;try{Ve=4,da(r,s,a,h)}finally{Ve=d,Pr.transition=y}}function da(r,s,a,h){if(ri){var d=Us(r,s,a,h);if(d===null)Mh(r,s,h,Gi,a),Hl(r,h);else if(Sh(d,r,s,a,h))h.stopPropagation();else if(Hl(r,h),s&4&&-1<Th.indexOf(r)){for(;d!==null;){var y=Aa(d);if(y!==null&&Ul(y),y=Us(r,s,a,h),y===null&&Mh(r,s,h,Gi,a),y===d)break;d=y}d!==null&&h.stopPropagation()}else Mh(r,s,h,null,a)}}var Gi=null;function Us(r,s,a,h){if(Gi=null,r=ks(h),r=Yi(r),r!==null)if(s=On(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Ui(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Gi=r,null}function pa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ol()){case $i:return 1;case Yr:return 4;case wn:case ca:return 16;case Ll:return 536870912;default:return 16}default:return 16}}var cn=null,$s=null,Yt=null;function ma(){if(Yt)return Yt;var r,s=$s,a=s.length,h,d="value"in cn?cn.value:cn.textContent,y=d.length;for(r=0;r<a&&s[r]===d[r];r++);var T=a-r;for(h=1;h<=T&&s[a-h]===d[y-h];h++);return Yt=d.slice(r,1<h?1-h:void 0)}function Bs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function rr(){return!0}function ga(){return!1}function kt(r){function s(a,h,d,y,T){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(a=r[R],this[R]=a?a(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?rr:ga,this.isPropagationStopped=ga,this}return ee(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),s}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=kt($n),ir=ee({},$n,{view:0,detail:0}),Ih=kt(ir),Hs,kr,ii,Wi=ee({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ii&&(ii&&r.type==="mousemove"?(Hs=r.screenX-ii.screenX,kr=r.screenY-ii.screenY):kr=Hs=0,ii=r),Hs)},movementY:function(r){return"movementY"in r?r.movementY:kr}}),Qs=kt(Wi),ya=ee({},Wi,{dataTransfer:0}),Wl=kt(ya),Gs=ee({},ir,{relatedTarget:0}),Ws=kt(Gs),Kl=ee({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=kt(Kl),Yl=ee({},$n,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Xl=kt(Yl),Jl=ee({},$n,{data:0}),va=kt(Jl),Ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Zl[r])?!!s[r]:!1}function sr(){return eu}var u=ee({},ir,{key:function(r){if(r.key){var s=Ks[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Bs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?qt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(r){return r.type==="keypress"?Bs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Bs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=kt(u),_=ee({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=kt(_),$=ee({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),K=kt($),he=ee({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=kt(he),_t=ee({},Wi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=kt(_t),xt=[9,13,27,32],ft=f&&"CompositionEvent"in window,Tn=null;f&&"documentMode"in document&&(Tn=document.documentMode);var hn=f&&"TextEvent"in window&&!Tn,Ki=f&&(!ft||Tn&&8<Tn&&11>=Tn),Ys=" ",wm=!1;function Em(r,s){switch(r){case"keyup":return xt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Xs=!1;function vE(r,s){switch(r){case"compositionend":return Tm(s);case"keypress":return s.which!==32?null:(wm=!0,Ys);case"textInput":return r=s.data,r===Ys&&wm?null:r;default:return null}}function _E(r,s){if(Xs)return r==="compositionend"||!ft&&Em(r,s)?(r=ma(),Yt=$s=cn=null,Xs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ki&&s.locale!=="ko"?null:s.data;default:return null}}var wE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!wE[r.type]:s==="textarea"}function xm(r,s,a,h){er(h),s=su(s,"onChange"),0<s.length&&(a=new qs("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var _a=null,wa=null;function EE(r){$m(r,0)}function tu(r){var s=no(r);if(Is(s))return r}function TE(r,s){if(r==="change")return s}var Im=!1;if(f){var Ch;if(f){var Ah="oninput"in document;if(!Ah){var Cm=document.createElement("div");Cm.setAttribute("oninput","return;"),Ah=typeof Cm.oninput=="function"}Ch=Ah}else Ch=!1;Im=Ch&&(!document.documentMode||9<document.documentMode)}function Am(){_a&&(_a.detachEvent("onpropertychange",Rm),wa=_a=null)}function Rm(r){if(r.propertyName==="value"&&tu(wa)){var s=[];xm(s,wa,r,ks(r)),oa(EE,s)}}function SE(r,s,a){r==="focusin"?(Am(),_a=s,wa=a,_a.attachEvent("onpropertychange",Rm)):r==="focusout"&&Am()}function xE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return tu(wa)}function IE(r,s){if(r==="click")return tu(s)}function CE(r,s){if(r==="input"||r==="change")return tu(s)}function AE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Bn=typeof Object.is=="function"?Object.is:AE;function Ea(r,s){if(Bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!p.call(s,d)||!Bn(r[d],s[d]))return!1}return!0}function Pm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function km(r,s){var a=Pm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pm(a)}}function Nm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Nm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Dm(){for(var r=window,s=Wr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Wr(r.document)}return s}function Rh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function RE(r){var s=Dm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Nm(a.ownerDocument.documentElement,a)){if(h!==null&&Rh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,y=Math.min(h.start,d);h=h.end===void 0?y:Math.min(h.end,d),!r.extend&&y>h&&(d=h,h=y,y=d),d=km(a,y);var T=km(a,h);d&&T&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var PE=f&&"documentMode"in document&&11>=document.documentMode,Js=null,Ph=null,Ta=null,kh=!1;function Vm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kh||Js==null||Js!==Wr(h)||(h=Js,"selectionStart"in h&&Rh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ta&&Ea(Ta,h)||(Ta=h,h=su(Ph,"onSelect"),0<h.length&&(s=new qs("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=Js)))}function nu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Zs={animationend:nu("Animation","AnimationEnd"),animationiteration:nu("Animation","AnimationIteration"),animationstart:nu("Animation","AnimationStart"),transitionend:nu("Transition","TransitionEnd")},Nh={},bm={};f&&(bm=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function ru(r){if(Nh[r])return Nh[r];if(!Zs[r])return r;var s=Zs[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in bm)return Nh[r]=s[a];return r}var Mm=ru("animationend"),Om=ru("animationiteration"),Lm=ru("animationstart"),Fm=ru("transitionend"),jm=new Map,zm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(r,s){jm.set(r,s),l(s,[r])}for(var Dh=0;Dh<zm.length;Dh++){var Vh=zm[Dh],kE=Vh.toLowerCase(),NE=Vh[0].toUpperCase()+Vh.slice(1);si(kE,"on"+NE)}si(Mm,"onAnimationEnd"),si(Om,"onAnimationIteration"),si(Lm,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(Fm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function Um(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Vl(h,s,void 0,r),r.currentTarget=null}function $m(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],d=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var T=h.length-1;0<=T;T--){var R=h[T],b=R.instance,Q=R.currentTarget;if(R=R.listener,b!==y&&d.isPropagationStopped())break e;Um(d,R,Q),y=b}else for(T=0;T<h.length;T++){if(R=h[T],b=R.instance,Q=R.currentTarget,R=R.listener,b!==y&&d.isPropagationStopped())break e;Um(d,R,Q),y=b}}}if(Mn)throw r=aa,Mn=!1,aa=null,r}function Ke(r,s){var a=s[Uh];a===void 0&&(a=s[Uh]=new Set);var h=r+"__bubble";a.has(h)||(Bm(s,r,2,!1),a.add(h))}function bh(r,s,a){var h=0;s&&(h|=4),Bm(a,r,h,s)}var iu="_reactListening"+Math.random().toString(36).slice(2);function xa(r){if(!r[iu]){r[iu]=!0,i.forEach(function(a){a!=="selectionchange"&&(DE.has(a)||bh(a,!1,r),bh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[iu]||(s[iu]=!0,bh("selectionchange",!1,s))}}function Bm(r,s,a,h){switch(pa(s)){case 1:var d=Xe;break;case 4:d=xh;break;default:d=da}a=d.bind(null,s,a,r),d=void 0,!Vs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function Mh(r,s,a,h,d){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var R=h.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(T===4)for(T=h.return;T!==null;){var b=T.tag;if((b===3||b===4)&&(b=T.stateNode.containerInfo,b===d||b.nodeType===8&&b.parentNode===d))return;T=T.return}for(;R!==null;){if(T=Yi(R),T===null)return;if(b=T.tag,b===5||b===6){h=y=T;continue e}R=R.parentNode}}h=h.return}oa(function(){var Q=y,se=ks(a),oe=[];e:{var re=jm.get(r);if(re!==void 0){var pe=qs,ve=r;switch(r){case"keypress":if(Bs(a)===0)break e;case"keydown":case"keyup":pe=g;break;case"focusin":ve="focus",pe=Ws;break;case"focusout":ve="blur",pe=Ws;break;case"beforeblur":case"afterblur":pe=Ws;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Qs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=K;break;case Mm:case Om:case Lm:pe=Nr;break;case Fm:pe=qe;break;case"scroll":pe=Ih;break;case"wheel":pe=Me;break;case"copy":case"cut":case"paste":pe=Xl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=S}var we=(s&4)!==0,at=!we&&r==="scroll",B=we?re!==null?re+"Capture":null:re;we=[];for(var F=Q,q;F!==null;){q=F;var ue=q.stateNode;if(q.tag===5&&ue!==null&&(q=ue,B!==null&&(ue=ot(F,B),ue!=null&&we.push(Ia(F,ue,q)))),at)break;F=F.return}0<we.length&&(re=new pe(re,ve,null,a,se),oe.push({event:re,listeners:we}))}}if((s&7)===0){e:{if(re=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",re&&a!==Li&&(ve=a.relatedTarget||a.fromElement)&&(Yi(ve)||ve[Dr]))break e;if((pe||re)&&(re=se.window===se?se:(re=se.ownerDocument)?re.defaultView||re.parentWindow:window,pe?(ve=a.relatedTarget||a.toElement,pe=Q,ve=ve?Yi(ve):null,ve!==null&&(at=On(ve),ve!==at||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=Q),pe!==ve)){if(we=Qs,ue="onMouseLeave",B="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(we=S,ue="onPointerLeave",B="onPointerEnter",F="pointer"),at=pe==null?re:no(pe),q=ve==null?re:no(ve),re=new we(ue,F+"leave",pe,a,se),re.target=at,re.relatedTarget=q,ue=null,Yi(se)===Q&&(we=new we(B,F+"enter",ve,a,se),we.target=q,we.relatedTarget=at,ue=we),at=ue,pe&&ve)t:{for(we=pe,B=ve,F=0,q=we;q;q=eo(q))F++;for(q=0,ue=B;ue;ue=eo(ue))q++;for(;0<F-q;)we=eo(we),F--;for(;0<q-F;)B=eo(B),q--;for(;F--;){if(we===B||B!==null&&we===B.alternate)break t;we=eo(we),B=eo(B)}we=null}else we=null;pe!==null&&qm(oe,re,pe,we,!1),ve!==null&&at!==null&&qm(oe,at,ve,we,!0)}}e:{if(re=Q?no(Q):window,pe=re.nodeName&&re.nodeName.toLowerCase(),pe==="select"||pe==="input"&&re.type==="file")var Ee=TE;else if(Sm(re))if(Im)Ee=CE;else{Ee=xE;var Se=SE}else(pe=re.nodeName)&&pe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ee=IE);if(Ee&&(Ee=Ee(r,Q))){xm(oe,Ee,a,se);break e}Se&&Se(r,re,Q),r==="focusout"&&(Se=re._wrapperState)&&Se.controlled&&re.type==="number"&&As(re,"number",re.value)}switch(Se=Q?no(Q):window,r){case"focusin":(Sm(Se)||Se.contentEditable==="true")&&(Js=Se,Ph=Q,Ta=null);break;case"focusout":Ta=Ph=Js=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,Vm(oe,a,se);break;case"selectionchange":if(PE)break;case"keydown":case"keyup":Vm(oe,a,se)}var xe;if(ft)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Xs?Em(r,a)&&(Ce="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(Ki&&a.locale!=="ko"&&(Xs||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Xs&&(xe=ma()):(cn=se,$s="value"in cn?cn.value:cn.textContent,Xs=!0)),Se=su(Q,Ce),0<Se.length&&(Ce=new va(Ce,r,null,a,se),oe.push({event:Ce,listeners:Se}),xe?Ce.data=xe:(xe=Tm(a),xe!==null&&(Ce.data=xe)))),(xe=hn?vE(r,a):_E(r,a))&&(Q=su(Q,"onBeforeInput"),0<Q.length&&(se=new va("onBeforeInput","beforeinput",null,a,se),oe.push({event:se,listeners:Q}),se.data=xe))}$m(oe,s)})}function Ia(r,s,a){return{instance:r,listener:s,currentTarget:a}}function su(r,s){for(var a=s+"Capture",h=[];r!==null;){var d=r,y=d.stateNode;d.tag===5&&y!==null&&(d=y,y=ot(r,a),y!=null&&h.unshift(Ia(r,y,d)),y=ot(r,s),y!=null&&h.push(Ia(r,y,d))),r=r.return}return h}function eo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function qm(r,s,a,h,d){for(var y=s._reactName,T=[];a!==null&&a!==h;){var R=a,b=R.alternate,Q=R.stateNode;if(b!==null&&b===h)break;R.tag===5&&Q!==null&&(R=Q,d?(b=ot(a,y),b!=null&&T.unshift(Ia(a,b,R))):d||(b=ot(a,y),b!=null&&T.push(Ia(a,b,R)))),a=a.return}T.length!==0&&r.push({event:s,listeners:T})}var VE=/\r\n?/g,bE=/\u0000|\uFFFD/g;function Hm(r){return(typeof r=="string"?r:""+r).replace(VE,`
`).replace(bE,"")}function ou(r,s,a){if(s=Hm(s),Hm(r)!==s&&a)throw Error(n(425))}function au(){}var Oh=null,Lh=null;function Fh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jh=typeof setTimeout=="function"?setTimeout:void 0,ME=typeof clearTimeout=="function"?clearTimeout:void 0,Qm=typeof Promise=="function"?Promise:void 0,OE=typeof queueMicrotask=="function"?queueMicrotask:typeof Qm<"u"?function(r){return Qm.resolve(null).then(r).catch(LE)}:jh;function LE(r){setTimeout(function(){throw r})}function zh(r,s){var a=s,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){r.removeChild(d),Un(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);Un(s)}function oi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Gm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var to=Math.random().toString(36).slice(2),or="__reactFiber$"+to,Ca="__reactProps$"+to,Dr="__reactContainer$"+to,Uh="__reactEvents$"+to,FE="__reactListeners$"+to,jE="__reactHandles$"+to;function Yi(r){var s=r[or];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Dr]||a[or]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Gm(r);r!==null;){if(a=r[or])return a;r=Gm(r)}return s}r=a,a=r.parentNode}return null}function Aa(r){return r=r[or]||r[Dr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function no(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function lu(r){return r[Ca]||null}var $h=[],ro=-1;function ai(r){return{current:r}}function Ye(r){0>ro||(r.current=$h[ro],$h[ro]=null,ro--)}function We(r,s){ro++,$h[ro]=r.current,r.current=s}var li={},Mt=ai(li),Xt=ai(!1),Xi=li;function io(r,s){var a=r.type.contextTypes;if(!a)return li;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},y;for(y in a)d[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function Jt(r){return r=r.childContextTypes,r!=null}function uu(){Ye(Xt),Ye(Mt)}function Wm(r,s,a){if(Mt.current!==li)throw Error(n(168));We(Mt,s),We(Xt,a)}function Km(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(n(108,ke(r)||"Unknown",d));return ee({},a,h)}function cu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||li,Xi=Mt.current,We(Mt,r),We(Xt,Xt.current),!0}function Ym(r,s,a){var h=r.stateNode;if(!h)throw Error(n(169));a?(r=Km(r,s,Xi),h.__reactInternalMemoizedMergedChildContext=r,Ye(Xt),Ye(Mt),We(Mt,r)):Ye(Xt),We(Xt,a)}var Vr=null,hu=!1,Bh=!1;function Xm(r){Vr===null?Vr=[r]:Vr.push(r)}function zE(r){hu=!0,Xm(r)}function ui(){if(!Bh&&Vr!==null){Bh=!0;var r=0,s=Ve;try{var a=Vr;for(Ve=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Vr=null,hu=!1}catch(d){throw Vr!==null&&(Vr=Vr.slice(r+1)),Ls($i,ui),d}finally{Ve=s,Bh=!1}}return null}var so=[],oo=0,fu=null,du=0,Sn=[],xn=0,Ji=null,br=1,Mr="";function Zi(r,s){so[oo++]=du,so[oo++]=fu,fu=r,du=s}function Jm(r,s,a){Sn[xn++]=br,Sn[xn++]=Mr,Sn[xn++]=Ji,Ji=r;var h=br;r=Mr;var d=32-Bt(h)-1;h&=~(1<<d),a+=1;var y=32-Bt(s)+d;if(30<y){var T=d-d%5;y=(h&(1<<T)-1).toString(32),h>>=T,d-=T,br=1<<32-Bt(s)+d|a<<d|h,Mr=y+r}else br=1<<y|a<<d|h,Mr=r}function qh(r){r.return!==null&&(Zi(r,1),Jm(r,1,0))}function Hh(r){for(;r===fu;)fu=so[--oo],so[oo]=null,du=so[--oo],so[oo]=null;for(;r===Ji;)Ji=Sn[--xn],Sn[xn]=null,Mr=Sn[--xn],Sn[xn]=null,br=Sn[--xn],Sn[xn]=null}var fn=null,dn=null,Je=!1,qn=null;function Zm(r,s){var a=Rn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function eg(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,fn=r,dn=oi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,fn=r,dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ji!==null?{id:br,overflow:Mr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Rn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,fn=r,dn=null,!0):!1;default:return!1}}function Qh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Gh(r){if(Je){var s=dn;if(s){var a=s;if(!eg(r,s)){if(Qh(r))throw Error(n(418));s=oi(a.nextSibling);var h=fn;s&&eg(r,s)?Zm(h,a):(r.flags=r.flags&-4097|2,Je=!1,fn=r)}}else{if(Qh(r))throw Error(n(418));r.flags=r.flags&-4097|2,Je=!1,fn=r}}}function tg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;fn=r}function pu(r){if(r!==fn)return!1;if(!Je)return tg(r),Je=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Fh(r.type,r.memoizedProps)),s&&(s=dn)){if(Qh(r))throw ng(),Error(n(418));for(;s;)Zm(r,s),s=oi(s.nextSibling)}if(tg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){dn=oi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}dn=null}}else dn=fn?oi(r.stateNode.nextSibling):null;return!0}function ng(){for(var r=dn;r;)r=oi(r.nextSibling)}function ao(){dn=fn=null,Je=!1}function Wh(r){qn===null?qn=[r]:qn.push(r)}var UE=Z.ReactCurrentBatchConfig;function Ra(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var h=a.stateNode}if(!h)throw Error(n(147,r));var d=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(T){var R=d.refs;T===null?delete R[y]:R[y]=T},s._stringRef=y,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function mu(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function rg(r){var s=r._init;return s(r._payload)}function ig(r){function s(B,F){if(r){var q=B.deletions;q===null?(B.deletions=[F],B.flags|=16):q.push(F)}}function a(B,F){if(!r)return null;for(;F!==null;)s(B,F),F=F.sibling;return null}function h(B,F){for(B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function d(B,F){return B=yi(B,F),B.index=0,B.sibling=null,B}function y(B,F,q){return B.index=q,r?(q=B.alternate,q!==null?(q=q.index,q<F?(B.flags|=2,F):q):(B.flags|=2,F)):(B.flags|=1048576,F)}function T(B){return r&&B.alternate===null&&(B.flags|=2),B}function R(B,F,q,ue){return F===null||F.tag!==6?(F=zf(q,B.mode,ue),F.return=B,F):(F=d(F,q),F.return=B,F)}function b(B,F,q,ue){var Ee=q.type;return Ee===D?se(B,F,q.props.children,ue,q.key):F!==null&&(F.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===G&&rg(Ee)===F.type)?(ue=d(F,q.props),ue.ref=Ra(B,F,q),ue.return=B,ue):(ue=ju(q.type,q.key,q.props,null,B.mode,ue),ue.ref=Ra(B,F,q),ue.return=B,ue)}function Q(B,F,q,ue){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=Uf(q,B.mode,ue),F.return=B,F):(F=d(F,q.children||[]),F.return=B,F)}function se(B,F,q,ue,Ee){return F===null||F.tag!==7?(F=as(q,B.mode,ue,Ee),F.return=B,F):(F=d(F,q),F.return=B,F)}function oe(B,F,q){if(typeof F=="string"&&F!==""||typeof F=="number")return F=zf(""+F,B.mode,q),F.return=B,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case le:return q=ju(F.type,F.key,F.props,null,B.mode,q),q.ref=Ra(B,null,F),q.return=B,q;case ce:return F=Uf(F,B.mode,q),F.return=B,F;case G:var ue=F._init;return oe(B,ue(F._payload),q)}if(Sr(F)||ne(F))return F=as(F,B.mode,q,null),F.return=B,F;mu(B,F)}return null}function re(B,F,q,ue){var Ee=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Ee!==null?null:R(B,F,""+q,ue);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case le:return q.key===Ee?b(B,F,q,ue):null;case ce:return q.key===Ee?Q(B,F,q,ue):null;case G:return Ee=q._init,re(B,F,Ee(q._payload),ue)}if(Sr(q)||ne(q))return Ee!==null?null:se(B,F,q,ue,null);mu(B,q)}return null}function pe(B,F,q,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return B=B.get(q)||null,R(F,B,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case le:return B=B.get(ue.key===null?q:ue.key)||null,b(F,B,ue,Ee);case ce:return B=B.get(ue.key===null?q:ue.key)||null,Q(F,B,ue,Ee);case G:var Se=ue._init;return pe(B,F,q,Se(ue._payload),Ee)}if(Sr(ue)||ne(ue))return B=B.get(q)||null,se(F,B,ue,Ee,null);mu(F,ue)}return null}function ve(B,F,q,ue){for(var Ee=null,Se=null,xe=F,Ce=F=0,At=null;xe!==null&&Ce<q.length;Ce++){xe.index>Ce?(At=xe,xe=null):At=xe.sibling;var $e=re(B,xe,q[Ce],ue);if($e===null){xe===null&&(xe=At);break}r&&xe&&$e.alternate===null&&s(B,xe),F=y($e,F,Ce),Se===null?Ee=$e:Se.sibling=$e,Se=$e,xe=At}if(Ce===q.length)return a(B,xe),Je&&Zi(B,Ce),Ee;if(xe===null){for(;Ce<q.length;Ce++)xe=oe(B,q[Ce],ue),xe!==null&&(F=y(xe,F,Ce),Se===null?Ee=xe:Se.sibling=xe,Se=xe);return Je&&Zi(B,Ce),Ee}for(xe=h(B,xe);Ce<q.length;Ce++)At=pe(xe,B,Ce,q[Ce],ue),At!==null&&(r&&At.alternate!==null&&xe.delete(At.key===null?Ce:At.key),F=y(At,F,Ce),Se===null?Ee=At:Se.sibling=At,Se=At);return r&&xe.forEach(function(vi){return s(B,vi)}),Je&&Zi(B,Ce),Ee}function we(B,F,q,ue){var Ee=ne(q);if(typeof Ee!="function")throw Error(n(150));if(q=Ee.call(q),q==null)throw Error(n(151));for(var Se=Ee=null,xe=F,Ce=F=0,At=null,$e=q.next();xe!==null&&!$e.done;Ce++,$e=q.next()){xe.index>Ce?(At=xe,xe=null):At=xe.sibling;var vi=re(B,xe,$e.value,ue);if(vi===null){xe===null&&(xe=At);break}r&&xe&&vi.alternate===null&&s(B,xe),F=y(vi,F,Ce),Se===null?Ee=vi:Se.sibling=vi,Se=vi,xe=At}if($e.done)return a(B,xe),Je&&Zi(B,Ce),Ee;if(xe===null){for(;!$e.done;Ce++,$e=q.next())$e=oe(B,$e.value,ue),$e!==null&&(F=y($e,F,Ce),Se===null?Ee=$e:Se.sibling=$e,Se=$e);return Je&&Zi(B,Ce),Ee}for(xe=h(B,xe);!$e.done;Ce++,$e=q.next())$e=pe(xe,B,Ce,$e.value,ue),$e!==null&&(r&&$e.alternate!==null&&xe.delete($e.key===null?Ce:$e.key),F=y($e,F,Ce),Se===null?Ee=$e:Se.sibling=$e,Se=$e);return r&&xe.forEach(function(wT){return s(B,wT)}),Je&&Zi(B,Ce),Ee}function at(B,F,q,ue){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case le:e:{for(var Ee=q.key,Se=F;Se!==null;){if(Se.key===Ee){if(Ee=q.type,Ee===D){if(Se.tag===7){a(B,Se.sibling),F=d(Se,q.props.children),F.return=B,B=F;break e}}else if(Se.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===G&&rg(Ee)===Se.type){a(B,Se.sibling),F=d(Se,q.props),F.ref=Ra(B,Se,q),F.return=B,B=F;break e}a(B,Se);break}else s(B,Se);Se=Se.sibling}q.type===D?(F=as(q.props.children,B.mode,ue,q.key),F.return=B,B=F):(ue=ju(q.type,q.key,q.props,null,B.mode,ue),ue.ref=Ra(B,F,q),ue.return=B,B=ue)}return T(B);case ce:e:{for(Se=q.key;F!==null;){if(F.key===Se)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){a(B,F.sibling),F=d(F,q.children||[]),F.return=B,B=F;break e}else{a(B,F);break}else s(B,F);F=F.sibling}F=Uf(q,B.mode,ue),F.return=B,B=F}return T(B);case G:return Se=q._init,at(B,F,Se(q._payload),ue)}if(Sr(q))return ve(B,F,q,ue);if(ne(q))return we(B,F,q,ue);mu(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,F!==null&&F.tag===6?(a(B,F.sibling),F=d(F,q),F.return=B,B=F):(a(B,F),F=zf(q,B.mode,ue),F.return=B,B=F),T(B)):a(B,F)}return at}var lo=ig(!0),sg=ig(!1),gu=ai(null),yu=null,uo=null,Kh=null;function Yh(){Kh=uo=yu=null}function Xh(r){var s=gu.current;Ye(gu),r._currentValue=s}function Jh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function co(r,s){yu=r,Kh=uo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Zt=!0),r.firstContext=null)}function In(r){var s=r._currentValue;if(Kh!==r)if(r={context:r,memoizedValue:s,next:null},uo===null){if(yu===null)throw Error(n(308));uo=r,yu.dependencies={lanes:0,firstContext:r}}else uo=uo.next=r;return s}var es=null;function Zh(r){es===null?es=[r]:es.push(r)}function og(r,s,a,h){var d=s.interleaved;return d===null?(a.next=a,Zh(s)):(a.next=d.next,d.next=a),s.interleaved=a,Or(r,h)}function Or(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ci=!1;function ef(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ag(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Lr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function hi(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(je&2)!==0){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,Or(r,a)}return d=h.interleaved,d===null?(s.next=s,Zh(h)):(s.next=d.next,d.next=s),h.interleaved=s,Or(r,a)}function vu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,ei(r,a)}}function lg(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var T={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?d=y=T:y=y.next=T,a=a.next}while(a!==null);y===null?d=y=s:y=y.next=s}else d=y=s;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function _u(r,s,a,h){var d=r.updateQueue;ci=!1;var y=d.firstBaseUpdate,T=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var b=R,Q=b.next;b.next=null,T===null?y=Q:T.next=Q,T=b;var se=r.alternate;se!==null&&(se=se.updateQueue,R=se.lastBaseUpdate,R!==T&&(R===null?se.firstBaseUpdate=Q:R.next=Q,se.lastBaseUpdate=b))}if(y!==null){var oe=d.baseState;T=0,se=Q=b=null,R=y;do{var re=R.lane,pe=R.eventTime;if((h&re)===re){se!==null&&(se=se.next={eventTime:pe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ve=r,we=R;switch(re=s,pe=a,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){oe=ve.call(pe,oe,re);break e}oe=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,re=typeof ve=="function"?ve.call(pe,oe,re):ve,re==null)break e;oe=ee({},oe,re);break e;case 2:ci=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,re=d.effects,re===null?d.effects=[R]:re.push(R))}else pe={eventTime:pe,lane:re,tag:R.tag,payload:R.payload,callback:R.callback,next:null},se===null?(Q=se=pe,b=oe):se=se.next=pe,T|=re;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;re=R,R=re.next,re.next=null,d.lastBaseUpdate=re,d.shared.pending=null}}while(!0);if(se===null&&(b=oe),d.baseState=b,d.firstBaseUpdate=Q,d.lastBaseUpdate=se,s=d.shared.interleaved,s!==null){d=s;do T|=d.lane,d=d.next;while(d!==s)}else y===null&&(d.shared.lanes=0);rs|=T,r.lanes=T,r.memoizedState=oe}}function ug(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(n(191,d));d.call(h)}}}var Pa={},ar=ai(Pa),ka=ai(Pa),Na=ai(Pa);function ts(r){if(r===Pa)throw Error(n(174));return r}function tf(r,s){switch(We(Na,s),We(ka,r),We(ar,Pa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:vt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=vt(s,r)}Ye(ar),We(ar,s)}function ho(){Ye(ar),Ye(ka),Ye(Na)}function cg(r){ts(Na.current);var s=ts(ar.current),a=vt(s,r.type);s!==a&&(We(ka,r),We(ar,a))}function nf(r){ka.current===r&&(Ye(ar),Ye(ka))}var nt=ai(0);function wu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var rf=[];function sf(){for(var r=0;r<rf.length;r++)rf[r]._workInProgressVersionPrimary=null;rf.length=0}var Eu=Z.ReactCurrentDispatcher,of=Z.ReactCurrentBatchConfig,ns=0,rt=null,wt=null,It=null,Tu=!1,Da=!1,Va=0,$E=0;function Ot(){throw Error(n(321))}function af(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Bn(r[a],s[a]))return!1;return!0}function lf(r,s,a,h,d,y){if(ns=y,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Eu.current=r===null||r.memoizedState===null?QE:GE,r=a(h,d),Da){y=0;do{if(Da=!1,Va=0,25<=y)throw Error(n(301));y+=1,It=wt=null,s.updateQueue=null,Eu.current=WE,r=a(h,d)}while(Da)}if(Eu.current=Iu,s=wt!==null&&wt.next!==null,ns=0,It=wt=rt=null,Tu=!1,s)throw Error(n(300));return r}function uf(){var r=Va!==0;return Va=0,r}function lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?rt.memoizedState=It=r:It=It.next=r,It}function Cn(){if(wt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=It===null?rt.memoizedState:It.next;if(s!==null)It=s,wt=r;else{if(r===null)throw Error(n(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},It===null?rt.memoizedState=It=r:It=It.next=r}return It}function ba(r,s){return typeof s=="function"?s(r):s}function cf(r){var s=Cn(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var h=wt,d=h.baseQueue,y=a.pending;if(y!==null){if(d!==null){var T=d.next;d.next=y.next,y.next=T}h.baseQueue=d=y,a.pending=null}if(d!==null){y=d.next,h=h.baseState;var R=T=null,b=null,Q=y;do{var se=Q.lane;if((ns&se)===se)b!==null&&(b=b.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),h=Q.hasEagerState?Q.eagerState:r(h,Q.action);else{var oe={lane:se,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};b===null?(R=b=oe,T=h):b=b.next=oe,rt.lanes|=se,rs|=se}Q=Q.next}while(Q!==null&&Q!==y);b===null?T=h:b.next=R,Bn(h,s.memoizedState)||(Zt=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=b,a.lastRenderedState=h}if(r=a.interleaved,r!==null){d=r;do y=d.lane,rt.lanes|=y,rs|=y,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function hf(r){var s=Cn(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var h=a.dispatch,d=a.pending,y=s.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do y=r(y,T.action),T=T.next;while(T!==d);Bn(y,s.memoizedState)||(Zt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,h]}function hg(){}function fg(r,s){var a=rt,h=Cn(),d=s(),y=!Bn(h.memoizedState,d);if(y&&(h.memoizedState=d,Zt=!0),h=h.queue,ff(mg.bind(null,a,h,r),[r]),h.getSnapshot!==s||y||It!==null&&It.memoizedState.tag&1){if(a.flags|=2048,Ma(9,pg.bind(null,a,h,d,s),void 0,null),Ct===null)throw Error(n(349));(ns&30)!==0||dg(a,s,d)}return d}function dg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function pg(r,s,a,h){s.value=a,s.getSnapshot=h,gg(s)&&yg(r)}function mg(r,s,a){return a(function(){gg(s)&&yg(r)})}function gg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Bn(r,a)}catch{return!0}}function yg(r){var s=Or(r,1);s!==null&&Wn(s,r,1,-1)}function vg(r){var s=lr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:r},s.queue=r,r=r.dispatch=HE.bind(null,rt,r),[s.memoizedState,r]}function Ma(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function _g(){return Cn().memoizedState}function Su(r,s,a,h){var d=lr();rt.flags|=r,d.memoizedState=Ma(1|s,a,void 0,h===void 0?null:h)}function xu(r,s,a,h){var d=Cn();h=h===void 0?null:h;var y=void 0;if(wt!==null){var T=wt.memoizedState;if(y=T.destroy,h!==null&&af(h,T.deps)){d.memoizedState=Ma(s,a,y,h);return}}rt.flags|=r,d.memoizedState=Ma(1|s,a,y,h)}function wg(r,s){return Su(8390656,8,r,s)}function ff(r,s){return xu(2048,8,r,s)}function Eg(r,s){return xu(4,2,r,s)}function Tg(r,s){return xu(4,4,r,s)}function Sg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function xg(r,s,a){return a=a!=null?a.concat([r]):null,xu(4,4,Sg.bind(null,s,r),a)}function df(){}function Ig(r,s){var a=Cn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&af(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function Cg(r,s){var a=Cn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&af(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Ag(r,s,a){return(ns&21)===0?(r.baseState&&(r.baseState=!1,Zt=!0),r.memoizedState=a):(Bn(a,s)||(a=Hi(),rt.lanes|=a,rs|=a,r.baseState=!0),s)}function BE(r,s){var a=Ve;Ve=a!==0&&4>a?a:4,r(!0);var h=of.transition;of.transition={};try{r(!1),s()}finally{Ve=a,of.transition=h}}function Rg(){return Cn().memoizedState}function qE(r,s,a){var h=mi(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Pg(r))kg(s,a);else if(a=og(r,s,a,h),a!==null){var d=Qt();Wn(a,r,h,d),Ng(a,s,h)}}function HE(r,s,a){var h=mi(r),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pg(r))kg(s,d);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,R=y(T,a);if(d.hasEagerState=!0,d.eagerState=R,Bn(R,T)){var b=s.interleaved;b===null?(d.next=d,Zh(s)):(d.next=b.next,b.next=d),s.interleaved=d;return}}catch{}finally{}a=og(r,s,d,h),a!==null&&(d=Qt(),Wn(a,r,h,d),Ng(a,s,h))}}function Pg(r){var s=r.alternate;return r===rt||s!==null&&s===rt}function kg(r,s){Da=Tu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Ng(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,ei(r,a)}}var Iu={readContext:In,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},QE={readContext:In,useCallback:function(r,s){return lr().memoizedState=[r,s===void 0?null:s],r},useContext:In,useEffect:wg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Su(4194308,4,Sg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Su(4194308,4,r,s)},useInsertionEffect:function(r,s){return Su(4,2,r,s)},useMemo:function(r,s){var a=lr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=lr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=qE.bind(null,rt,r),[h.memoizedState,r]},useRef:function(r){var s=lr();return r={current:r},s.memoizedState=r},useState:vg,useDebugValue:df,useDeferredValue:function(r){return lr().memoizedState=r},useTransition:function(){var r=vg(!1),s=r[0];return r=BE.bind(null,r[1]),lr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=rt,d=lr();if(Je){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),Ct===null)throw Error(n(349));(ns&30)!==0||dg(h,s,a)}d.memoizedState=a;var y={value:a,getSnapshot:s};return d.queue=y,wg(mg.bind(null,h,y,r),[r]),h.flags|=2048,Ma(9,pg.bind(null,h,y,a,s),void 0,null),a},useId:function(){var r=lr(),s=Ct.identifierPrefix;if(Je){var a=Mr,h=br;a=(h&~(1<<32-Bt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Va++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=$E++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},GE={readContext:In,useCallback:Ig,useContext:In,useEffect:ff,useImperativeHandle:xg,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:Cg,useReducer:cf,useRef:_g,useState:function(){return cf(ba)},useDebugValue:df,useDeferredValue:function(r){var s=Cn();return Ag(s,wt.memoizedState,r)},useTransition:function(){var r=cf(ba)[0],s=Cn().memoizedState;return[r,s]},useMutableSource:hg,useSyncExternalStore:fg,useId:Rg,unstable_isNewReconciler:!1},WE={readContext:In,useCallback:Ig,useContext:In,useEffect:ff,useImperativeHandle:xg,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:Cg,useReducer:hf,useRef:_g,useState:function(){return hf(ba)},useDebugValue:df,useDeferredValue:function(r){var s=Cn();return wt===null?s.memoizedState=r:Ag(s,wt.memoizedState,r)},useTransition:function(){var r=hf(ba)[0],s=Cn().memoizedState;return[r,s]},useMutableSource:hg,useSyncExternalStore:fg,useId:Rg,unstable_isNewReconciler:!1};function Hn(r,s){if(r&&r.defaultProps){s=ee({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function pf(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:ee({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Cu={isMounted:function(r){return(r=r._reactInternals)?On(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Qt(),d=mi(r),y=Lr(h,d);y.payload=s,a!=null&&(y.callback=a),s=hi(r,y,d),s!==null&&(Wn(s,r,d,h),vu(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Qt(),d=mi(r),y=Lr(h,d);y.tag=1,y.payload=s,a!=null&&(y.callback=a),s=hi(r,y,d),s!==null&&(Wn(s,r,d,h),vu(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Qt(),h=mi(r),d=Lr(a,h);d.tag=2,s!=null&&(d.callback=s),s=hi(r,d,h),s!==null&&(Wn(s,r,h,a),vu(s,r,h))}};function Dg(r,s,a,h,d,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,T):s.prototype&&s.prototype.isPureReactComponent?!Ea(a,h)||!Ea(d,y):!0}function Vg(r,s,a){var h=!1,d=li,y=s.contextType;return typeof y=="object"&&y!==null?y=In(y):(d=Jt(s)?Xi:Mt.current,h=s.contextTypes,y=(h=h!=null)?io(r,d):li),s=new s(a,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Cu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=y),s}function bg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Cu.enqueueReplaceState(s,s.state,null)}function mf(r,s,a,h){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},ef(r);var y=s.contextType;typeof y=="object"&&y!==null?d.context=In(y):(y=Jt(s)?Xi:Mt.current,d.context=io(r,y)),d.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(pf(r,s,y,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Cu.enqueueReplaceState(d,d.state,null),_u(r,a,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function fo(r,s){try{var a="",h=s;do a+=Te(h),h=h.return;while(h);var d=a}catch(y){d=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:d,digest:null}}function gf(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function yf(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var KE=typeof WeakMap=="function"?WeakMap:Map;function Mg(r,s,a){a=Lr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Vu||(Vu=!0,Df=h),yf(r,s)},a}function Og(r,s,a){a=Lr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;a.payload=function(){return h(d)},a.callback=function(){yf(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){yf(r,s),typeof h!="function"&&(di===null?di=new Set([this]):di.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),a}function Lg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new KE;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(a)||(d.add(a),r=uT.bind(null,r,s,a),s.then(r,r))}function Fg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function jg(r,s,a,h,d){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Lr(-1,1),s.tag=2,hi(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var YE=Z.ReactCurrentOwner,Zt=!1;function Ht(r,s,a,h){s.child=r===null?sg(s,null,a,h):lo(s,r.child,a,h)}function zg(r,s,a,h,d){a=a.render;var y=s.ref;return co(s,d),h=lf(r,s,a,h,y,d),a=uf(),r!==null&&!Zt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Fr(r,s,d)):(Je&&a&&qh(s),s.flags|=1,Ht(r,s,h,d),s.child)}function Ug(r,s,a,h,d){if(r===null){var y=a.type;return typeof y=="function"&&!jf(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=y,$g(r,s,y,h,d)):(r=ju(a.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&d)===0){var T=y.memoizedProps;if(a=a.compare,a=a!==null?a:Ea,a(T,h)&&r.ref===s.ref)return Fr(r,s,d)}return s.flags|=1,r=yi(y,h),r.ref=s.ref,r.return=s,s.child=r}function $g(r,s,a,h,d){if(r!==null){var y=r.memoizedProps;if(Ea(y,h)&&r.ref===s.ref)if(Zt=!1,s.pendingProps=h=y,(r.lanes&d)!==0)(r.flags&131072)!==0&&(Zt=!0);else return s.lanes=r.lanes,Fr(r,s,d)}return vf(r,s,a,h,d)}function Bg(r,s,a){var h=s.pendingProps,d=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(mo,pn),pn|=a;else{if((a&1073741824)===0)return r=y!==null?y.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,We(mo,pn),pn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:a,We(mo,pn),pn|=h}else y!==null?(h=y.baseLanes|a,s.memoizedState=null):h=a,We(mo,pn),pn|=h;return Ht(r,s,d,a),s.child}function qg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function vf(r,s,a,h,d){var y=Jt(a)?Xi:Mt.current;return y=io(s,y),co(s,d),a=lf(r,s,a,h,y,d),h=uf(),r!==null&&!Zt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Fr(r,s,d)):(Je&&h&&qh(s),s.flags|=1,Ht(r,s,a,d),s.child)}function Hg(r,s,a,h,d){if(Jt(a)){var y=!0;cu(s)}else y=!1;if(co(s,d),s.stateNode===null)Ru(r,s),Vg(s,a,h),mf(s,a,h,d),h=!0;else if(r===null){var T=s.stateNode,R=s.memoizedProps;T.props=R;var b=T.context,Q=a.contextType;typeof Q=="object"&&Q!==null?Q=In(Q):(Q=Jt(a)?Xi:Mt.current,Q=io(s,Q));var se=a.getDerivedStateFromProps,oe=typeof se=="function"||typeof T.getSnapshotBeforeUpdate=="function";oe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==h||b!==Q)&&bg(s,T,h,Q),ci=!1;var re=s.memoizedState;T.state=re,_u(s,h,T,d),b=s.memoizedState,R!==h||re!==b||Xt.current||ci?(typeof se=="function"&&(pf(s,a,se,h),b=s.memoizedState),(R=ci||Dg(s,a,R,h,re,b,Q))?(oe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=b),T.props=h,T.state=b,T.context=Q,h=R):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,ag(r,s),R=s.memoizedProps,Q=s.type===s.elementType?R:Hn(s.type,R),T.props=Q,oe=s.pendingProps,re=T.context,b=a.contextType,typeof b=="object"&&b!==null?b=In(b):(b=Jt(a)?Xi:Mt.current,b=io(s,b));var pe=a.getDerivedStateFromProps;(se=typeof pe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==oe||re!==b)&&bg(s,T,h,b),ci=!1,re=s.memoizedState,T.state=re,_u(s,h,T,d);var ve=s.memoizedState;R!==oe||re!==ve||Xt.current||ci?(typeof pe=="function"&&(pf(s,a,pe,h),ve=s.memoizedState),(Q=ci||Dg(s,a,Q,h,re,ve,b)||!1)?(se||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,ve,b),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,ve,b)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ve),T.props=h,T.state=ve,T.context=b,h=Q):(typeof T.componentDidUpdate!="function"||R===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),h=!1)}return _f(r,s,a,h,y,d)}function _f(r,s,a,h,d,y){qg(r,s);var T=(s.flags&128)!==0;if(!h&&!T)return d&&Ym(s,a,!1),Fr(r,s,y);h=s.stateNode,YE.current=s;var R=T&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&T?(s.child=lo(s,r.child,null,y),s.child=lo(s,null,R,y)):Ht(r,s,R,y),s.memoizedState=h.state,d&&Ym(s,a,!0),s.child}function Qg(r){var s=r.stateNode;s.pendingContext?Wm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Wm(r,s.context,!1),tf(r,s.containerInfo)}function Gg(r,s,a,h,d){return ao(),Wh(d),s.flags|=256,Ht(r,s,a,h),s.child}var wf={dehydrated:null,treeContext:null,retryLane:0};function Ef(r){return{baseLanes:r,cachePool:null,transitions:null}}function Wg(r,s,a){var h=s.pendingProps,d=nt.current,y=!1,T=(s.flags&128)!==0,R;if((R=T)||(R=r!==null&&r.memoizedState===null?!1:(d&2)!==0),R?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),We(nt,d&1),r===null)return Gh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,r=h.fallback,y?(h=s.mode,y=s.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=zu(T,h,0,null),r=as(r,h,a,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Ef(a),s.memoizedState=wf,r):Tf(s,T));if(d=r.memoizedState,d!==null&&(R=d.dehydrated,R!==null))return XE(r,s,T,h,R,d,a);if(y){y=h.fallback,T=s.mode,d=r.child,R=d.sibling;var b={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=b,s.deletions=null):(h=yi(d,b),h.subtreeFlags=d.subtreeFlags&14680064),R!==null?y=yi(R,y):(y=as(y,T,a,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,T=r.child.memoizedState,T=T===null?Ef(a):{baseLanes:T.baseLanes|a,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=r.childLanes&~a,s.memoizedState=wf,h}return y=r.child,r=y.sibling,h=yi(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Tf(r,s){return s=zu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Au(r,s,a,h){return h!==null&&Wh(h),lo(s,r.child,null,a),r=Tf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function XE(r,s,a,h,d,y,T){if(a)return s.flags&256?(s.flags&=-257,h=gf(Error(n(422))),Au(r,s,T,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,d=s.mode,h=zu({mode:"visible",children:h.children},d,0,null),y=as(y,d,T,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&lo(s,r.child,null,T),s.child.memoizedState=Ef(T),s.memoizedState=wf,y);if((s.mode&1)===0)return Au(r,s,T,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var R=h.dgst;return h=R,y=Error(n(419)),h=gf(y,h,void 0),Au(r,s,T,h)}if(R=(T&r.childLanes)!==0,Zt||R){if(h=Ct,h!==null){switch(T&-T){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(h.suspendedLanes|T))!==0?0:d,d!==0&&d!==y.retryLane&&(y.retryLane=d,Or(r,d),Wn(h,r,d,-1))}return Ff(),h=gf(Error(n(421))),Au(r,s,T,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=cT.bind(null,r),d._reactRetry=s,null):(r=y.treeContext,dn=oi(d.nextSibling),fn=s,Je=!0,qn=null,r!==null&&(Sn[xn++]=br,Sn[xn++]=Mr,Sn[xn++]=Ji,br=r.id,Mr=r.overflow,Ji=s),s=Tf(s,h.children),s.flags|=4096,s)}function Kg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Jh(r.return,s,a)}function Sf(r,s,a,h,d){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=a,y.tailMode=d)}function Yg(r,s,a){var h=s.pendingProps,d=h.revealOrder,y=h.tail;if(Ht(r,s,h.children,a),h=nt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Kg(r,a,s);else if(r.tag===19)Kg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(We(nt,h),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&wu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Sf(s,!1,d,a,y);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&wu(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}Sf(s,!0,a,null,y);break;case"together":Sf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ru(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Fr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),rs|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=yi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=yi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function JE(r,s,a){switch(s.tag){case 3:Qg(s),ao();break;case 5:cg(s);break;case 1:Jt(s.type)&&cu(s);break;case 4:tf(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;We(gu,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(We(nt,nt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Wg(r,s,a):(We(nt,nt.current&1),r=Fr(r,s,a),r!==null?r.sibling:null);We(nt,nt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return Yg(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),We(nt,nt.current),h)break;return null;case 22:case 23:return s.lanes=0,Bg(r,s,a)}return Fr(r,s,a)}var Xg,xf,Jg,Zg;Xg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},xf=function(){},Jg=function(r,s,a,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,ts(ar.current);var y=null;switch(a){case"input":d=bi(r,d),h=bi(r,h),y=[];break;case"select":d=ee({},d,{value:void 0}),h=ee({},h,{value:void 0}),y=[];break;case"textarea":d=Yo(r,d),h=Yo(r,h),y=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=au)}na(a,h);var T;a=null;for(Q in d)if(!h.hasOwnProperty(Q)&&d.hasOwnProperty(Q)&&d[Q]!=null)if(Q==="style"){var R=d[Q];for(T in R)R.hasOwnProperty(T)&&(a||(a={}),a[T]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?y||(y=[]):(y=y||[]).push(Q,null));for(Q in h){var b=h[Q];if(R=d?.[Q],h.hasOwnProperty(Q)&&b!==R&&(b!=null||R!=null))if(Q==="style")if(R){for(T in R)!R.hasOwnProperty(T)||b&&b.hasOwnProperty(T)||(a||(a={}),a[T]="");for(T in b)b.hasOwnProperty(T)&&R[T]!==b[T]&&(a||(a={}),a[T]=b[T])}else a||(y||(y=[]),y.push(Q,a)),a=b;else Q==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,R=R?R.__html:void 0,b!=null&&R!==b&&(y=y||[]).push(Q,b)):Q==="children"?typeof b!="string"&&typeof b!="number"||(y=y||[]).push(Q,""+b):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(b!=null&&Q==="onScroll"&&Ke("scroll",r),y||R===b||(y=[])):(y=y||[]).push(Q,b))}a&&(y=y||[]).push("style",a);var Q=y;(s.updateQueue=Q)&&(s.flags|=4)}},Zg=function(r,s,a,h){a!==h&&(s.flags|=4)};function Oa(r,s){if(!Je)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Lt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function ZE(r,s,a){var h=s.pendingProps;switch(Hh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(s),null;case 1:return Jt(s.type)&&uu(),Lt(s),null;case 3:return h=s.stateNode,ho(),Ye(Xt),Ye(Mt),sf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(pu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qn!==null&&(Mf(qn),qn=null))),xf(r,s),Lt(s),null;case 5:nf(s);var d=ts(Na.current);if(a=s.type,r!==null&&s.stateNode!=null)Jg(r,s,a,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return Lt(s),null}if(r=ts(ar.current),pu(s)){h=s.stateNode,a=s.type;var y=s.memoizedProps;switch(h[or]=s,h[Ca]=y,r=(s.mode&1)!==0,a){case"dialog":Ke("cancel",h),Ke("close",h);break;case"iframe":case"object":case"embed":Ke("load",h);break;case"video":case"audio":for(d=0;d<Sa.length;d++)Ke(Sa[d],h);break;case"source":Ke("error",h);break;case"img":case"image":case"link":Ke("error",h),Ke("load",h);break;case"details":Ke("toggle",h);break;case"input":Cs(h,y),Ke("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ke("invalid",h);break;case"textarea":Rs(h,y),Ke("invalid",h)}na(a,y),d=null;for(var T in y)if(y.hasOwnProperty(T)){var R=y[T];T==="children"?typeof R=="string"?h.textContent!==R&&(y.suppressHydrationWarning!==!0&&ou(h.textContent,R,r),d=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(y.suppressHydrationWarning!==!0&&ou(h.textContent,R,r),d=["children",""+R]):o.hasOwnProperty(T)&&R!=null&&T==="onScroll"&&Ke("scroll",h)}switch(a){case"input":Tr(h),Dl(h,y,!0);break;case"textarea":Tr(h),Xo(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=au)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=yt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=T.createElement(a,{is:h.is}):(r=T.createElement(a),a==="select"&&(T=r,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):r=T.createElementNS(r,a),r[or]=s,r[Ca]=h,Xg(r,s,!1,!1),s.stateNode=r;e:{switch(T=ra(a,h),a){case"dialog":Ke("cancel",r),Ke("close",r),d=h;break;case"iframe":case"object":case"embed":Ke("load",r),d=h;break;case"video":case"audio":for(d=0;d<Sa.length;d++)Ke(Sa[d],r);d=h;break;case"source":Ke("error",r),d=h;break;case"img":case"image":case"link":Ke("error",r),Ke("load",r),d=h;break;case"details":Ke("toggle",r),d=h;break;case"input":Cs(r,h),d=bi(r,h),Ke("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=ee({},h,{value:void 0}),Ke("invalid",r);break;case"textarea":Rs(r,h),d=Yo(r,h),Ke("invalid",r);break;default:d=h}na(a,d),R=d;for(y in R)if(R.hasOwnProperty(y)){var b=R[y];y==="style"?ea(r,b):y==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Jo(r,b)):y==="children"?typeof b=="string"?(a!=="textarea"||b!=="")&&Kr(r,b):typeof b=="number"&&Kr(r,""+b):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?b!=null&&y==="onScroll"&&Ke("scroll",r):b!=null&&J(r,y,b,T))}switch(a){case"input":Tr(r),Dl(r,h,!1);break;case"textarea":Tr(r),Xo(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ne(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?xr(r,!!h.multiple,y,!1):h.defaultValue!=null&&xr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=au)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Lt(s),null;case 6:if(r&&s.stateNode!=null)Zg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(a=ts(Na.current),ts(ar.current),pu(s)){if(h=s.stateNode,a=s.memoizedProps,h[or]=s,(y=h.nodeValue!==a)&&(r=fn,r!==null))switch(r.tag){case 3:ou(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ou(h.nodeValue,a,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[or]=s,s.stateNode=h}return Lt(s),null;case 13:if(Ye(nt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Je&&dn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)ng(),ao(),s.flags|=98560,y=!1;else if(y=pu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[or]=s}else ao(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Lt(s),y=!1}else qn!==null&&(Mf(qn),qn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(nt.current&1)!==0?Et===0&&(Et=3):Ff())),s.updateQueue!==null&&(s.flags|=4),Lt(s),null);case 4:return ho(),xf(r,s),r===null&&xa(s.stateNode.containerInfo),Lt(s),null;case 10:return Xh(s.type._context),Lt(s),null;case 17:return Jt(s.type)&&uu(),Lt(s),null;case 19:if(Ye(nt),y=s.memoizedState,y===null)return Lt(s),null;if(h=(s.flags&128)!==0,T=y.rendering,T===null)if(h)Oa(y,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(T=wu(r),T!==null){for(s.flags|=128,Oa(y,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)y=a,r=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,r=T.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return We(nt,nt.current&1|2),s.child}r=r.sibling}y.tail!==null&&Ge()>go&&(s.flags|=128,h=!0,Oa(y,!1),s.lanes=4194304)}else{if(!h)if(r=wu(T),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Oa(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Je)return Lt(s),null}else 2*Ge()-y.renderingStartTime>go&&a!==1073741824&&(s.flags|=128,h=!0,Oa(y,!1),s.lanes=4194304);y.isBackwards?(T.sibling=s.child,s.child=T):(a=y.last,a!==null?a.sibling=T:s.child=T,y.last=T)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Ge(),s.sibling=null,a=nt.current,We(nt,h?a&1|2:a&1),s):(Lt(s),null);case 22:case 23:return Lf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(pn&1073741824)!==0&&(Lt(s),s.subtreeFlags&6&&(s.flags|=8192)):Lt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function eT(r,s){switch(Hh(s),s.tag){case 1:return Jt(s.type)&&uu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ho(),Ye(Xt),Ye(Mt),sf(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return nf(s),null;case 13:if(Ye(nt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ao()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ye(nt),null;case 4:return ho(),null;case 10:return Xh(s.type._context),null;case 22:case 23:return Lf(),null;case 24:return null;default:return null}}var Pu=!1,Ft=!1,tT=typeof WeakSet=="function"?WeakSet:Set,ge=null;function po(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){st(r,s,h)}else a.current=null}function If(r,s,a){try{a()}catch(h){st(r,s,h)}}var ey=!1;function nT(r,s){if(Oh=ri,r=Dm(),Rh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var T=0,R=-1,b=-1,Q=0,se=0,oe=r,re=null;t:for(;;){for(var pe;oe!==a||d!==0&&oe.nodeType!==3||(R=T+d),oe!==y||h!==0&&oe.nodeType!==3||(b=T+h),oe.nodeType===3&&(T+=oe.nodeValue.length),(pe=oe.firstChild)!==null;)re=oe,oe=pe;for(;;){if(oe===r)break t;if(re===a&&++Q===d&&(R=T),re===y&&++se===h&&(b=T),(pe=oe.nextSibling)!==null)break;oe=re,re=oe.parentNode}oe=pe}a=R===-1||b===-1?null:{start:R,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lh={focusedElem:r,selectionRange:a},ri=!1,ge=s;ge!==null;)if(s=ge,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ge=r;else for(;ge!==null;){s=ge;try{var ve=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,at=ve.memoizedState,B=s.stateNode,F=B.getSnapshotBeforeUpdate(s.elementType===s.type?we:Hn(s.type,we),at);B.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){st(s,s.return,ue)}if(r=s.sibling,r!==null){r.return=s.return,ge=r;break}ge=s.return}return ve=ey,ey=!1,ve}function La(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var y=d.destroy;d.destroy=void 0,y!==void 0&&If(s,a,y)}d=d.next}while(d!==h)}}function ku(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Cf(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function ty(r){var s=r.alternate;s!==null&&(r.alternate=null,ty(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[or],delete s[Ca],delete s[Uh],delete s[FE],delete s[jE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ny(r){return r.tag===5||r.tag===3||r.tag===4}function ry(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ny(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Af(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=au));else if(h!==4&&(r=r.child,r!==null))for(Af(r,s,a),r=r.sibling;r!==null;)Af(r,s,a),r=r.sibling}function Rf(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Rf(r,s,a),r=r.sibling;r!==null;)Rf(r,s,a),r=r.sibling}var Nt=null,Qn=!1;function fi(r,s,a){for(a=a.child;a!==null;)iy(r,s,a),a=a.sibling}function iy(r,s,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Bi,a)}catch{}switch(a.tag){case 5:Ft||po(a,s);case 6:var h=Nt,d=Qn;Nt=null,fi(r,s,a),Nt=h,Qn=d,Nt!==null&&(Qn?(r=Nt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Nt.removeChild(a.stateNode));break;case 18:Nt!==null&&(Qn?(r=Nt,a=a.stateNode,r.nodeType===8?zh(r.parentNode,a):r.nodeType===1&&zh(r,a),Un(r)):zh(Nt,a.stateNode));break;case 4:h=Nt,d=Qn,Nt=a.stateNode.containerInfo,Qn=!0,fi(r,s,a),Nt=h,Qn=d;break;case 0:case 11:case 14:case 15:if(!Ft&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var y=d,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&If(a,s,T),d=d.next}while(d!==h)}fi(r,s,a);break;case 1:if(!Ft&&(po(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(R){st(a,s,R)}fi(r,s,a);break;case 21:fi(r,s,a);break;case 22:a.mode&1?(Ft=(h=Ft)||a.memoizedState!==null,fi(r,s,a),Ft=h):fi(r,s,a);break;default:fi(r,s,a)}}function sy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new tT),s.forEach(function(h){var d=hT.bind(null,r,h);a.has(h)||(a.add(h),h.then(d,d))})}}function Gn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var y=r,T=s,R=T;e:for(;R!==null;){switch(R.tag){case 5:Nt=R.stateNode,Qn=!1;break e;case 3:Nt=R.stateNode.containerInfo,Qn=!0;break e;case 4:Nt=R.stateNode.containerInfo,Qn=!0;break e}R=R.return}if(Nt===null)throw Error(n(160));iy(y,T,d),Nt=null,Qn=!1;var b=d.alternate;b!==null&&(b.return=null),d.return=null}catch(Q){st(d,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)oy(s,r),s=s.sibling}function oy(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Gn(s,r),ur(r),h&4){try{La(3,r,r.return),ku(3,r)}catch(we){st(r,r.return,we)}try{La(5,r,r.return)}catch(we){st(r,r.return,we)}}break;case 1:Gn(s,r),ur(r),h&512&&a!==null&&po(a,a.return);break;case 5:if(Gn(s,r),ur(r),h&512&&a!==null&&po(a,a.return),r.flags&32){var d=r.stateNode;try{Kr(d,"")}catch(we){st(r,r.return,we)}}if(h&4&&(d=r.stateNode,d!=null)){var y=r.memoizedProps,T=a!==null?a.memoizedProps:y,R=r.type,b=r.updateQueue;if(r.updateQueue=null,b!==null)try{R==="input"&&y.type==="radio"&&y.name!=null&&Wo(d,y),ra(R,T);var Q=ra(R,y);for(T=0;T<b.length;T+=2){var se=b[T],oe=b[T+1];se==="style"?ea(d,oe):se==="dangerouslySetInnerHTML"?Jo(d,oe):se==="children"?Kr(d,oe):J(d,se,oe,Q)}switch(R){case"input":Ko(d,y);break;case"textarea":Ps(d,y);break;case"select":var re=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!y.multiple;var pe=y.value;pe!=null?xr(d,!!y.multiple,pe,!1):re!==!!y.multiple&&(y.defaultValue!=null?xr(d,!!y.multiple,y.defaultValue,!0):xr(d,!!y.multiple,y.multiple?[]:"",!1))}d[Ca]=y}catch(we){st(r,r.return,we)}}break;case 6:if(Gn(s,r),ur(r),h&4){if(r.stateNode===null)throw Error(n(162));d=r.stateNode,y=r.memoizedProps;try{d.nodeValue=y}catch(we){st(r,r.return,we)}}break;case 3:if(Gn(s,r),ur(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Un(s.containerInfo)}catch(we){st(r,r.return,we)}break;case 4:Gn(s,r),ur(r);break;case 13:Gn(s,r),ur(r),d=r.child,d.flags&8192&&(y=d.memoizedState!==null,d.stateNode.isHidden=y,!y||d.alternate!==null&&d.alternate.memoizedState!==null||(Nf=Ge())),h&4&&sy(r);break;case 22:if(se=a!==null&&a.memoizedState!==null,r.mode&1?(Ft=(Q=Ft)||se,Gn(s,r),Ft=Q):Gn(s,r),ur(r),h&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!se&&(r.mode&1)!==0)for(ge=r,se=r.child;se!==null;){for(oe=ge=se;ge!==null;){switch(re=ge,pe=re.child,re.tag){case 0:case 11:case 14:case 15:La(4,re,re.return);break;case 1:po(re,re.return);var ve=re.stateNode;if(typeof ve.componentWillUnmount=="function"){h=re,a=re.return;try{s=h,ve.props=s.memoizedProps,ve.state=s.memoizedState,ve.componentWillUnmount()}catch(we){st(h,a,we)}}break;case 5:po(re,re.return);break;case 22:if(re.memoizedState!==null){uy(oe);continue}}pe!==null?(pe.return=re,ge=pe):uy(oe)}se=se.sibling}e:for(se=null,oe=r;;){if(oe.tag===5){if(se===null){se=oe;try{d=oe.stateNode,Q?(y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(R=oe.stateNode,b=oe.memoizedProps.style,T=b!=null&&b.hasOwnProperty("display")?b.display:null,R.style.display=Zo("display",T))}catch(we){st(r,r.return,we)}}}else if(oe.tag===6){if(se===null)try{oe.stateNode.nodeValue=Q?"":oe.memoizedProps}catch(we){st(r,r.return,we)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===r)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===r)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===r)break e;se===oe&&(se=null),oe=oe.return}se===oe&&(se=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Gn(s,r),ur(r),h&4&&sy(r);break;case 21:break;default:Gn(s,r),ur(r)}}function ur(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(ny(a)){var h=a;break e}a=a.return}throw Error(n(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(Kr(d,""),h.flags&=-33);var y=ry(r);Rf(r,y,d);break;case 3:case 4:var T=h.stateNode.containerInfo,R=ry(r);Af(r,R,T);break;default:throw Error(n(161))}}catch(b){st(r,r.return,b)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function rT(r,s,a){ge=r,ay(r)}function ay(r,s,a){for(var h=(r.mode&1)!==0;ge!==null;){var d=ge,y=d.child;if(d.tag===22&&h){var T=d.memoizedState!==null||Pu;if(!T){var R=d.alternate,b=R!==null&&R.memoizedState!==null||Ft;R=Pu;var Q=Ft;if(Pu=T,(Ft=b)&&!Q)for(ge=d;ge!==null;)T=ge,b=T.child,T.tag===22&&T.memoizedState!==null?cy(d):b!==null?(b.return=T,ge=b):cy(d);for(;y!==null;)ge=y,ay(y),y=y.sibling;ge=d,Pu=R,Ft=Q}ly(r)}else(d.subtreeFlags&8772)!==0&&y!==null?(y.return=d,ge=y):ly(r)}}function ly(r){for(;ge!==null;){var s=ge;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ft||ku(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ft)if(a===null)h.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Hn(s.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&ug(s,y,h);break;case 3:var T=s.updateQueue;if(T!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}ug(s,T,a)}break;case 5:var R=s.stateNode;if(a===null&&s.flags&4){a=R;var b=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&a.focus();break;case"img":b.src&&(a.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var se=Q.memoizedState;if(se!==null){var oe=se.dehydrated;oe!==null&&Un(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ft||s.flags&512&&Cf(s)}catch(re){st(s,s.return,re)}}if(s===r){ge=null;break}if(a=s.sibling,a!==null){a.return=s.return,ge=a;break}ge=s.return}}function uy(r){for(;ge!==null;){var s=ge;if(s===r){ge=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ge=a;break}ge=s.return}}function cy(r){for(;ge!==null;){var s=ge;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{ku(4,s)}catch(b){st(s,a,b)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(b){st(s,d,b)}}var y=s.return;try{Cf(s)}catch(b){st(s,y,b)}break;case 5:var T=s.return;try{Cf(s)}catch(b){st(s,T,b)}}}catch(b){st(s,s.return,b)}if(s===r){ge=null;break}var R=s.sibling;if(R!==null){R.return=s.return,ge=R;break}ge=s.return}}var iT=Math.ceil,Nu=Z.ReactCurrentDispatcher,Pf=Z.ReactCurrentOwner,An=Z.ReactCurrentBatchConfig,je=0,Ct=null,dt=null,Dt=0,pn=0,mo=ai(0),Et=0,Fa=null,rs=0,Du=0,kf=0,ja=null,en=null,Nf=0,go=1/0,jr=null,Vu=!1,Df=null,di=null,bu=!1,pi=null,Mu=0,za=0,Vf=null,Ou=-1,Lu=0;function Qt(){return(je&6)!==0?Ge():Ou!==-1?Ou:Ou=Ge()}function mi(r){return(r.mode&1)===0?1:(je&2)!==0&&Dt!==0?Dt&-Dt:UE.transition!==null?(Lu===0&&(Lu=Hi()),Lu):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:pa(r.type)),r)}function Wn(r,s,a,h){if(50<za)throw za=0,Vf=null,Error(n(185));Zr(r,a,h),((je&2)===0||r!==Ct)&&(r===Ct&&((je&2)===0&&(Du|=a),Et===4&&gi(r,Dt)),tn(r,h),a===1&&je===0&&(s.mode&1)===0&&(go=Ge()+500,hu&&ui()))}function tn(r,s){var a=r.callbackNode;Ar(r,s);var h=qi(r,r===Ct?Dt:0);if(h===0)a!==null&&ua(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&ua(a),s===1)r.tag===0?zE(fy.bind(null,r)):Xm(fy.bind(null,r)),OE(function(){(je&6)===0&&ui()}),a=null;else{switch(ti(h)){case 1:a=$i;break;case 4:a=Yr;break;case 16:a=wn;break;case 536870912:a=Ll;break;default:a=wn}a=wy(a,hy.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function hy(r,s){if(Ou=-1,Lu=0,(je&6)!==0)throw Error(n(327));var a=r.callbackNode;if(yo()&&r.callbackNode!==a)return null;var h=qi(r,r===Ct?Dt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=Fu(r,h);else{s=h;var d=je;je|=2;var y=py();(Ct!==r||Dt!==s)&&(jr=null,go=Ge()+500,ss(r,s));do try{aT();break}catch(R){dy(r,R)}while(!0);Yh(),Nu.current=y,je=d,dt!==null?s=0:(Ct=null,Dt=0,s=Et)}if(s!==0){if(s===2&&(d=un(r),d!==0&&(h=d,s=bf(r,d))),s===1)throw a=Fa,ss(r,0),gi(r,h),tn(r,Ge()),a;if(s===6)gi(r,h);else{if(d=r.current.alternate,(h&30)===0&&!sT(d)&&(s=Fu(r,h),s===2&&(y=un(r),y!==0&&(h=y,s=bf(r,y))),s===1))throw a=Fa,ss(r,0),gi(r,h),tn(r,Ge()),a;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:os(r,en,jr);break;case 3:if(gi(r,h),(h&130023424)===h&&(s=Nf+500-Ge(),10<s)){if(qi(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){Qt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=jh(os.bind(null,r,en,jr),s);break}os(r,en,jr);break;case 4:if(gi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var T=31-Bt(h);y=1<<T,T=s[T],T>d&&(d=T),h&=~y}if(h=d,h=Ge()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*iT(h/1960))-h,10<h){r.timeoutHandle=jh(os.bind(null,r,en,jr),h);break}os(r,en,jr);break;case 5:os(r,en,jr);break;default:throw Error(n(329))}}}return tn(r,Ge()),r.callbackNode===a?hy.bind(null,r):null}function bf(r,s){var a=ja;return r.current.memoizedState.isDehydrated&&(ss(r,s).flags|=256),r=Fu(r,s),r!==2&&(s=en,en=a,s!==null&&Mf(s)),r}function Mf(r){en===null?en=r:en.push.apply(en,r)}function sT(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],y=d.getSnapshot;d=d.value;try{if(!Bn(y(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function gi(r,s){for(s&=~kf,s&=~Du,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Bt(s),h=1<<a;r[a]=-1,s&=~h}}function fy(r){if((je&6)!==0)throw Error(n(327));yo();var s=qi(r,0);if((s&1)===0)return tn(r,Ge()),null;var a=Fu(r,s);if(r.tag!==0&&a===2){var h=un(r);h!==0&&(s=h,a=bf(r,h))}if(a===1)throw a=Fa,ss(r,0),gi(r,s),tn(r,Ge()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,os(r,en,jr),tn(r,Ge()),null}function Of(r,s){var a=je;je|=1;try{return r(s)}finally{je=a,je===0&&(go=Ge()+500,hu&&ui())}}function is(r){pi!==null&&pi.tag===0&&(je&6)===0&&yo();var s=je;je|=1;var a=An.transition,h=Ve;try{if(An.transition=null,Ve=1,r)return r()}finally{Ve=h,An.transition=a,je=s,(je&6)===0&&ui()}}function Lf(){pn=mo.current,Ye(mo)}function ss(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,ME(a)),dt!==null)for(a=dt.return;a!==null;){var h=a;switch(Hh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&uu();break;case 3:ho(),Ye(Xt),Ye(Mt),sf();break;case 5:nf(h);break;case 4:ho();break;case 13:Ye(nt);break;case 19:Ye(nt);break;case 10:Xh(h.type._context);break;case 22:case 23:Lf()}a=a.return}if(Ct=r,dt=r=yi(r.current,null),Dt=pn=s,Et=0,Fa=null,kf=Du=rs=0,en=ja=null,es!==null){for(s=0;s<es.length;s++)if(a=es[s],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,y=a.pending;if(y!==null){var T=y.next;y.next=d,h.next=T}a.pending=h}es=null}return r}function dy(r,s){do{var a=dt;try{if(Yh(),Eu.current=Iu,Tu){for(var h=rt.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}Tu=!1}if(ns=0,It=wt=rt=null,Da=!1,Va=0,Pf.current=null,a===null||a.return===null){Et=1,Fa=s,dt=null;break}e:{var y=r,T=a.return,R=a,b=s;if(s=Dt,R.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var Q=b,se=R,oe=se.tag;if((se.mode&1)===0&&(oe===0||oe===11||oe===15)){var re=se.alternate;re?(se.updateQueue=re.updateQueue,se.memoizedState=re.memoizedState,se.lanes=re.lanes):(se.updateQueue=null,se.memoizedState=null)}var pe=Fg(T);if(pe!==null){pe.flags&=-257,jg(pe,T,R,y,s),pe.mode&1&&Lg(y,Q,s),s=pe,b=Q;var ve=s.updateQueue;if(ve===null){var we=new Set;we.add(b),s.updateQueue=we}else ve.add(b);break e}else{if((s&1)===0){Lg(y,Q,s),Ff();break e}b=Error(n(426))}}else if(Je&&R.mode&1){var at=Fg(T);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),jg(at,T,R,y,s),Wh(fo(b,R));break e}}y=b=fo(b,R),Et!==4&&(Et=2),ja===null?ja=[y]:ja.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var B=Mg(y,b,s);lg(y,B);break e;case 1:R=b;var F=y.type,q=y.stateNode;if((y.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(di===null||!di.has(q)))){y.flags|=65536,s&=-s,y.lanes|=s;var ue=Og(y,R,s);lg(y,ue);break e}}y=y.return}while(y!==null)}gy(a)}catch(Ee){s=Ee,dt===a&&a!==null&&(dt=a=a.return);continue}break}while(!0)}function py(){var r=Nu.current;return Nu.current=Iu,r===null?Iu:r}function Ff(){(Et===0||Et===3||Et===2)&&(Et=4),Ct===null||(rs&268435455)===0&&(Du&268435455)===0||gi(Ct,Dt)}function Fu(r,s){var a=je;je|=2;var h=py();(Ct!==r||Dt!==s)&&(jr=null,ss(r,s));do try{oT();break}catch(d){dy(r,d)}while(!0);if(Yh(),je=a,Nu.current=h,dt!==null)throw Error(n(261));return Ct=null,Dt=0,Et}function oT(){for(;dt!==null;)my(dt)}function aT(){for(;dt!==null&&!Ml();)my(dt)}function my(r){var s=_y(r.alternate,r,pn);r.memoizedProps=r.pendingProps,s===null?gy(r):dt=s,Pf.current=null}function gy(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=ZE(a,s,pn),a!==null){dt=a;return}}else{if(a=eT(a,s),a!==null){a.flags&=32767,dt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,dt=null;return}}if(s=s.sibling,s!==null){dt=s;return}dt=s=r}while(s!==null);Et===0&&(Et=5)}function os(r,s,a){var h=Ve,d=An.transition;try{An.transition=null,Ve=1,lT(r,s,a,h)}finally{An.transition=d,Ve=h}return null}function lT(r,s,a,h){do yo();while(pi!==null);if((je&6)!==0)throw Error(n(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(He(r,y),r===Ct&&(dt=Ct=null,Dt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||bu||(bu=!0,wy(wn,function(){return yo(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=An.transition,An.transition=null;var T=Ve;Ve=1;var R=je;je|=4,Pf.current=null,nT(r,a),oy(a,r),RE(Lh),ri=!!Oh,Lh=Oh=null,r.current=a,rT(a),wh(),je=R,Ve=T,An.transition=y}else r.current=a;if(bu&&(bu=!1,pi=r,Mu=d),y=r.pendingLanes,y===0&&(di=null),Fl(a.stateNode),tn(r,Ge()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(Vu)throw Vu=!1,r=Df,Df=null,r;return(Mu&1)!==0&&r.tag!==0&&yo(),y=r.pendingLanes,(y&1)!==0?r===Vf?za++:(za=0,Vf=r):za=0,ui(),null}function yo(){if(pi!==null){var r=ti(Mu),s=An.transition,a=Ve;try{if(An.transition=null,Ve=16>r?16:r,pi===null)var h=!1;else{if(r=pi,pi=null,Mu=0,(je&6)!==0)throw Error(n(331));var d=je;for(je|=4,ge=r.current;ge!==null;){var y=ge,T=y.child;if((ge.flags&16)!==0){var R=y.deletions;if(R!==null){for(var b=0;b<R.length;b++){var Q=R[b];for(ge=Q;ge!==null;){var se=ge;switch(se.tag){case 0:case 11:case 15:La(8,se,y)}var oe=se.child;if(oe!==null)oe.return=se,ge=oe;else for(;ge!==null;){se=ge;var re=se.sibling,pe=se.return;if(ty(se),se===Q){ge=null;break}if(re!==null){re.return=pe,ge=re;break}ge=pe}}}var ve=y.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var at=we.sibling;we.sibling=null,we=at}while(we!==null)}}ge=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,ge=T;else e:for(;ge!==null;){if(y=ge,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:La(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,ge=B;break e}ge=y.return}}var F=r.current;for(ge=F;ge!==null;){T=ge;var q=T.child;if((T.subtreeFlags&2064)!==0&&q!==null)q.return=T,ge=q;else e:for(T=F;ge!==null;){if(R=ge,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:ku(9,R)}}catch(Ee){st(R,R.return,Ee)}if(R===T){ge=null;break e}var ue=R.sibling;if(ue!==null){ue.return=R.return,ge=ue;break e}ge=R.return}}if(je=d,ui(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Bi,r)}catch{}h=!0}return h}finally{Ve=a,An.transition=s}}return!1}function yy(r,s,a){s=fo(a,s),s=Mg(r,s,1),r=hi(r,s,1),s=Qt(),r!==null&&(Zr(r,1,s),tn(r,s))}function st(r,s,a){if(r.tag===3)yy(r,r,a);else for(;s!==null;){if(s.tag===3){yy(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(di===null||!di.has(h))){r=fo(a,r),r=Og(s,r,1),s=hi(s,r,1),r=Qt(),s!==null&&(Zr(s,1,r),tn(s,r));break}}s=s.return}}function uT(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Qt(),r.pingedLanes|=r.suspendedLanes&a,Ct===r&&(Dt&a)===a&&(Et===4||Et===3&&(Dt&130023424)===Dt&&500>Ge()-Nf?ss(r,0):kf|=a),tn(r,s)}function vy(r,s){s===0&&((r.mode&1)===0?s=1:(s=js,js<<=1,(js&130023424)===0&&(js=4194304)));var a=Qt();r=Or(r,s),r!==null&&(Zr(r,s,a),tn(r,a))}function cT(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),vy(r,a)}function hT(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),vy(r,a)}var _y;_y=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Xt.current)Zt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Zt=!1,JE(r,s,a);Zt=(r.flags&131072)!==0}else Zt=!1,Je&&(s.flags&1048576)!==0&&Jm(s,du,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Ru(r,s),r=s.pendingProps;var d=io(s,Mt.current);co(s,a),d=lf(null,s,h,r,d,a);var y=uf();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jt(h)?(y=!0,cu(s)):y=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ef(s),d.updater=Cu,s.stateNode=d,d._reactInternals=s,mf(s,h,r,a),s=_f(null,s,h,!0,y,a)):(s.tag=0,Je&&y&&qh(s),Ht(null,s,d,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Ru(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=dT(h),r=Hn(h,r),d){case 0:s=vf(null,s,h,r,a);break e;case 1:s=Hg(null,s,h,r,a);break e;case 11:s=zg(null,s,h,r,a);break e;case 14:s=Ug(null,s,h,Hn(h.type,r),a);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Hn(h,d),vf(r,s,h,d,a);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Hn(h,d),Hg(r,s,h,d,a);case 3:e:{if(Qg(s),r===null)throw Error(n(387));h=s.pendingProps,y=s.memoizedState,d=y.element,ag(r,s),_u(s,h,null,a);var T=s.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){d=fo(Error(n(423)),s),s=Gg(r,s,h,a,d);break e}else if(h!==d){d=fo(Error(n(424)),s),s=Gg(r,s,h,a,d);break e}else for(dn=oi(s.stateNode.containerInfo.firstChild),fn=s,Je=!0,qn=null,a=sg(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ao(),h===d){s=Fr(r,s,a);break e}Ht(r,s,h,a)}s=s.child}return s;case 5:return cg(s),r===null&&Gh(s),h=s.type,d=s.pendingProps,y=r!==null?r.memoizedProps:null,T=d.children,Fh(h,d)?T=null:y!==null&&Fh(h,y)&&(s.flags|=32),qg(r,s),Ht(r,s,T,a),s.child;case 6:return r===null&&Gh(s),null;case 13:return Wg(r,s,a);case 4:return tf(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=lo(s,null,h,a):Ht(r,s,h,a),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Hn(h,d),zg(r,s,h,d,a);case 7:return Ht(r,s,s.pendingProps,a),s.child;case 8:return Ht(r,s,s.pendingProps.children,a),s.child;case 12:return Ht(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,y=s.memoizedProps,T=d.value,We(gu,h._currentValue),h._currentValue=T,y!==null)if(Bn(y.value,T)){if(y.children===d.children&&!Xt.current){s=Fr(r,s,a);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var R=y.dependencies;if(R!==null){T=y.child;for(var b=R.firstContext;b!==null;){if(b.context===h){if(y.tag===1){b=Lr(-1,a&-a),b.tag=2;var Q=y.updateQueue;if(Q!==null){Q=Q.shared;var se=Q.pending;se===null?b.next=b:(b.next=se.next,se.next=b),Q.pending=b}}y.lanes|=a,b=y.alternate,b!==null&&(b.lanes|=a),Jh(y.return,a,s),R.lanes|=a;break}b=b.next}}else if(y.tag===10)T=y.type===s.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(n(341));T.lanes|=a,R=T.alternate,R!==null&&(R.lanes|=a),Jh(T,a,s),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===s){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Ht(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,co(s,a),d=In(d),h=h(d),s.flags|=1,Ht(r,s,h,a),s.child;case 14:return h=s.type,d=Hn(h,s.pendingProps),d=Hn(h.type,d),Ug(r,s,h,d,a);case 15:return $g(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Hn(h,d),Ru(r,s),s.tag=1,Jt(h)?(r=!0,cu(s)):r=!1,co(s,a),Vg(s,h,d),mf(s,h,d,a),_f(null,s,h,!0,r,a);case 19:return Yg(r,s,a);case 22:return Bg(r,s,a)}throw Error(n(156,s.tag))};function wy(r,s){return Ls(r,s)}function fT(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(r,s,a,h){return new fT(r,s,a,h)}function jf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function dT(r){if(typeof r=="function")return jf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===U)return 14}return 2}function yi(r,s){var a=r.alternate;return a===null?(a=Rn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function ju(r,s,a,h,d,y){var T=2;if(h=r,typeof r=="function")jf(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case D:return as(a.children,d,y,s);case I:T=8,d|=8;break;case C:return r=Rn(12,a,s,d|2),r.elementType=C,r.lanes=y,r;case A:return r=Rn(13,a,s,d),r.elementType=A,r.lanes=y,r;case z:return r=Rn(19,a,s,d),r.elementType=z,r.lanes=y,r;case ie:return zu(a,d,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:T=10;break e;case N:T=9;break e;case j:T=11;break e;case U:T=14;break e;case G:T=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Rn(T,a,s,d),s.elementType=r,s.type=h,s.lanes=y,s}function as(r,s,a,h){return r=Rn(7,r,h,s),r.lanes=a,r}function zu(r,s,a,h){return r=Rn(22,r,h,s),r.elementType=ie,r.lanes=a,r.stateNode={isHidden:!1},r}function zf(r,s,a){return r=Rn(6,r,null,s),r.lanes=a,r}function Uf(r,s,a){return s=Rn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function pT(r,s,a,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jr(0),this.expirationTimes=Jr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function $f(r,s,a,h,d,y,T,R,b){return r=new pT(r,s,a,R,b),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Rn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ef(y),r}function mT(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function Ey(r){if(!r)return li;r=r._reactInternals;e:{if(On(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(Jt(a))return Km(r,a,s)}return s}function Ty(r,s,a,h,d,y,T,R,b){return r=$f(a,h,!0,r,d,y,T,R,b),r.context=Ey(null),a=r.current,h=Qt(),d=mi(a),y=Lr(h,d),y.callback=s??null,hi(a,y,d),r.current.lanes=d,Zr(r,d,h),tn(r,h),r}function Uu(r,s,a,h){var d=s.current,y=Qt(),T=mi(d);return a=Ey(a),s.context===null?s.context=a:s.pendingContext=a,s=Lr(y,T),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=hi(d,s,T),r!==null&&(Wn(r,d,T,y),vu(r,d,T)),T}function $u(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Sy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Bf(r,s){Sy(r,s),(r=r.alternate)&&Sy(r,s)}function gT(){return null}var xy=typeof reportError=="function"?reportError:function(r){console.error(r)};function qf(r){this._internalRoot=r}Bu.prototype.render=qf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Uu(r,s,null,null)},Bu.prototype.unmount=qf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;is(function(){Uu(null,r,null,null)}),s[Dr]=null}};function Bu(r){this._internalRoot=r}Bu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Bl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<nr.length&&s!==0&&s<nr[a].priority;a++);nr.splice(a,0,r),a===0&&Ql(r)}};function Hf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function qu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Iy(){}function yT(r,s,a,h,d){if(d){if(typeof h=="function"){var y=h;h=function(){var Q=$u(T);y.call(Q)}}var T=Ty(s,h,r,0,null,!1,!1,"",Iy);return r._reactRootContainer=T,r[Dr]=T.current,xa(r.nodeType===8?r.parentNode:r),is(),T}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var R=h;h=function(){var Q=$u(b);R.call(Q)}}var b=$f(r,0,!1,null,null,!1,!1,"",Iy);return r._reactRootContainer=b,r[Dr]=b.current,xa(r.nodeType===8?r.parentNode:r),is(function(){Uu(s,b,a,h)}),b}function Hu(r,s,a,h,d){var y=a._reactRootContainer;if(y){var T=y;if(typeof d=="function"){var R=d;d=function(){var b=$u(T);R.call(b)}}Uu(s,T,r,d)}else T=yT(a,s,r,d,h);return $u(T)}Ul=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Xr(s.pendingLanes);a!==0&&(ei(s,a|1),tn(s,Ge()),(je&6)===0&&(go=Ge()+500,ui()))}break;case 13:is(function(){var h=Or(r,1);if(h!==null){var d=Qt();Wn(h,r,1,d)}}),Bf(r,1)}},zs=function(r){if(r.tag===13){var s=Or(r,134217728);if(s!==null){var a=Qt();Wn(s,r,134217728,a)}Bf(r,134217728)}},$l=function(r){if(r.tag===13){var s=mi(r),a=Or(r,s);if(a!==null){var h=Qt();Wn(a,r,s,h)}Bf(r,s)}},Bl=function(){return Ve},ql=function(r,s){var a=Ve;try{return Ve=r,s()}finally{Ve=a}},Ns=function(r,s,a){switch(s){case"input":if(Ko(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var d=lu(h);if(!d)throw Error(n(90));Is(h),Ko(h,d)}}}break;case"textarea":Ps(r,a);break;case"select":s=a.value,s!=null&&xr(r,!!a.multiple,s,!1)}},Fi=Of,sa=is;var vT={usingClientEntryPoint:!1,Events:[Aa,no,lu,er,ia,Of]},Ua={findFiberByHostInstance:Yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_T={bundleType:Ua.bundleType,version:Ua.version,rendererPackageName:Ua.rendererPackageName,rendererConfig:Ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=la(r),r===null?null:r.stateNode},findFiberByHostInstance:Ua.findFiberByHostInstance||gT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{Bi=Qu.inject(_T),ln=Qu}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vT,nn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hf(s))throw Error(n(200));return mT(r,s,null,a)},nn.createRoot=function(r,s){if(!Hf(r))throw Error(n(299));var a=!1,h="",d=xy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=$f(r,1,!1,null,null,a,!1,h,d),r[Dr]=s.current,xa(r.nodeType===8?r.parentNode:r),new qf(s)},nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=la(s),r=r===null?null:r.stateNode,r},nn.flushSync=function(r){return is(r)},nn.hydrate=function(r,s,a){if(!qu(s))throw Error(n(200));return Hu(null,r,s,!0,a)},nn.hydrateRoot=function(r,s,a){if(!Hf(r))throw Error(n(405));var h=a!=null&&a.hydratedSources||null,d=!1,y="",T=xy;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),s=Ty(s,null,r,1,a??null,d,!1,y,T),r[Dr]=s.current,xa(r),h)for(r=0;r<h.length;r++)a=h[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Bu(s)},nn.render=function(r,s,a){if(!qu(s))throw Error(n(200));return Hu(null,r,s,!1,a)},nn.unmountComponentAtNode=function(r){if(!qu(r))throw Error(n(40));return r._reactRootContainer?(is(function(){Hu(null,null,r,!1,function(){r._reactRootContainer=null,r[Dr]=null})}),!0):!1},nn.unstable_batchedUpdates=Of,nn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!qu(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Hu(r,s,a,!1,h)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var Vy;function i_(){if(Vy)return Wf.exports;Vy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wf.exports=RT(),Wf.exports}var by;function PT(){if(by)return Gu;by=1;var t=i_();return Gu.createRoot=t.createRoot,Gu.hydrateRoot=t.hydrateRoot,Gu}var kT=PT(),Wc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kc=typeof window>"u"||"Deno"in globalThis;function Kn(){}function NT(t,e){return typeof t=="function"?t(e):t}function DT(t){return typeof t=="number"&&t>=0&&t!==1/0}function VT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vd(t,e){return typeof t=="function"?t(e):t}function bT(t,e){return typeof t=="function"?t(e):t}function My(t,e){const{type:n="all",exact:i,fetchStatus:o,predicate:l,queryKey:c,stale:f}=t;if(c){if(i){if(e.queryHash!==wp(c,e.options))return!1}else if(!ul(e.queryKey,c))return!1}if(n!=="all"){const p=e.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||o&&o!==e.state.fetchStatus||l&&!l(e))}function Oy(t,e){const{exact:n,status:i,predicate:o,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(n){if(ll(e.options.mutationKey)!==ll(l))return!1}else if(!ul(e.options.mutationKey,l))return!1}return!(i&&e.state.status!==i||o&&!o(e))}function wp(t,e){return(e?.queryKeyHashFn||ll)(t)}function ll(t){return JSON.stringify(t,(e,n)=>_d(n)?Object.keys(n).sort().reduce((i,o)=>(i[o]=n[o],i),{}):n)}function ul(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>ul(t[n],e[n])):!1}function s_(t,e){if(t===e)return t;const n=Ly(t)&&Ly(e);if(n||_d(t)&&_d(e)){const i=n?t:Object.keys(t),o=i.length,l=n?e:Object.keys(e),c=l.length,f=n?[]:{},p=new Set(i);let m=0;for(let v=0;v<c;v++){const w=n?v:l[v];(!n&&p.has(w)||n)&&t[w]===void 0&&e[w]===void 0?(f[w]=void 0,m++):(f[w]=s_(t[w],e[w]),f[w]===t[w]&&t[w]!==void 0&&m++)}return o===c&&m===o?t:f}return e}function Ly(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _d(t){if(!Fy(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Fy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Fy(t){return Object.prototype.toString.call(t)==="[object Object]"}function MT(t){return new Promise(e=>{setTimeout(e,t)})}function OT(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?s_(t,e):e}function LT(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function FT(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var Ep=Symbol();function o_(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Ep?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var jT=class extends Wc{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Kc&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},a_=new jT,zT=class extends Wc{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Kc&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},_c=new zT;function UT(){let t,e;const n=new Promise((o,l)=>{t=o,e=l});n.status="pending",n.catch(()=>{});function i(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{i({status:"fulfilled",value:o}),t(o)},n.reject=o=>{i({status:"rejected",reason:o}),e(o)},n}function $T(t){return Math.min(1e3*2**t,3e4)}function l_(t){return(t??"online")==="online"?_c.isOnline():!0}var u_=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Xf(t){return t instanceof u_}function c_(t){let e=!1,n=0,i=!1,o;const l=UT(),c=L=>{i||(E(new u_(L)),t.abort?.())},f=()=>{e=!0},p=()=>{e=!1},m=()=>a_.isFocused()&&(t.networkMode==="always"||_c.isOnline())&&t.canRun(),v=()=>l_(t.networkMode)&&t.canRun(),w=L=>{i||(i=!0,t.onSuccess?.(L),o?.(),l.resolve(L))},E=L=>{i||(i=!0,t.onError?.(L),o?.(),l.reject(L))},x=()=>new Promise(L=>{o=k=>{(i||m())&&L(k)},t.onPause?.()}).then(()=>{o=void 0,i||t.onContinue?.()}),P=()=>{if(i)return;let L;const k=n===0?t.initialPromise:void 0;try{L=k??t.fn()}catch(H){L=Promise.reject(H)}Promise.resolve(L).then(w).catch(H=>{if(i)return;const X=t.retry??(Kc?0:3),J=t.retryDelay??$T,Z=typeof J=="function"?J(n,H):J,le=X===!0||typeof X=="number"&&n<X||typeof X=="function"&&X(n,H);if(e||!le){E(H);return}n++,t.onFail?.(n,H),MT(Z).then(()=>m()?void 0:x()).then(()=>{e?E(H):P()})})};return{promise:l,cancel:c,continue:()=>(o?.(),l),cancelRetry:f,continueRetry:p,canStart:v,start:()=>(v()?P():x().then(P),l)}}var BT=t=>setTimeout(t,0);function qT(){let t=[],e=0,n=f=>{f()},i=f=>{f()},o=BT;const l=f=>{e?t.push(f):o(()=>{n(f)})},c=()=>{const f=t;t=[],f.length&&o(()=>{i(()=>{f.forEach(p=>{n(p)})})})};return{batch:f=>{let p;e++;try{p=f()}finally{e--,e||c()}return p},batchCalls:f=>(...p)=>{l(()=>{f(...p)})},schedule:l,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{o=f}}}var Gt=qT(),h_=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),DT(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Kc?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},HT=class extends h_{#e;#t;#n;#i;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=GT(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const i=OT(this.state.data,e,this.options);return this.#s({data:i,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),i}setState(e,n){this.#s({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(Kn).catch(Kn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>bT(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ep||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>vd(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!VT(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(v=>v.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,o=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#a=!0,i.signal)})},l=()=>{const m=o_(this.options,n),w=(()=>{const E={client:this.#i,queryKey:this.queryKey,meta:this.meta};return o(E),E})();return this.#a=!1,this.options.persister?this.options.persister(m,w,this):m(w)},f=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:l};return o(m),m})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#s({type:"fetch",meta:f.fetchOptions?.meta});const p=m=>{Xf(m)&&m.silent||this.#s({type:"error",error:m}),Xf(m)||(this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this)),this.scheduleGc()};return this.#r=c_({initialPromise:n?.initialPromise,fn:f.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{if(m===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){p(v);return}this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),this.scheduleGc()},onError:p,onFail:(m,v)=>{this.#s({type:"failed",failureCount:m,error:v})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...QT(i.data,this.options),fetchMeta:e.meta??null};case"success":return this.#t=void 0,{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Xf(o)&&o.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),Gt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function QT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:l_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function GT(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var WT=class extends Wc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const i=e.queryKey,o=e.queryHash??wp(i,e);let l=this.get(o);return l||(l=new HT({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Gt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>My(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>My(t,n)):e}notify(t){Gt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Gt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Gt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},KT=class extends h_{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||YT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#i({type:"continue"})};this.#n=c_({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#i({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const i=this.state.status==="pending",o=!this.#n.canStart();try{if(i)n();else{this.#i({type:"pending",variables:e,isPaused:o}),await this.#t.config.onMutate?.(e,this);const c=await this.options.onMutate?.(e);c!==this.state.context&&this.#i({type:"pending",context:c,variables:e,isPaused:o})}const l=await this.#n.start();return await this.#t.config.onSuccess?.(l,e,this.state.context,this),await this.options.onSuccess?.(l,e,this.state.context),await this.#t.config.onSettled?.(l,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(l,null,e,this.state.context),this.#i({type:"success",data:l}),l}catch(l){try{throw await this.#t.config.onError?.(l,e,this.state.context,this),await this.options.onError?.(l,e,this.state.context),await this.#t.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,l,e,this.state.context),l}finally{this.#i({type:"error",error:l})}}finally{this.#t.runNext(this)}}#i(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Gt.batch(()=>{this.#e.forEach(i=>{i.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function YT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var XT=class extends Wc{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const i=new KT({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#e.add(t);const e=Wu(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Wu(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Wu(t);if(typeof e=="string"){const i=this.#t.get(e)?.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=Wu(t);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Gt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Oy(e,n))}findAll(t={}){return this.getAll().filter(e=>Oy(t,e))}notify(t){Gt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Gt.batch(()=>Promise.all(t.map(e=>e.continue().catch(Kn))))}};function Wu(t){return t.options.scope?.id}function jy(t){return{onFetch:(e,n)=>{const i=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,l=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let f={pages:[],pageParams:[]},p=0;const m=async()=>{let v=!1;const w=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},E=o_(e.options,e.fetchOptions),x=async(P,L,k)=>{if(v)return Promise.reject();if(L==null&&P.pages.length)return Promise.resolve(P);const X=(()=>{const ce={client:e.client,queryKey:e.queryKey,pageParam:L,direction:k?"backward":"forward",meta:e.options.meta};return w(ce),ce})(),J=await E(X),{maxPages:Z}=e.options,le=k?FT:LT;return{pages:le(P.pages,J,Z),pageParams:le(P.pageParams,L,Z)}};if(o&&l.length){const P=o==="backward",L=P?JT:zy,k={pages:l,pageParams:c},H=L(i,k);f=await x(k,H,P)}else{const P=t??l.length;do{const L=p===0?c[0]??i.initialPageParam:zy(i,f);if(p>0&&L==null)break;f=await x(f,L),p++}while(p<P)}return f};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=m}}}function zy(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function JT(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var ZT=class{#e;#t;#n;#i;#r;#o;#a;#s;constructor(t={}){this.#e=t.queryCache||new WT,this.#t=t.mutationCache||new XT,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=a_.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=_c.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(vd(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),l=this.#e.get(i.queryHash)?.state.data,c=NT(e,l);if(c!==void 0)return this.#e.build(this,i).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return Gt.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Gt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Gt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=Gt.batch(()=>this.#e.findAll(t).map(o=>o.cancel(n)));return Promise.all(i).then(Kn).catch(Kn)}invalidateQueries(t,e={}){return Gt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=Gt.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,n);return n.throwOnError||(l=l.catch(Kn)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(Kn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(vd(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Kn).catch(Kn)}fetchInfiniteQuery(t){return t.behavior=jy(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Kn).catch(Kn)}ensureInfiniteQueryData(t){return t.behavior=jy(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _c.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(ll(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{ul(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(ll(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{ul(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=wp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ep&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},fe=_p();const eS=TT(fe),tS=ET({__proto__:null,default:eS},[fe]);var nS=fe.createContext(void 0),rS=({client:t,children:e})=>(fe.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),M.jsx(nS.Provider,{value:t,children:e}));i_();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wc.apply(this,arguments)}var wi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wi||(wi={}));const Uy="popstate";function iS(t){t===void 0&&(t={});function e(i,o){let{pathname:l,search:c,hash:f}=i.location;return wd("",{pathname:l,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:d_(o)}return oS(e,n,null,t)}function an(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function f_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sS(){return Math.random().toString(36).substr(2,8)}function $y(t,e){return{usr:t.state,key:t.key,idx:e}}function wd(t,e,n,i){return n===void 0&&(n=null),wc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yc(e):e,{state:n,key:e&&e.key||i||sS()})}function d_(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Yc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function oS(t,e,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,f=wi.Pop,p=null,m=v();m==null&&(m=0,c.replaceState(wc({},c.state,{idx:m}),""));function v(){return(c.state||{idx:null}).idx}function w(){f=wi.Pop;let k=v(),H=k==null?null:k-m;m=k,p&&p({action:f,location:L.location,delta:H})}function E(k,H){f=wi.Push;let X=wd(L.location,k,H);m=v()+1;let J=$y(X,m),Z=L.createHref(X);try{c.pushState(J,"",Z)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(Z)}l&&p&&p({action:f,location:L.location,delta:1})}function x(k,H){f=wi.Replace;let X=wd(L.location,k,H);m=v();let J=$y(X,m),Z=L.createHref(X);c.replaceState(J,"",Z),l&&p&&p({action:f,location:L.location,delta:0})}function P(k){let H=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof k=="string"?k:d_(k);return X=X.replace(/ $/,"%20"),an(H,"No window.location.(origin|href) available to create URL for href: "+X),new URL(X,H)}let L={get action(){return f},get location(){return t(o,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Uy,w),p=k,()=>{o.removeEventListener(Uy,w),p=null}},createHref(k){return e(o,k)},createURL:P,encodeLocation(k){let H=P(k);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:E,replace:x,go(k){return c.go(k)}};return L}var By;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(By||(By={}));function aS(t,e,n){return n===void 0&&(n="/"),lS(t,e,n)}function lS(t,e,n,i){let o=typeof e=="string"?Yc(e):e,l=g_(o.pathname||"/",n);if(l==null)return null;let c=p_(t);uS(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=ES(l);f=vS(c[p],m)}return f}function p_(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(l,c,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(an(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let m=xo([i,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(an(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),p_(l.children,e,v,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:gS(m,l.index),routesMeta:v})};return t.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,c);else for(let p of m_(l.path))o(l,c,p)}),e}function m_(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=m_(i.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...c),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function uS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yS(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const cS=/^:[\w-]+$/,hS=3,fS=2,dS=1,pS=10,mS=-2,qy=t=>t==="*";function gS(t,e){let n=t.split("/"),i=n.length;return n.some(qy)&&(i+=mS),e&&(i+=fS),n.filter(o=>!qy(o)).reduce((o,l)=>o+(cS.test(l)?hS:l===""?dS:pS),i)}function yS(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function vS(t,e,n){let{routesMeta:i}=t,o={},l="/",c=[];for(let f=0;f<i.length;++f){let p=i[f],m=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",w=_S({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),E=p.route;if(!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:xo([l,w.pathname]),pathnameBase:TS(xo([l,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(l=xo([l,w.pathnameBase]))}return c}function _S(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=wS(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((m,v,w)=>{let{paramName:E,isOptional:x}=v;if(E==="*"){let L=f[w]||"";c=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const P=f[w];return x&&!P?m[E]=void 0:m[E]=(P||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function wS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),f_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function ES(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return f_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function g_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const xo=t=>t.join("/").replace(/\/\/+/g,"/"),TS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function SS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const y_=["post","put","patch","delete"];new Set(y_);const xS=["get",...y_];new Set(xS);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ec(){return Ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ec.apply(this,arguments)}const IS=fe.createContext(null),CS=fe.createContext(null),v_=fe.createContext(null),Xc=fe.createContext(null),Jc=fe.createContext({outlet:null,matches:[],isDataRoute:!1}),__=fe.createContext(null);function Tp(){return fe.useContext(Xc)!=null}function w_(){return Tp()||an(!1),fe.useContext(Xc).location}function AS(t,e){return RS(t,e)}function RS(t,e,n,i){Tp()||an(!1);let{navigator:o}=fe.useContext(v_),{matches:l}=fe.useContext(Jc),c=l[l.length-1],f=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let m=w_(),v;if(e){var w;let k=typeof e=="string"?Yc(e):e;p==="/"||(w=k.pathname)!=null&&w.startsWith(p)||an(!1),v=k}else v=m;let E=v.pathname||"/",x=E;if(p!=="/"){let k=p.replace(/^\//,"").split("/");x="/"+E.replace(/^\//,"").split("/").slice(k.length).join("/")}let P=aS(t,{pathname:x}),L=VS(P&&P.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:xo([p,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:xo([p,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,n,i);return e&&L?fe.createElement(Xc.Provider,{value:{location:Ec({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:wi.Pop}},L):L}function PS(){let t=LS(),e=SS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return fe.createElement(fe.Fragment,null,fe.createElement("h2",null,"Unexpected Application Error!"),fe.createElement("h3",{style:{fontStyle:"italic"}},e),n?fe.createElement("pre",{style:o},n):null,null)}const kS=fe.createElement(PS,null);class NS extends fe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?fe.createElement(Jc.Provider,{value:this.props.routeContext},fe.createElement(__.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DS(t){let{routeContext:e,match:n,children:i}=t,o=fe.useContext(IS);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),fe.createElement(Jc.Provider,{value:e},i)}function VS(t,e,n,i){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var l;if(!n)return null;if(n.errors)t=n.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,f=(o=n)==null?void 0:o.errors;if(f!=null){let v=c.findIndex(w=>w.route.id&&f?.[w.route.id]!==void 0);v>=0||an(!1),c=c.slice(0,Math.min(c.length,v+1))}let p=!1,m=-1;if(n&&i&&i.v7_partialHydration)for(let v=0;v<c.length;v++){let w=c[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=v),w.route.id){let{loaderData:E,errors:x}=n,P=w.route.loader&&E[w.route.id]===void 0&&(!x||x[w.route.id]===void 0);if(w.route.lazy||P){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((v,w,E)=>{let x,P=!1,L=null,k=null;n&&(x=f&&w.route.id?f[w.route.id]:void 0,L=w.route.errorElement||kS,p&&(m<0&&E===0?(FS("route-fallback"),P=!0,k=null):m===E&&(P=!0,k=w.route.hydrateFallbackElement||null)));let H=e.concat(c.slice(0,E+1)),X=()=>{let J;return x?J=L:P?J=k:w.route.Component?J=fe.createElement(w.route.Component,null):w.route.element?J=w.route.element:J=v,fe.createElement(DS,{match:w,routeContext:{outlet:v,matches:H,isDataRoute:n!=null},children:J})};return n&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?fe.createElement(NS,{location:n.location,revalidation:n.revalidation,component:L,error:x,children:X(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):X()},null)}var E_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(E_||{});function bS(t){let e=fe.useContext(CS);return e||an(!1),e}function MS(t){let e=fe.useContext(Jc);return e||an(!1),e}function OS(t){let e=MS(),n=e.matches[e.matches.length-1];return n.route.id||an(!1),n.route.id}function LS(){var t;let e=fe.useContext(__),n=bS(E_.UseRouteError),i=OS();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}const Hy={};function FS(t,e,n){Hy[t]||(Hy[t]=!0)}function jS(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Ed(t){an(!1)}function zS(t){let{basename:e="/",children:n=null,location:i,navigationType:o=wi.Pop,navigator:l,static:c=!1,future:f}=t;Tp()&&an(!1);let p=e.replace(/^\/*/,"/"),m=fe.useMemo(()=>({basename:p,navigator:l,static:c,future:Ec({v7_relativeSplatPath:!1},f)}),[p,f,l,c]);typeof i=="string"&&(i=Yc(i));let{pathname:v="/",search:w="",hash:E="",state:x=null,key:P="default"}=i,L=fe.useMemo(()=>{let k=g_(v,p);return k==null?null:{location:{pathname:k,search:w,hash:E,state:x,key:P},navigationType:o}},[p,v,w,E,x,P,o]);return L==null?null:fe.createElement(v_.Provider,{value:m},fe.createElement(Xc.Provider,{children:n,value:L}))}function US(t){let{children:e,location:n}=t;return AS(Td(e),n)}new Promise(()=>{});function Td(t,e){e===void 0&&(e=[]);let n=[];return fe.Children.forEach(t,(i,o)=>{if(!fe.isValidElement(i))return;let l=[...e,o];if(i.type===fe.Fragment){n.push.apply(n,Td(i.props.children,l));return}i.type!==Ed&&an(!1),!i.props.index||!i.props.children||an(!1);let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Td(i.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const $S="6";try{window.__reactRouterVersion=$S}catch{}const BS="startTransition",Qy=tS[BS];function qS(t){let{basename:e,children:n,future:i,window:o}=t,l=fe.useRef();l.current==null&&(l.current=iS({window:o,v5Compat:!0}));let c=l.current,[f,p]=fe.useState({action:c.action,location:c.location}),{v7_startTransition:m}=i||{},v=fe.useCallback(w=>{m&&Qy?Qy(()=>p(w)):p(w)},[p,m]);return fe.useLayoutEffect(()=>c.listen(v),[c,v]),fe.useEffect(()=>jS(i),[i]),fe.createElement(zS,{basename:e,children:n,location:f.location,navigationType:f.action,navigator:c,future:i})}var Gy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gy||(Gy={}));var Wy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Wy||(Wy={}));const HS=()=>{};var Ky={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},QS=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],f=t[n++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},S_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,f=c?t[o+1]:0,p=o+2<t.length,m=p?t[o+2]:0,v=l>>2,w=(l&3)<<4|f>>4;let E=(f&15)<<2|m>>6,x=m&63;p||(x=64,c||(E=64)),i.push(n[v],n[w],n[E],n[x])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(T_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const w=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||f==null||m==null||w==null)throw new GS;const E=l<<2|f>>4;if(i.push(E),m!==64){const x=f<<4&240|m>>2;if(i.push(x),w!==64){const P=m<<6&192|w;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WS=function(t){const e=T_(t);return S_.encodeByteArray(e,!0)},Tc=function(t){return WS(t).replace(/\./g,"")},KS=function(t){try{return S_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=()=>YS().__FIREBASE_DEFAULTS__,JS=()=>{if(typeof process>"u"||typeof Ky>"u")return;const t=Ky.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KS(t[1]);return e&&JSON.parse(e)},Sp=()=>{try{return HS()||XS()||JS()||ZS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ex=t=>Sp()?.emulatorHosts?.[t],tx=t=>{const e=ex(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},x_=()=>Sp()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Tc(JSON.stringify(n)),Tc(JSON.stringify(c)),""].join(".")}const tl={};function sx(){const t={prod:[],emulator:[]};for(const e of Object.keys(tl))tl[e]?t.emulator.push(e):t.prod.push(e);return t}function ox(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Yy=!1;function ax(t,e){if(typeof window>"u"||typeof document>"u"||!xp(window.location.host)||tl[t]===e||tl[t]||Yy)return;tl[t]=e;function n(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=sx().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Yy=!0,c()},E}function v(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=ox(i),x=n("text"),P=document.getElementById(x)||document.createElement("span"),L=n("learnmore"),k=document.getElementById(L)||document.createElement("a"),H=n("preprendIcon"),X=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const J=E.element;f(J),v(k,L);const Z=m();p(X,H),J.append(X,P,k,Z),document.body.appendChild(J)}l?(P.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ux(){const t=Sp()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I_(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cx(){return!ux()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ip(){try{return typeof indexedDB=="object"}catch{return!1}}function Cp(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function C_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="FirebaseError";class Vi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=hx,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zc.prototype.create)}}class Zc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?fx(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new Vi(o,f,i)}}function fx(t,e){return t.replace(dx,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const dx=/\{\$([^}]+)}/g;function cl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],c=e[o];if(Xy(l)&&Xy(c)){if(!cl(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Xy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=1e3,mx=2,gx=14400*1e3,yx=.5;function Jy(t,e=px,n=mx){const i=e*Math.pow(n,t),o=Math.round(yx*i*(Math.random()-.5)*2);return Math.min(gx,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t){return t&&t._delegate?t._delegate:t}class qr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new nx;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wx(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_x(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _x(t){return t===us?void 0:t}function wx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const Tx={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Sx=Le.INFO,xx={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},Ix=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=xx[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=Sx,this._logHandler=Ix,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const Cx=(t,e)=>e.some(n=>t instanceof n);let Zy,e0;function Ax(){return Zy||(Zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rx(){return e0||(e0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A_=new WeakMap,Sd=new WeakMap,R_=new WeakMap,Jf=new WeakMap,Rp=new WeakMap;function Px(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Si(t.result)),o()},c=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&A_.set(n,t)}).catch(()=>{}),Rp.set(e,t),e}function kx(t){if(Sd.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Sd.set(t,e)}let xd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||R_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Nx(t){xd=t(xd)}function Dx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Zf(this),e,...n);return R_.set(i,e.sort?e.sort():[e]),Si(i)}:Rx().includes(t)?function(...e){return t.apply(Zf(this),e),Si(A_.get(this))}:function(...e){return Si(t.apply(Zf(this),e))}}function Vx(t){return typeof t=="function"?Dx(t):(t instanceof IDBTransaction&&kx(t),Cx(t,Ax())?new Proxy(t,xd):t)}function Si(t){if(t instanceof IDBRequest)return Px(t);if(Jf.has(t))return Jf.get(t);const e=Vx(t);return e!==t&&(Jf.set(t,e),Rp.set(e,t)),e}const Zf=t=>Rp.get(t);function P_(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),f=Si(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Si(c.result),p.oldVersion,p.newVersion,Si(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const bx=["get","getKey","getAll","getAllKeys","count"],Mx=["put","add","delete","clear"],ed=new Map;function t0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ed.get(e))return ed.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=Mx.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||bx.includes(n)))return;const l=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),o&&p.done]))[0]};return ed.set(e,l),l}Nx(t=>({...t,get:(e,n,i)=>t0(e,n)||t.get(e,n,i),has:(e,n)=>!!t0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Lx(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Lx(t){return t.getComponent()?.type==="VERSION"}const Id="@firebase/app",n0="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new Ap("@firebase/app"),Fx="@firebase/app-compat",jx="@firebase/analytics-compat",zx="@firebase/analytics",Ux="@firebase/app-check-compat",$x="@firebase/app-check",Bx="@firebase/auth",qx="@firebase/auth-compat",Hx="@firebase/database",Qx="@firebase/data-connect",Gx="@firebase/database-compat",Wx="@firebase/functions",Kx="@firebase/functions-compat",Yx="@firebase/installations",Xx="@firebase/installations-compat",Jx="@firebase/messaging",Zx="@firebase/messaging-compat",eI="@firebase/performance",tI="@firebase/performance-compat",nI="@firebase/remote-config",rI="@firebase/remote-config-compat",iI="@firebase/storage",sI="@firebase/storage-compat",oI="@firebase/firestore",aI="@firebase/ai",lI="@firebase/firestore-compat",uI="firebase",cI="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="[DEFAULT]",hI={[Id]:"fire-core",[Fx]:"fire-core-compat",[zx]:"fire-analytics",[jx]:"fire-analytics-compat",[$x]:"fire-app-check",[Ux]:"fire-app-check-compat",[Bx]:"fire-auth",[qx]:"fire-auth-compat",[Hx]:"fire-rtdb",[Qx]:"fire-data-connect",[Gx]:"fire-rtdb-compat",[Wx]:"fire-fn",[Kx]:"fire-fn-compat",[Yx]:"fire-iid",[Xx]:"fire-iid-compat",[Jx]:"fire-fcm",[Zx]:"fire-fcm-compat",[eI]:"fire-perf",[tI]:"fire-perf-compat",[nI]:"fire-rc",[rI]:"fire-rc-compat",[iI]:"fire-gcs",[sI]:"fire-gcs-compat",[oI]:"fire-fst",[lI]:"fire-fst-compat",[aI]:"fire-vertex","fire-js":"fire-js",[uI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,fI=new Map,Ad=new Map;function r0(t,e){try{t.container.addComponent(e)}catch(n){Hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ci(t){const e=t.name;if(Ad.has(e))return Hr.debug(`There were multiple attempts to register component ${e}.`),!1;Ad.set(e,t);for(const n of Sc.values())r0(n,t);for(const n of fI.values())r0(n,t);return!0}function Il(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dI(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new Zc("app","Firebase",pI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=cI;function k_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Cd,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw xi.create("bad-app-name",{appName:String(o)});if(n||(n=x_()),!n)throw xi.create("no-options");const l=Sc.get(o);if(l){if(cl(n,l.options)&&cl(i,l.config))return l;throw xi.create("duplicate-app",{appName:o})}const c=new Ex(o);for(const p of Ad.values())c.addComponent(p);const f=new mI(n,i,c);return Sc.set(o,f),f}function N_(t=Cd){const e=Sc.get(t);if(!e&&t===Cd&&x_())return k_();if(!e)throw xi.create("no-app",{appName:t});return e}function pr(t,e,n){let i=hI[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hr.warn(c.join(" "));return}Ci(new qr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="firebase-heartbeat-database",vI=1,hl="firebase-heartbeat-store";let td=null;function D_(){return td||(td=P_(yI,vI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hl)}catch(n){console.warn(n)}}}}).catch(t=>{throw xi.create("idb-open",{originalErrorMessage:t.message})})),td}async function _I(t){try{const n=(await D_()).transaction(hl),i=await n.objectStore(hl).get(V_(t));return await n.done,i}catch(e){if(e instanceof Vi)Hr.warn(e.message);else{const n=xi.create("idb-get",{originalErrorMessage:e?.message});Hr.warn(n.message)}}}async function i0(t,e){try{const i=(await D_()).transaction(hl,"readwrite");await i.objectStore(hl).put(e,V_(t)),await i.done}catch(n){if(n instanceof Vi)Hr.warn(n.message);else{const i=xi.create("idb-set",{originalErrorMessage:n?.message});Hr.warn(i.message)}}}function V_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=1024,EI=30;class TI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=s0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>EI){const o=II(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Hr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=s0(),{heartbeatsToSend:n,unsentEntries:i}=SI(this._heartbeatsCache.heartbeats),o=Tc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Hr.warn(e),""}}}function s0(){return new Date().toISOString().substring(0,10)}function SI(t,e=wI){const n=[];let i=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),o0(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),o0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class xI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ip()?Cp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _I(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return i0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return i0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function o0(t){return Tc(JSON.stringify({version:2,heartbeats:t})).length}function II(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){Ci(new qr("platform-logger",e=>new Ox(e),"PRIVATE")),Ci(new qr("heartbeat",e=>new TI(e),"PRIVATE")),pr(Id,n0,t),pr(Id,n0,"esm2020"),pr("fire-js","")}CI("");var a0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ii,b_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function C(){}C.prototype=I.prototype,D.D=I.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(V,N,j){for(var A=Array(arguments.length-2),z=2;z<arguments.length;z++)A[z-2]=arguments[z];return I.prototype[N].apply(V,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,I,C){C||(C=0);var V=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)V[N]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(N=0;16>N;++N)V[N]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=D.g[0],C=D.g[1],N=D.g[2];var j=D.g[3],A=I+(j^C&(N^j))+V[0]+3614090360&4294967295;I=C+(A<<7&4294967295|A>>>25),A=j+(N^I&(C^N))+V[1]+3905402710&4294967295,j=I+(A<<12&4294967295|A>>>20),A=N+(C^j&(I^C))+V[2]+606105819&4294967295,N=j+(A<<17&4294967295|A>>>15),A=C+(I^N&(j^I))+V[3]+3250441966&4294967295,C=N+(A<<22&4294967295|A>>>10),A=I+(j^C&(N^j))+V[4]+4118548399&4294967295,I=C+(A<<7&4294967295|A>>>25),A=j+(N^I&(C^N))+V[5]+1200080426&4294967295,j=I+(A<<12&4294967295|A>>>20),A=N+(C^j&(I^C))+V[6]+2821735955&4294967295,N=j+(A<<17&4294967295|A>>>15),A=C+(I^N&(j^I))+V[7]+4249261313&4294967295,C=N+(A<<22&4294967295|A>>>10),A=I+(j^C&(N^j))+V[8]+1770035416&4294967295,I=C+(A<<7&4294967295|A>>>25),A=j+(N^I&(C^N))+V[9]+2336552879&4294967295,j=I+(A<<12&4294967295|A>>>20),A=N+(C^j&(I^C))+V[10]+4294925233&4294967295,N=j+(A<<17&4294967295|A>>>15),A=C+(I^N&(j^I))+V[11]+2304563134&4294967295,C=N+(A<<22&4294967295|A>>>10),A=I+(j^C&(N^j))+V[12]+1804603682&4294967295,I=C+(A<<7&4294967295|A>>>25),A=j+(N^I&(C^N))+V[13]+4254626195&4294967295,j=I+(A<<12&4294967295|A>>>20),A=N+(C^j&(I^C))+V[14]+2792965006&4294967295,N=j+(A<<17&4294967295|A>>>15),A=C+(I^N&(j^I))+V[15]+1236535329&4294967295,C=N+(A<<22&4294967295|A>>>10),A=I+(N^j&(C^N))+V[1]+4129170786&4294967295,I=C+(A<<5&4294967295|A>>>27),A=j+(C^N&(I^C))+V[6]+3225465664&4294967295,j=I+(A<<9&4294967295|A>>>23),A=N+(I^C&(j^I))+V[11]+643717713&4294967295,N=j+(A<<14&4294967295|A>>>18),A=C+(j^I&(N^j))+V[0]+3921069994&4294967295,C=N+(A<<20&4294967295|A>>>12),A=I+(N^j&(C^N))+V[5]+3593408605&4294967295,I=C+(A<<5&4294967295|A>>>27),A=j+(C^N&(I^C))+V[10]+38016083&4294967295,j=I+(A<<9&4294967295|A>>>23),A=N+(I^C&(j^I))+V[15]+3634488961&4294967295,N=j+(A<<14&4294967295|A>>>18),A=C+(j^I&(N^j))+V[4]+3889429448&4294967295,C=N+(A<<20&4294967295|A>>>12),A=I+(N^j&(C^N))+V[9]+568446438&4294967295,I=C+(A<<5&4294967295|A>>>27),A=j+(C^N&(I^C))+V[14]+3275163606&4294967295,j=I+(A<<9&4294967295|A>>>23),A=N+(I^C&(j^I))+V[3]+4107603335&4294967295,N=j+(A<<14&4294967295|A>>>18),A=C+(j^I&(N^j))+V[8]+1163531501&4294967295,C=N+(A<<20&4294967295|A>>>12),A=I+(N^j&(C^N))+V[13]+2850285829&4294967295,I=C+(A<<5&4294967295|A>>>27),A=j+(C^N&(I^C))+V[2]+4243563512&4294967295,j=I+(A<<9&4294967295|A>>>23),A=N+(I^C&(j^I))+V[7]+1735328473&4294967295,N=j+(A<<14&4294967295|A>>>18),A=C+(j^I&(N^j))+V[12]+2368359562&4294967295,C=N+(A<<20&4294967295|A>>>12),A=I+(C^N^j)+V[5]+4294588738&4294967295,I=C+(A<<4&4294967295|A>>>28),A=j+(I^C^N)+V[8]+2272392833&4294967295,j=I+(A<<11&4294967295|A>>>21),A=N+(j^I^C)+V[11]+1839030562&4294967295,N=j+(A<<16&4294967295|A>>>16),A=C+(N^j^I)+V[14]+4259657740&4294967295,C=N+(A<<23&4294967295|A>>>9),A=I+(C^N^j)+V[1]+2763975236&4294967295,I=C+(A<<4&4294967295|A>>>28),A=j+(I^C^N)+V[4]+1272893353&4294967295,j=I+(A<<11&4294967295|A>>>21),A=N+(j^I^C)+V[7]+4139469664&4294967295,N=j+(A<<16&4294967295|A>>>16),A=C+(N^j^I)+V[10]+3200236656&4294967295,C=N+(A<<23&4294967295|A>>>9),A=I+(C^N^j)+V[13]+681279174&4294967295,I=C+(A<<4&4294967295|A>>>28),A=j+(I^C^N)+V[0]+3936430074&4294967295,j=I+(A<<11&4294967295|A>>>21),A=N+(j^I^C)+V[3]+3572445317&4294967295,N=j+(A<<16&4294967295|A>>>16),A=C+(N^j^I)+V[6]+76029189&4294967295,C=N+(A<<23&4294967295|A>>>9),A=I+(C^N^j)+V[9]+3654602809&4294967295,I=C+(A<<4&4294967295|A>>>28),A=j+(I^C^N)+V[12]+3873151461&4294967295,j=I+(A<<11&4294967295|A>>>21),A=N+(j^I^C)+V[15]+530742520&4294967295,N=j+(A<<16&4294967295|A>>>16),A=C+(N^j^I)+V[2]+3299628645&4294967295,C=N+(A<<23&4294967295|A>>>9),A=I+(N^(C|~j))+V[0]+4096336452&4294967295,I=C+(A<<6&4294967295|A>>>26),A=j+(C^(I|~N))+V[7]+1126891415&4294967295,j=I+(A<<10&4294967295|A>>>22),A=N+(I^(j|~C))+V[14]+2878612391&4294967295,N=j+(A<<15&4294967295|A>>>17),A=C+(j^(N|~I))+V[5]+4237533241&4294967295,C=N+(A<<21&4294967295|A>>>11),A=I+(N^(C|~j))+V[12]+1700485571&4294967295,I=C+(A<<6&4294967295|A>>>26),A=j+(C^(I|~N))+V[3]+2399980690&4294967295,j=I+(A<<10&4294967295|A>>>22),A=N+(I^(j|~C))+V[10]+4293915773&4294967295,N=j+(A<<15&4294967295|A>>>17),A=C+(j^(N|~I))+V[1]+2240044497&4294967295,C=N+(A<<21&4294967295|A>>>11),A=I+(N^(C|~j))+V[8]+1873313359&4294967295,I=C+(A<<6&4294967295|A>>>26),A=j+(C^(I|~N))+V[15]+4264355552&4294967295,j=I+(A<<10&4294967295|A>>>22),A=N+(I^(j|~C))+V[6]+2734768916&4294967295,N=j+(A<<15&4294967295|A>>>17),A=C+(j^(N|~I))+V[13]+1309151649&4294967295,C=N+(A<<21&4294967295|A>>>11),A=I+(N^(C|~j))+V[4]+4149444226&4294967295,I=C+(A<<6&4294967295|A>>>26),A=j+(C^(I|~N))+V[11]+3174756917&4294967295,j=I+(A<<10&4294967295|A>>>22),A=N+(I^(j|~C))+V[2]+718787259&4294967295,N=j+(A<<15&4294967295|A>>>17),A=C+(j^(N|~I))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+j&4294967295}i.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var C=I-this.blockSize,V=this.B,N=this.h,j=0;j<I;){if(N==0)for(;j<=C;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<I;)if(V[N++]=D.charCodeAt(j++),N==this.blockSize){o(this,V),N=0;break}}else for(;j<I;)if(V[N++]=D[j++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=I},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var C=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=C&255,C/=256;for(this.u(D),D=Array(16),I=C=0;4>I;++I)for(var V=0;32>V;V+=8)D[C++]=this.g[I]>>>V&255;return D};function l(D,I){var C=f;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=I(D)}function c(D,I){this.h=I;for(var C=[],V=!0,N=D.length-1;0<=N;N--){var j=D[N]|0;V&&j==I||(C[N]=j,V=!1)}this.g=C}var f={};function p(D){return-128<=D&&128>D?l(D,function(I){return new c([I|0],0>I?-1:0)}):new c([D|0],0>D?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return k(m(-D));for(var I=[],C=1,V=0;D>=C;V++)I[V]=D/C|0,C*=4294967296;return new c(I,0)}function v(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return k(v(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(I,8)),V=w,N=0;N<D.length;N+=8){var j=Math.min(8,D.length-N),A=parseInt(D.substring(N,N+j),I);8>j?(j=m(Math.pow(I,j)),V=V.j(j).add(m(A))):(V=V.j(C),V=V.add(m(A)))}return V}var w=p(0),E=p(1),x=p(16777216);t=c.prototype,t.m=function(){if(L(this))return-k(this).m();for(var D=0,I=1,C=0;C<this.g.length;C++){var V=this.i(C);D+=(0<=V?V:4294967296+V)*I,I*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(P(this))return"0";if(L(this))return"-"+k(this).toString(D);for(var I=m(Math.pow(D,6)),C=this,V="";;){var N=Z(C,I).g;C=H(C,N.j(I));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=N,P(C))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function P(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function L(D){return D.h==-1}t.l=function(D){return D=H(this,D),L(D)?-1:P(D)?0:1};function k(D){for(var I=D.g.length,C=[],V=0;V<I;V++)C[V]=~D.g[V];return new c(C,~D.h).add(E)}t.abs=function(){return L(this)?k(this):this},t.add=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],V=0,N=0;N<=I;N++){var j=V+(this.i(N)&65535)+(D.i(N)&65535),A=(j>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);V=A>>>16,j&=65535,A&=65535,C[N]=A<<16|j}return new c(C,C[C.length-1]&-2147483648?-1:0)};function H(D,I){return D.add(k(I))}t.j=function(D){if(P(this)||P(D))return w;if(L(this))return L(D)?k(this).j(k(D)):k(k(this).j(D));if(L(D))return k(this.j(k(D)));if(0>this.l(x)&&0>D.l(x))return m(this.m()*D.m());for(var I=this.g.length+D.g.length,C=[],V=0;V<2*I;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<D.g.length;N++){var j=this.i(V)>>>16,A=this.i(V)&65535,z=D.i(N)>>>16,U=D.i(N)&65535;C[2*V+2*N]+=A*U,X(C,2*V+2*N),C[2*V+2*N+1]+=j*U,X(C,2*V+2*N+1),C[2*V+2*N+1]+=A*z,X(C,2*V+2*N+1),C[2*V+2*N+2]+=j*z,X(C,2*V+2*N+2)}for(V=0;V<I;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=I;V<2*I;V++)C[V]=0;return new c(C,0)};function X(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function J(D,I){this.g=D,this.h=I}function Z(D,I){if(P(I))throw Error("division by zero");if(P(D))return new J(w,w);if(L(D))return I=Z(k(D),I),new J(k(I.g),k(I.h));if(L(I))return I=Z(D,k(I)),new J(k(I.g),I.h);if(30<D.g.length){if(L(D)||L(I))throw Error("slowDivide_ only works with positive integers.");for(var C=E,V=I;0>=V.l(D);)C=le(C),V=le(V);var N=ce(C,1),j=ce(V,1);for(V=ce(V,2),C=ce(C,2);!P(V);){var A=j.add(V);0>=A.l(D)&&(N=N.add(C),j=A),V=ce(V,1),C=ce(C,1)}return I=H(D,N.j(I)),new J(N,I)}for(N=w;0<=D.l(I);){for(C=Math.max(1,Math.floor(D.m()/I.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=m(C),A=j.j(I);L(A)||0<A.l(D);)C-=V,j=m(C),A=j.j(I);P(j)&&(j=E),N=N.add(j),D=H(D,A)}return new J(N,D)}t.A=function(D){return Z(this,D).h},t.and=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],V=0;V<I;V++)C[V]=this.i(V)&D.i(V);return new c(C,this.h&D.h)},t.or=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],V=0;V<I;V++)C[V]=this.i(V)|D.i(V);return new c(C,this.h|D.h)},t.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],V=0;V<I;V++)C[V]=this.i(V)^D.i(V);return new c(C,this.h^D.h)};function le(D){for(var I=D.g.length+1,C=[],V=0;V<I;V++)C[V]=D.i(V)<<1|D.i(V-1)>>>31;return new c(C,D.h)}function ce(D,I){var C=I>>5;I%=32;for(var V=D.g.length-C,N=[],j=0;j<V;j++)N[j]=0<I?D.i(j+C)>>>I|D.i(j+C+1)<<32-I:D.i(j+C);return new c(N,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,b_=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,Ii=c}).apply(typeof a0<"u"?a0:typeof self<"u"?self:typeof window<"u"?window:{});var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var M_,Ha,O_,uc,Rd,L_,F_,j_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ku=="object"&&Ku];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(u,g){if(g)e:{var _=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var $=u[S];if(!($ in _))break e;_=_[$]}u=u[u.length-1],S=_[u],g=g(S),g!=S&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function l(u,g){u instanceof String&&(u+="");var _=0,S=!1,$={next:function(){if(!S&&_<u.length){var K=_++;return{value:g(K,u[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(u){return u||function(){return l(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function v(u,g,_){return u.call.apply(u.bind,arguments)}function w(u,g,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,S),u.apply(g,$)}}return function(){return u.apply(g,arguments)}}function E(u,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,E.apply(null,arguments)}function x(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function P(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,$,K){for(var he=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)he[qe-2]=arguments[qe];return g.prototype[$].apply(S,he)}}function L(u){const g=u.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=u[S];return _}return[]}function k(u,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const $=u.length||0,K=S.length||0;u.length=$+K;for(let he=0;he<K;he++)u[$+he]=S[he]}else u.push(S)}}class H{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function X(u){return/^[\s\xa0]*$/.test(u)}function J(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function Z(u){return Z[" "](u),u}Z[" "]=function(){};var le=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function ce(u,g,_){for(const S in u)g.call(_,u[S],S,u)}function D(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function I(u){const g={};for(const _ in u)g[_]=u[_];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,g){let _,S;for(let $=1;$<arguments.length;$++){S=arguments[$];for(_ in S)u[_]=S[_];for(let K=0;K<C.length;K++)_=C[K],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function N(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function j(u){f.setTimeout(()=>{throw u},0)}function A(){var u=ne;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class z{constructor(){this.h=this.g=null}add(g,_){const S=U.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var U=new H(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Y=!1,ne=new z,ee=()=>{const u=f.Promise.resolve(void 0);ie=()=>{u.then(O)}};var O=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(_){j(_)}var g=U;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}Y=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return u}();function Te(u,g){if(de.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(le){e:{try{Z(g.nodeName);var $=!0;break e}catch{}$=!1}$||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ae[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Te.aa.h.call(this)}}P(Te,de);var Ae={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function Be(u,g,_,S,$){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=$,this.key=++Ne,this.da=this.fa=!1}function St(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Tr(u){this.src=u,this.g={},this.h=0}Tr.prototype.add=function(u,g,_,S,$){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var he=Wr(u,g,S,$);return-1<he?(g=u[he],_||(g.fa=!1)):(g=new Be(g,this.src,K,!!S,$),g.fa=_,u.push(g)),g};function Is(u,g){var _=g.type;if(_ in u.g){var S=u.g[_],$=Array.prototype.indexOf.call(S,g,void 0),K;(K=0<=$)&&Array.prototype.splice.call(S,$,1),K&&(St(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Wr(u,g,_,S){for(var $=0;$<u.length;++$){var K=u[$];if(!K.da&&K.listener==g&&K.capture==!!_&&K.ha==S)return $}return-1}var bi="closure_lm_"+(1e6*Math.random()|0),Cs={};function Wo(u,g,_,S,$){if(Array.isArray(g)){for(var K=0;K<g.length;K++)Wo(u,g[K],_,S,$);return null}return _=Xo(_),u&&u[ke]?u.K(g,_,m(S)?!!S.capture:!1,$):Ko(u,g,_,!1,S,$)}function Ko(u,g,_,S,$,K){if(!g)throw Error("Invalid event type");var he=m($)?!!$.capture:!!$,qe=Rs(u);if(qe||(u[bi]=qe=new Tr(u)),_=qe.add(g,_,S,he,K),_.proxy)return _;if(S=Dl(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)_e||($=he),$===void 0&&($=!1),u.addEventListener(g.toString(),S,$);else if(u.attachEvent)u.attachEvent(xr(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Dl(){function u(_){return g.call(u.src,u.listener,_)}const g=Yo;return u}function As(u,g,_,S,$){if(Array.isArray(g))for(var K=0;K<g.length;K++)As(u,g[K],_,S,$);else S=m(S)?!!S.capture:!!S,_=Xo(_),u&&u[ke]?(u=u.i,g=String(g).toString(),g in u.g&&(K=u.g[g],_=Wr(K,_,S,$),-1<_&&(St(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete u.g[g],u.h--)))):u&&(u=Rs(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Wr(g,_,S,$)),(_=-1<u?g[u]:null)&&Sr(_))}function Sr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ke])Is(g.i,u);else{var _=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(_,S,u.capture):g.detachEvent?g.detachEvent(xr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Rs(g))?(Is(_,u),_.h==0&&(_.src=null,g[bi]=null)):St(u)}}}function xr(u){return u in Cs?Cs[u]:Cs[u]="on"+u}function Yo(u,g){if(u.da)u=!0;else{g=new Te(g,this);var _=u.listener,S=u.ha||u.src;u.fa&&Sr(u),u=_.call(S,g)}return u}function Rs(u){return u=u[bi],u instanceof Tr?u:null}var Ps="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xo(u){return typeof u=="function"?u:(u[Ps]||(u[Ps]=function(g){return u.handleEvent(g)}),u[Ps])}function yt(){W.call(this),this.i=new Tr(this),this.M=this,this.F=null}P(yt,W),yt.prototype[ke]=!0,yt.prototype.removeEventListener=function(u,g,_,S){As(this,u,g,_,S)};function vt(u,g){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new de(g,u);else if(g instanceof de)g.target=g.target||u;else{var $=g;g=new de(S,u),V(g,$)}if($=!0,_)for(var K=_.length-1;0<=K;K--){var he=g.g=_[K];$=Ir(he,S,!0,g)&&$}if(he=g.g=u,$=Ir(he,S,!0,g)&&$,$=Ir(he,S,!1,g)&&$,_)for(K=0;K<_.length;K++)he=g.g=_[K],$=Ir(he,S,!1,g)&&$}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],S=0;S<_.length;S++)St(_[S]);delete u.g[g],u.h--}}this.F=null},yt.prototype.K=function(u,g,_,S){return this.i.add(String(u),g,!1,_,S)},yt.prototype.L=function(u,g,_,S){return this.i.add(String(u),g,!0,_,S)};function Ir(u,g,_,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var $=!0,K=0;K<g.length;++K){var he=g[K];if(he&&!he.da&&he.capture==_){var qe=he.listener,_t=he.ha||he.src;he.fa&&Is(u.i,he),$=qe.call(_t,S)!==!1&&$}}return $&&!S.defaultPrevented}function Jo(u,g,_){if(typeof u=="function")_&&(u=E(u,_));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(u,g||0)}function Kr(u){u.g=Jo(()=>{u.g=null,u.i&&(u.i=!1,Kr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Mi extends W{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Kr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oi(u){W.call(this),this.h=u,this.g={}}P(Oi,W);var Zo=[];function ea(u){ce(u.g,function(g,_){this.g.hasOwnProperty(_)&&Sr(g)},u),u.g={}}Oi.prototype.N=function(){Oi.aa.N.call(this),ea(this)},Oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ta=f.JSON.stringify,na=f.JSON.parse,ra=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Li(){}Li.prototype.h=null;function ks(u){return u.h||(u.h=u.i())}function Ns(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zn(){de.call(this,"d")}P(Zn,de);function Ds(){de.call(this,"c")}P(Ds,de);var er={},ia=null;function Fi(){return ia=ia||new yt}er.La="serverreachability";function sa(u){de.call(this,er.La,u)}P(sa,de);function Cr(u){const g=Fi();vt(g,new sa(g))}er.STAT_EVENT="statevent";function oa(u,g){de.call(this,er.STAT_EVENT,u),this.stat=g}P(oa,de);function ot(u){const g=Fi();vt(g,new oa(g,u))}er.Ma="timingevent";function Vs(u,g){de.call(this,er.Ma,u),this.size=g}P(Vs,de);function bn(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},g)}function ji(){this.g=!0}ji.prototype.xa=function(){this.g=!1};function zi(u,g,_,S,$,K){u.info(function(){if(u.g)if(K)for(var he="",qe=K.split("&"),_t=0;_t<qe.length;_t++){var Me=qe[_t].split("=");if(1<Me.length){var xt=Me[0];Me=Me[1];var ft=xt.split("_");he=2<=ft.length&&ft[1]=="type"?he+(xt+"="+Me+"&"):he+(xt+"=redacted&")}}else he=null;else he=K;return"XMLHTTP REQ ("+S+") [attempt "+$+"]: "+g+`
`+_+`
`+he})}function bs(u,g,_,S,$,K,he){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+$+"]: "+g+`
`+_+`
`+K+" "+he})}function Mn(u,g,_,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+_h(u,_)+(S?" "+S:"")})}function aa(u,g){u.info(function(){return"TIMEOUT: "+g})}ji.prototype.info=function(){};function _h(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var $=S[1];if(Array.isArray($)&&!(1>$.length)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(var he=1;he<$.length;he++)$[he]=""}}}}return ta(_)}catch{return g}}var Ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function Ui(){}P(Ui,Li),Ui.prototype.g=function(){return new XMLHttpRequest},Ui.prototype.i=function(){return{}},On=new Ui;function Ln(u,g,_,S){this.j=u,this.i=g,this.l=_,this.R=S||1,this.U=new Oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bl}function bl(){this.i=null,this.g="",this.h=!1}var la={},Os={};function Ls(u,g,_){u.L=1,u.v=ei(un(g)),u.m=_,u.P=!0,ua(u,null)}function ua(u,g){u.F=Date.now(),Ge(u),u.A=un(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),ni(_.i,"t",S),u.C=0,_=u.j.J,u.h=new bl,u.g=Jl(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Mi(E(u.Y,u,u.g),u.O)),g=u.U,_=u.g,S=u.ca;var $="readystatechange";Array.isArray($)||($&&(Zo[0]=$.toString()),$=Zo);for(var K=0;K<$.length;K++){var he=Wo(_,$[K],S||g.handleEvent,!1,g.h||g);if(!he)break;g.g[he.key]=he}g=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Cr(),zi(u.i,u.u,u.A,u.l,u.R,u.m)}Ln.prototype.ca=function(u){u=u.target;const g=this.M;g&&Yt(u)==3?g.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)e:{const ft=Yt(this.g);var g=this.g.Ba();const Tn=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||ma(this.g)))){this.J||ft!=4||g==7||(g==8||0>=Tn?Cr(3):Cr(2)),$i(this);var _=this.g.Z();this.X=_;t:if(Ml(this)){var S=ma(this.g);u="";var $=S.length,K=Yt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),Yr(this);var he="";break t}this.h.i=new f.TextDecoder}for(g=0;g<$;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(K&&g==$-1)});S.length=0,this.h.g+=u,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,bs(this.i,this.u,this.A,this.l,this.R,ft,_),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,_t=this.g;if((qe=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(qe)){var Me=qe;break t}}Me=null}if(_=Me)Mn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ca(this,_);else{this.o=!1,this.s=3,ot(12),wn(this),Yr(this);break e}}if(this.P){_=!0;let hn;for(;!this.J&&this.C<he.length;)if(hn=wh(this,he),hn==Os){ft==4&&(this.s=4,ot(14),_=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==la){this.s=4,ot(15),Mn(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else Mn(this.i,this.l,hn,null),ca(this,hn);if(Ml(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||he.length!=0||this.h.h||(this.s=1,ot(16),_=!1),this.o=this.o&&_,!_)Mn(this.i,this.l,he,"[Invalid Chunked Response]"),wn(this),Yr(this);else if(0<he.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),ya(xt),xt.M=!0,ot(11))}}else Mn(this.i,this.l,he,null),ca(this,he);ft==4&&wn(this),this.o&&!this.J&&(ft==4?Ws(this.j,this):(this.o=!1,Ge(this)))}else Bs(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),wn(this),Yr(this)}}}catch{}finally{}};function Ml(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function wh(u,g){var _=u.C,S=g.indexOf(`
`,_);return S==-1?Os:(_=Number(g.substring(_,S)),isNaN(_)?la:(S+=1,S+_>g.length?Os:(g=g.slice(S,S+_),u.C=S+_,g)))}Ln.prototype.cancel=function(){this.J=!0,wn(this)};function Ge(u){u.S=Date.now()+u.I,Ol(u,u.I)}function Ol(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=bn(E(u.ba,u),g)}function $i(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Ln.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(aa(this.i,this.A),this.L!=2&&(Cr(),ot(17)),wn(this),this.s=2,Yr(this)):Ol(this,this.S-u)};function Yr(u){u.j.G==0||u.J||Ws(u.j,u)}function wn(u){$i(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,ea(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function ca(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||Bt(_.h,u))){if(!u.K&&Bt(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var $=S;if($[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Gs(_),$n(_);else break e;Qs(_),ot(18)}}else _.za=$[1],0<_.za-_.T&&37500>$[2]&&_.F&&_.v==0&&!_.C&&(_.C=bn(E(_.Za,_),6e3));if(1>=Fl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Nr(_,11)}else if((u.K||_.g==u)&&Gs(_),!X(g))for($=_.Da.g.parse(g),g=0;g<$.length;g++){let Me=$[g];if(_.T=Me[0],Me=Me[1],_.G==2)if(Me[0]=="c"){_.K=Me[1],_.ia=Me[2];const xt=Me[3];xt!=null&&(_.la=xt,_.j.info("VER="+_.la));const ft=Me[4];ft!=null&&(_.Aa=ft,_.j.info("SVER="+_.Aa));const Tn=Me[5];Tn!=null&&typeof Tn=="number"&&0<Tn&&(S=1.5*Tn,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const hn=u.g;if(hn){const Ki=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ki){var K=S.h;K.g||Ki.indexOf("spdy")==-1&&Ki.indexOf("quic")==-1&&Ki.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ha(K,K.h),K.h=null))}if(S.D){const Ys=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ys&&(S.ya=Ys,He(S.I,S.D,Ys))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var he=u;if(S.qa=Xl(S,S.J?S.ia:null,S.W),he.K){jl(S.h,he);var qe=he,_t=S.L;_t&&(qe.I=_t),qe.B&&($i(qe),Ge(qe)),S.g=he}else Wi(S);0<_.i.length&&ir(_)}else Me[0]!="stop"&&Me[0]!="close"||Nr(_,7);else _.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Nr(_,7):kt(_):Me[0]!="noop"&&_.l&&_.l.ta(Me),_.v=0)}}Cr(4)}catch{}}var Ll=class{constructor(u,g){this.g=u,this.map=g}};function Bi(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fl(u){return u.h?1:u.g?u.g.size:0}function Bt(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function ha(u,g){u.g?u.g.add(g):u.h=g}function jl(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Bi.prototype.cancel=function(){if(this.i=zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function zl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return L(u.i)}function Fs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],_=u.length,S=0;S<_;S++)g.push(u[S]);return g}g=[],_=0;for(S in u)g[_++]=u[S];return g}function js(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const S in u)g[_++]=S;return g}}}function Xr(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=js(u),S=Fs(u),$=S.length,K=0;K<$;K++)g.call(void 0,S[K],_&&_[K],u)}var qi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eh(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),$=null;if(0<=S){var K=u[_].substring(0,S);$=u[_].substring(S+1)}else K=u[_];g(K,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Ar(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ar){this.h=u.h,Hi(this,u.j),this.o=u.o,this.g=u.g,Jr(this,u.s),this.l=u.l;var g=u.i,_=new tr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Zr(this,_),this.m=u.m}else u&&(g=String(u).match(qi))?(this.h=!1,Hi(this,g[1]||"",!0),this.o=Ve(g[2]||""),this.g=Ve(g[3]||"",!0),Jr(this,g[4]),this.l=Ve(g[5]||"",!0),Zr(this,g[6]||"",!0),this.m=Ve(g[7]||"")):(this.h=!1,this.i=new tr(null,this.h))}Ar.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ti(g,zs,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ti(g,zs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ti(_,_.charAt(0)=="/"?Bl:$l,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ti(_,fa)),u.join("")};function un(u){return new Ar(u)}function Hi(u,g,_){u.j=_?Ve(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Jr(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Zr(u,g,_){g instanceof tr?(u.i=g,nr(u.i,u.h)):(_||(g=ti(g,ql)),u.i=new tr(g,u.h))}function He(u,g,_){u.i.set(g,_)}function ei(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ve(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ti(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Ul),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ul(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var zs=/[#\/\?@]/g,$l=/[#\?:]/g,Bl=/[#\?]/g,ql=/[#\?@]/g,fa=/#/g;function tr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Pt(u){u.g||(u.g=new Map,u.h=0,u.i&&Eh(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=tr.prototype,t.add=function(u,g){Pt(this),this.i=null,u=En(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Fn(u,g){Pt(u),g=En(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function jn(u,g){return Pt(u),g=En(u,g),u.g.has(g)}t.forEach=function(u,g){Pt(this),this.g.forEach(function(_,S){_.forEach(function($){u.call(g,$,S,this)},this)},this)},t.na=function(){Pt(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const $=u[S];for(let K=0;K<$.length;K++)_.push(g[S])}return _},t.V=function(u){Pt(this);let g=[];if(typeof u=="string")jn(this,u)&&(g=g.concat(this.g.get(En(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},t.set=function(u,g){return Pt(this),this.i=null,u=En(this,u),jn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function ni(u,g,_){Fn(u,g),0<_.length&&(u.i=null,u.g.set(En(u,g),L(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const K=encodeURIComponent(String(S)),he=this.V(S);for(S=0;S<he.length;S++){var $=K;he[S]!==""&&($+="="+encodeURIComponent(String(he[S]))),u.push($)}}return this.i=u.join("&")};function En(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function nr(u,g){g&&!u.j&&(Pt(u),u.i=null,u.g.forEach(function(_,S){var $=S.toLowerCase();S!=$&&(Fn(this,S),ni(this,$,_))},u)),u.j=g}function Th(u,g){const _=new ji;if(f.Image){const S=new Image;S.onload=x(Kt,_,"TestLoadImage: loaded",!0,g,S),S.onerror=x(Kt,_,"TestLoadImage: error",!1,g,S),S.onabort=x(Kt,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=x(Kt,_,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function Hl(u,g){const _=new ji,S=new AbortController,$=setTimeout(()=>{S.abort(),Kt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(K=>{clearTimeout($),K.ok?Kt(_,"TestPingServer: ok",!0,g):Kt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout($),Kt(_,"TestPingServer: error",!1,g)})}function Kt(u,g,_,S,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),S(_)}catch{}}function Sh(){this.g=new ra}function Ql(u,g,_){const S=_||"";try{Xr(u,function($,K){let he=$;m($)&&(he=ta($)),g.push(S+K+"="+encodeURIComponent(he))})}catch($){throw g.push(S+"type="+encodeURIComponent("_badmap")),$}}function Rr(u){this.l=u.Ub||null,this.j=u.eb||!1}P(Rr,Li),Rr.prototype.g=function(){return new Qi(this.l,this.j)},Rr.prototype.i=function(u){return function(){return u}}({});function Qi(u,g){yt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Qi,yt),t=Qi.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Un(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?zn(this):Un(this),this.readyState==3&&Gl(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,zn(this))},t.Qa=function(u){this.g&&(this.response=u,zn(this))},t.ga=function(){this.g&&zn(this)};function zn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Un(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Un(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pr(u){let g="";return ce(u,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function ri(u,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Pr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):He(u,g,_))}function Xe(u){yt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Xe,yt);var xh=/^https?$/i,da=["POST","PUT"];t=Xe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?ks(this.o):ks(On),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(K){Gi(this,K);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var $ in S)_.set($,S[$]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),$=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(da,g,void 0))||S||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,he]of _)this.g.setRequestHeader(K,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$s(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){Gi(this,K)}};function Gi(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Us(u),cn(u)}function Us(u){u.A||(u.A=!0,vt(u,"complete"),vt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,vt(this,"complete"),vt(this,"abort"),cn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pa(this):this.bb())},t.bb=function(){pa(this)};function pa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Yt(u)!=4||u.Z()!=2)){if(u.u&&Yt(u)==4)Jo(u.Ea,0,u);else if(vt(u,"readystatechange"),Yt(u)==4){u.h=!1;try{const he=u.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=he===0){var $=String(u.D).match(qi)[1]||null;!$&&f.self&&f.self.location&&($=f.self.location.protocol.slice(0,-1)),S=!xh.test($?$.toLowerCase():"")}_=S}if(_)vt(u,"complete"),vt(u,"success");else{u.m=6;try{var K=2<Yt(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",Us(u)}}finally{cn(u)}}}}function cn(u,g){if(u.g){$s(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||vt(u,"ready");try{_.onreadystatechange=S}catch{}}}function $s(u){u.I&&(f.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Yt(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),na(g)}};function ma(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bs(u){const g={};u=(u.g&&2<=Yt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(X(u[S]))continue;var _=N(u[S]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=g[$]||[];g[$]=K,K.push(_)}D(g,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function ga(u){this.Aa=0,this.i=[],this.j=new ji,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rr("baseRetryDelayMs",5e3,u),this.cb=rr("retryDelaySeedMs",1e4,u),this.Wa=rr("forwardChannelMaxRetries",2,u),this.wa=rr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(u&&u.concurrentRequestLimit),this.Da=new Sh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ga.prototype,t.la=8,t.G=1,t.connect=function(u,g,_,S){ot(0),this.W=u,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Xl(this,null,this.W),ir(this)};function kt(u){if(qs(u),u.G==3){var g=u.U++,_=un(u.I);if(He(_,"SID",u.K),He(_,"RID",g),He(_,"TYPE","terminate"),kr(u,_),g=new Ln(u,u.j,g),g.L=2,g.v=ei(un(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.v,_=!0),_||(g.g=Jl(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ge(g)}Yl(u)}function $n(u){u.g&&(ya(u),u.g.cancel(),u.g=null)}function qs(u){$n(u),u.u&&(f.clearTimeout(u.u),u.u=null),Gs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function ir(u){if(!ln(u.h)&&!u.s){u.s=!0;var g=u.Ga;ie||ee(),Y||(ie(),Y=!0),ne.add(g,u),u.B=0}}function Ih(u,g){return Fl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=bn(E(u.Ga,u,g),Kl(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const $=new Ln(this,this.j,u);let K=this.o;if(this.S&&(K?(K=I(K),V(K,this.S)):K=this.S),this.m!==null||this.O||($.H=K,K=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ii(this,$,g),_=un(this.I),He(_,"RID",u),He(_,"CVER",22),this.D&&He(_,"X-HTTP-Session-Id",this.D),kr(this,_),K&&(this.O?g="headers="+encodeURIComponent(String(Pr(K)))+"&"+g:this.m&&ri(_,this.m,K)),ha(this.h,$),this.Ua&&He(_,"TYPE","init"),this.P?(He(_,"$req",g),He(_,"SID","null"),$.T=!0,Ls($,_,null)):Ls($,_,g),this.G=2}}else this.G==3&&(u?Hs(this,u):this.i.length==0||ln(this.h)||Hs(this))};function Hs(u,g){var _;g?_=g.l:_=u.U++;const S=un(u.I);He(S,"SID",u.K),He(S,"RID",_),He(S,"AID",u.T),kr(u,S),u.m&&u.o&&ri(S,u.m,u.o),_=new Ln(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=ii(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ha(u.h,_),Ls(_,S,g)}function kr(u,g){u.H&&ce(u.H,function(_,S){He(g,S,_)}),u.l&&Xr({},function(_,S){He(g,S,_)})}function ii(u,g,_){_=Math.min(u.i.length,_);var S=u.l?E(u.l.Na,u.l,u):null;e:{var $=u.i;let K=-1;for(;;){const he=["count="+_];K==-1?0<_?(K=$[0].g,he.push("ofs="+K)):K=0:he.push("ofs="+K);let qe=!0;for(let _t=0;_t<_;_t++){let Me=$[_t].g;const xt=$[_t].map;if(Me-=K,0>Me)K=Math.max(0,$[_t].g-100),qe=!1;else try{Ql(xt,he,"req"+Me+"_")}catch{S&&S(xt)}}if(qe){S=he.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,S}function Wi(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ie||ee(),Y||(ie(),Y=!0),ne.add(g,u),u.v=0}}function Qs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=bn(E(u.Fa,u),Kl(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Wl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=bn(E(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),$n(this),Wl(this))};function ya(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Wl(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=un(u.qa);He(g,"RID","rpc"),He(g,"SID",u.K),He(g,"AID",u.T),He(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(g,"TO",u.ja),He(g,"TYPE","xmlhttp"),kr(u,g),u.m&&u.o&&ri(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ei(un(g)),_.m=null,_.P=!0,ua(_,u)}t.Za=function(){this.C!=null&&(this.C=null,$n(this),Qs(this),ot(19))};function Gs(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Ws(u,g){var _=null;if(u.g==g){Gs(u),ya(u),u.g=null;var S=2}else if(Bt(u.h,g))_=g.D,jl(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var $=u.B;S=Fi(),vt(S,new Vs(S,_)),ir(u)}else Wi(u);else if($=g.s,$==3||$==0&&0<g.X||!(S==1&&Ih(u,g)||S==2&&Qs(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),$){case 1:Nr(u,5);break;case 4:Nr(u,10);break;case 3:Nr(u,6);break;default:Nr(u,2)}}}function Kl(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Nr(u,g){if(u.j.info("Error code "+g),g==2){var _=E(u.fb,u),S=u.Xa;const $=!S;S=new Ar(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Hi(S,"https"),ei(S),$?Th(S.toString(),_):Hl(S.toString(),_)}else ot(2);u.G=0,u.l&&u.l.sa(g),Yl(u),qs(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Yl(u){if(u.G=0,u.ka=[],u.l){const g=zl(u.h);(g.length!=0||u.i.length!=0)&&(k(u.ka,g),k(u.ka,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.ra()}}function Xl(u,g,_){var S=_ instanceof Ar?un(_):new Ar(_);if(S.g!="")g&&(S.g=g+"."+S.g),Jr(S,S.s);else{var $=f.location;S=$.protocol,g=g?g+"."+$.hostname:$.hostname,$=+$.port;var K=new Ar(null);S&&Hi(K,S),g&&(K.g=g),$&&Jr(K,$),_&&(K.l=_),S=K}return _=u.D,g=u.ya,_&&g&&He(S,_,g),He(S,"VER",u.la),kr(u,S),S}function Jl(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Xe(new Rr({eb:_})):new Xe(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function va(){}t=va.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ks(){}Ks.prototype.g=function(u,g){return new qt(u,g)};function qt(u,g){yt.call(this),this.g=new ga(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!X(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!X(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new sr(this)}P(qt,yt),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){kt(this.g)},qt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=ta(u),u=_);g.i.push(new Ll(g.Ya++,u)),g.G==3&&ir(g)},qt.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,qt.aa.N.call(this)};function Zl(u){Zn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}P(Zl,Zn);function eu(){Ds.call(this),this.status=1}P(eu,Ds);function sr(u){this.g=u}P(sr,va),sr.prototype.ua=function(){vt(this.g,"a")},sr.prototype.ta=function(u){vt(this.g,new Zl(u))},sr.prototype.sa=function(u){vt(this.g,new eu)},sr.prototype.ra=function(){vt(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,j_=function(){return new Ks},F_=function(){return Fi()},L_=er,Rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,uc=Ms,Vl.COMPLETE="complete",O_=Vl,Ns.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Ha=Ns,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,M_=Xe}).apply(typeof Ku<"u"?Ku:typeof self<"u"?self:typeof window<"u"?window:{});const l0="@firebase/firestore",u0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new Ap("@firebase/firestore");function vo(){return gs.logLevel}function me(t,...e){if(gs.logLevel<=Le.DEBUG){const n=e.map(Pp);gs.debug(`Firestore (${Bo}): ${t}`,...n)}}function Qr(t,...e){if(gs.logLevel<=Le.ERROR){const n=e.map(Pp);gs.error(`Firestore (${Bo}): ${t}`,...n)}}function Do(t,...e){if(gs.logLevel<=Le.WARN){const n=e.map(Pp);gs.warn(`Firestore (${Bo}): ${t}`,...n)}}function Pp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,z_(t,i,n)}function z_(t,e,n){let i=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Qr(i),new Error(i)}function it(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||z_(e,o,i)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class RI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class PI{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ds,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ds)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(it(typeof i.accessToken=="string",31837,{l:i}),new U_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class kI{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NI{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new kI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dI(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new c0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new c0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=VI(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<n&&(i+=e.charAt(o[l]%62))}return i}}function be(t,e){return t<e?-1:t>e?1:0}function Pd(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),l=e.charAt(i);if(o!==l)return nd(o)===nd(l)?be(o,l):nd(o)?1:-1}return be(t.length,e.length)}const bI=55296,MI=57343;function nd(t){const e=t.charCodeAt(0);return e>=bI&&e<=MI}function Vo(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="__name__";class cr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Pe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const l=cr.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return be(e.length,n.length)}static compareSegments(e,n){const i=cr.isNumericId(e),o=cr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?cr.extractNumericId(e).compare(cr.extractNumericId(n)):Pd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ii.fromString(e.substring(4,e.length-2))}}class Ze extends cr{construct(e,n,i){return new Ze(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const OI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends cr{construct(e,n,i){return new $t(e,n,i)}static isValidIdentifier(e){return OI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h0}static keyField(){return new $t([h0])}static fromServerFormat(e){const n=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ye(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ye(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new ye(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Ze.fromString(e))}static fromName(e){return new Ie(Ze.fromString(e).popFirst(5))}static empty(){return new Ie(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Ze(e.slice()))}}function LI(t,e,n,i){if(e===!0&&i===!0)throw new ye(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function f0(t){if(Ie.isDocumentKey(t))throw new ye(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function B_(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function eh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe(12329,{type:typeof t})}function kd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eh(t);throw new ye(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cl(t,e){if(!B_(t))throw new ye(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(o&&typeof c!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ye(ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=-62135596800,p0=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*p0);return new et(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<d0)throw new ye(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p0}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cl(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-d0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:gt("string",et._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new et(0,0))}static max(){return new Re(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=-1;function FI(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(i===1e9?new et(n+1,0):new et(n,i));return new Ai(o,Ie.empty(),e)}function jI(t){return new Ai(t.readTime,t.key,fl)}class Ai{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ai(Re.min(),Ie.empty(),fl)}static max(){return new Ai(Re.max(),Ie.empty(),fl)}}function zI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $I{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==UI)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,i)=>{n(e)})}static reject(e){return new te((n,i)=>{i(e)})}static waitFor(e){return new te((n,i)=>{let o=0,l=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++l,c&&l===o&&n()},p=>i(p))}),c=!0,l===o&&n()})}static or(e){let n=te.resolve(!1);for(const i of e)n=n.next(o=>o?te.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,l)=>{i.push(n.call(this,o,l))}),this.waitFor(i)}static mapArray(e,n){return new te((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;n(e[m]).next(v=>{c[m]=v,++f,f===l&&i(c)},v=>o(v))}})}static doWhile(e,n){return new te((i,o)=>{const l=()=>{e()===!0?n().next(()=>{l()},o):i()};l()})}}function BI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=-1;function rh(t){return t==null}function xc(t){return t===0&&1/t==-1/0}function HI(t){return typeof t=="number"&&Number.isInteger(t)&&!xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="";function QI(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=m0(e)),e=GI(t.get(n),e);return m0(e)}function GI(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const l=t.charAt(o);switch(l){case"\0":n+="";break;case q_:n+="";break;default:n+=l}}return n}function m0(t){return t+q_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??Vt.RED,this.left=o??Vt.EMPTY,this.right=l??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,l){return new Vt(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Vt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,i,o,l){return this}insert(e,n,i){return new Vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y0(this.data.getIterator())}getIteratorFrom(e){return new y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Ei([])}unionWith(e){let n=new Tt($t.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ei(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Q_("Invalid base64 string: "+l):l}}(e);return new bt(n)}static fromUint8Array(e){const n=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const WI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(it(!!t,39018),typeof t=="string"){let e=0;const n=WI.exec(t);if(it(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pi(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="server_timestamp",W_="__type__",K_="__previous_value__",Y_="__local_write_time__";function kp(t){return(t?.mapValue?.fields||{})[W_]?.stringValue===G_}function ih(t){const e=t.mapValue.fields[K_];return kp(e)?ih(e):e}function dl(t){const e=Ri(t.mapValue.fields[Y_].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,i,o,l,c,f,p,m,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=v}}const Ic="(default)";class pl{constructor(e,n){this.projectId=e,this.database=n||Ic}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__type__",YI="__max__",Xu={mapValue:{}},J_="__vector__",Cc="value";function ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kp(t)?4:JI(t)?9007199254740991:XI(t)?10:11:Pe(28295,{value:t})}function _r(t,e){if(t===e)return!0;const n=ki(t);if(n!==ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dl(t).isEqual(dl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ri(o.timestampValue),f=Ri(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,l){return Pi(o.bytesValue).isEqual(Pi(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,l){return lt(o.geoPointValue.latitude)===lt(l.geoPointValue.latitude)&&lt(o.geoPointValue.longitude)===lt(l.geoPointValue.longitude)}(t,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return lt(o.integerValue)===lt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=lt(o.doubleValue),f=lt(l.doubleValue);return c===f?xc(c)===xc(f):isNaN(c)&&isNaN(f)}return!1}(t,e);case 9:return Vo(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(g0(c)!==g0(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!_r(c[p],f[p])))return!1;return!0}(t,e);default:return Pe(52216,{left:t})}}function ml(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function bo(t,e){if(t===e)return 0;const n=ki(t),i=ki(e);if(n!==i)return be(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(l,c){const f=lt(l.integerValue||l.doubleValue),p=lt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(t,e);case 3:return v0(t.timestampValue,e.timestampValue);case 4:return v0(dl(t),dl(e));case 5:return Pd(t.stringValue,e.stringValue);case 6:return function(l,c){const f=Pi(l),p=Pi(c);return f.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const v=be(f[m],p[m]);if(v!==0)return v}return be(f.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const f=be(lt(l.latitude),lt(c.latitude));return f!==0?f:be(lt(l.longitude),lt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _0(t.arrayValue,e.arrayValue);case 10:return function(l,c){const f=l.fields||{},p=c.fields||{},m=f[Cc]?.arrayValue,v=p[Cc]?.arrayValue,w=be(m?.values?.length||0,v?.values?.length||0);return w!==0?w:_0(m,v)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===Xu.mapValue&&c===Xu.mapValue)return 0;if(l===Xu.mapValue)return 1;if(c===Xu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=c.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const E=Pd(p[w],v[w]);if(E!==0)return E;const x=bo(f[p[w]],m[v[w]]);if(x!==0)return x}return be(p.length,v.length)}(t.mapValue,e.mapValue);default:throw Pe(23264,{he:n})}}function v0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=Ri(t),i=Ri(e),o=be(n.seconds,i.seconds);return o!==0?o:be(n.nanos,i.nanos)}function _0(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const l=bo(n[o],i[o]);if(l)return l}return be(n.length,i.length)}function Mo(t){return Nd(t)}function Nd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ri(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Pi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const l of n.values||[])o?o=!1:i+=",",i+=Nd(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${Nd(n.fields[c])}`;return o+"}"}(t.mapValue):Pe(61005,{value:t})}function cc(t){switch(ki(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ih(t);return e?16+cc(e):16;case 5:return 2*t.stringValue.length;case 6:return Pi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+cc(l),0)}(t.arrayValue);case 10:case 11:return function(i){let o=0;return Ho(i.fields,(l,c)=>{o+=l.length+cc(c)}),o}(t.mapValue);default:throw Pe(13486,{value:t})}}function w0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dd(t){return!!t&&"integerValue"in t}function Np(t){return!!t&&"arrayValue"in t}function E0(t){return!!t&&"nullValue"in t}function T0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rd(t){return!!t&&"mapValue"in t}function XI(t){return(t?.mapValue?.fields||{})[X_]?.stringValue===J_}function nl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ho(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=nl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nl(t.arrayValue.values[n]);return e}return{...t}}function JI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!rd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nl(n)}setAll(e){let n=$t.emptyPath(),i={},o=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=f.popLast()}c?i[f.lastSegment()]=nl(c):o.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,o)}delete(e){const n=this.field(e.popLast());rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];rd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Ho(n,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new hr(nl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,i,o,l,c,f){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Ut(e,0,Re.min(),Re.min(),Re.min(),hr.empty(),0)}static newFoundDocument(e,n,i,o){return new Ut(e,1,n,Re.min(),i,o,0)}static newNoDocument(e,n){return new Ut(e,2,n,Re.min(),Re.min(),hr.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,Re.min(),Re.min(),hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.position=e,this.inclusive=n}}function S0(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?i=Ie.comparator(Ie.fromName(c.referenceValue),n.key):i=bo(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function x0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{}class mt extends Z_{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new t2(e,n,i):n==="array-contains"?new i2(e,i):n==="in"?new s2(e,i):n==="not-in"?new o2(e,i):n==="array-contains-any"?new a2(e,i):new mt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new n2(e,i):new r2(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bo(n,this.value)):n!==null&&ki(this.value)===ki(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends Z_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xn(e,n)}matches(e){return ew(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ew(t){return t.op==="and"}function tw(t){return e2(t)&&ew(t)}function e2(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function Vd(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+Mo(t.value);if(tw(t))return t.filters.map(e=>Vd(e)).join(",");{const e=t.filters.map(n=>Vd(n)).join(",");return`${t.op}(${e})`}}function nw(t,e){return t instanceof mt?function(i,o){return o instanceof mt&&i.op===o.op&&i.field.isEqual(o.field)&&_r(i.value,o.value)}(t,e):t instanceof Xn?function(i,o){return o instanceof Xn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,f)=>l&&nw(c,o.filters[f]),!0):!1}(t,e):void Pe(19439)}function rw(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`}(t):t instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(rw).join(" ,")+"}"}(t):"Filter"}class t2 extends mt{constructor(e,n,i){super(e,n,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class n2 extends mt{constructor(e,n){super(e,"in",n),this.keys=iw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class r2 extends mt{constructor(e,n){super(e,"not-in",n),this.keys=iw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function iw(t,e){return(e.arrayValue?.values||[]).map(n=>Ie.fromName(n.referenceValue))}class i2 extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Np(n)&&ml(n.arrayValue,this.value)}}class s2 extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ml(this.value.arrayValue,n)}}class o2 extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ml(this.value.arrayValue,n)}}class a2 extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Np(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ml(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function I0(t,e=null,n=[],i=[],o=null,l=null,c=null){return new l2(t,e,n,i,o,l,c)}function Dp(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Vd(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Mo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Mo(i)).join(",")),e.Te=n}return e.Te}function Vp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!x0(t.startAt,e.startAt)&&x0(t.endAt,e.endAt)}function bd(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n=null,i=[],o=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function u2(t,e,n,i,o,l,c,f){return new Qo(t,e,n,i,o,l,c,f)}function sw(t){return new Qo(t)}function C0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ow(t){return t.collectionGroup!==null}function rl(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Tt($t.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new gl(l,i))}),n.has($t.keyField().canonicalString())||e.Ie.push(new gl($t.keyField(),i))}return e.Ie}function mr(t){const e=Fe(t);return e.Ee||(e.Ee=c2(e,rl(t))),e.Ee}function c2(t,e){if(t.limitType==="F")return I0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new gl(o.field,l)});const n=t.endAt?new Ac(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ac(t.startAt.position,t.startAt.inclusive):null;return I0(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Md(t,e){const n=t.filters.concat([e]);return new Qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Od(t,e,n){return new Qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sh(t,e){return Vp(mr(t),mr(e))&&t.limitType===e.limitType}function aw(t){return`${Dp(mr(t))}|lt:${t.limitType}`}function _o(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>rw(o)).join(", ")}]`),rh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>Mo(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>Mo(o)).join(",")),`Target(${i})`}(mr(t))}; limitType=${t.limitType})`}function oh(t,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ie.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,o){for(const l of rl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(c,f,p){const m=S0(c,f,p);return c.inclusive?m<=0:m<0}(i.startAt,rl(i),o)||i.endAt&&!function(c,f,p){const m=S0(c,f,p);return c.inclusive?m>=0:m>0}(i.endAt,rl(i),o))}(t,e)}function h2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lw(t){return(e,n)=>{let i=!1;for(const o of rl(t)){const l=f2(o,e,n);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function f2(t,e,n){const i=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(l,c,f){const p=c.data.field(l),m=f.data.field(l);return p!==null&&m!==null?bo(p,m):Pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,(n,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return H_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new ht(Ie.comparator);function Ni(){return d2}const uw=new ht(Ie.comparator);function Qa(...t){let e=uw;for(const n of t)e=e.insert(n.key,n);return e}function p2(t){let e=uw;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function cs(){return il()}function cw(){return il()}function il(){return new Ts(t=>t.toString(),(t,e)=>t.isEqual(e))}const m2=new Tt(Ie.comparator);function Ue(...t){let e=m2;for(const n of t)e=e.add(n);return e}const g2=new Tt(be);function y2(){return g2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(e)?"-0":e}}function hw(t){return{integerValue:""+t}}function v2(t,e){return HI(e)?hw(e):bp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(){this._=void 0}}function _2(t,e,n){return t instanceof Ld?function(o,l){const c={fields:{[W_]:{stringValue:G_},[Y_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&kp(l)&&(l=ih(l)),l&&(c.fields[K_]=l),{mapValue:c}}(n,e):t instanceof Rc?fw(t,e):t instanceof Pc?dw(t,e):function(o,l){const c=E2(o,l),f=A0(c)+A0(o.Ae);return Dd(c)&&Dd(o.Ae)?hw(f):bp(o.serializer,f)}(t,e)}function w2(t,e,n){return t instanceof Rc?fw(t,e):t instanceof Pc?dw(t,e):n}function E2(t,e){return t instanceof Fd?function(i){return Dd(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Ld extends ah{}class Rc extends ah{constructor(e){super(),this.elements=e}}function fw(t,e){const n=pw(e);for(const i of t.elements)n.some(o=>_r(o,i))||n.push(i);return{arrayValue:{values:n}}}class Pc extends ah{constructor(e){super(),this.elements=e}}function dw(t,e){let n=pw(e);for(const i of t.elements)n=n.filter(o=>!_r(o,i));return{arrayValue:{values:n}}}class Fd extends ah{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function A0(t){return lt(t.integerValue||t.doubleValue)}function pw(t){return Np(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function T2(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof Rc&&o instanceof Rc||i instanceof Pc&&o instanceof Pc?Vo(i.elements,o.elements,_r):i instanceof Fd&&o instanceof Fd?_r(i.Ae,o.Ae):i instanceof Ld&&o instanceof Ld}(t.transform,e.transform)}class ps{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mp{}function mw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new x2(t.key,ps.none()):new Op(t.key,t.data,ps.none());{const n=t.data,i=hr.empty();let o=new Tt($t.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new lh(t.key,i,new Ei(o.toArray()),ps.none())}}function S2(t,e,n){t instanceof Op?function(o,l,c){const f=o.value.clone(),p=P0(o.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):t instanceof lh?function(o,l,c){if(!hc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=P0(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(gw(o)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function sl(t,e,n,i){return t instanceof Op?function(l,c,f,p){if(!hc(l.precondition,c))return f;const m=l.value.clone(),v=k0(l.fieldTransforms,p,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof lh?function(l,c,f,p){if(!hc(l.precondition,c))return f;const m=k0(l.fieldTransforms,p,c),v=c.data;return v.setAll(gw(l)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(t,e,n,i):function(l,c,f){return hc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(t,e,n)}function R0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Vo(i,o,(l,c)=>T2(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Op extends Mp{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class lh extends Mp{constructor(e,n,i,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function gw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function P0(t,e,n){const i=new Map;it(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,w2(c,f,n[o]))}return i}function k0(t,e,n){const i=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);i.set(o.field,_2(l,c,e))}return i}class x2 extends Mp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&S2(l,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=sl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=sl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=cw();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(o.key)?null:f;const p=mw(c,f);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(n,i)=>R0(n,i))&&Vo(this.baseMutations,e.baseMutations,(n,i)=>R0(n,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Oe;function yw(t){if(t===void 0)return Qr("GRPC error has no .code"),ae.UNKNOWN;switch(t){case pt.OK:return ae.OK;case pt.CANCELLED:return ae.CANCELLED;case pt.UNKNOWN:return ae.UNKNOWN;case pt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case pt.INTERNAL:return ae.INTERNAL;case pt.UNAVAILABLE:return ae.UNAVAILABLE;case pt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case pt.NOT_FOUND:return ae.NOT_FOUND;case pt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case pt.ABORTED:return ae.ABORTED;case pt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case pt.DATA_LOSS:return ae.DATA_LOSS;default:return Pe(39323,{code:t})}}(Oe=pt||(pt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new Ii([4294967295,4294967295],0);function N0(t){const e=R2().encode(t),n=new b_;return n.update(e),new Uint8Array(n.digest())}function D0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ii([n,i],0),new Ii([o,l],0)]}class Lp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ga(`Invalid padding: ${n}`);if(i<0)throw new Ga(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ga(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ga(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ii.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Ii.fromNumber(i)));return o.compare(P2)===1&&(o=new Ii([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=N0(e),[i,o]=D0(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Lp(l,o,n);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.ge===0)return;const n=N0(e),[i,o]=D0(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,i,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Al.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new uh(Re.min(),o,new ht(be),Ni(),Ue())}}class Al{constructor(e,n,i,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Al(i,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class vw{constructor(e,n){this.targetId=e,this.Ce=n}}class _w{constructor(e,n,i=bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class V0{constructor(){this.ve=0,this.Fe=b0(),this.Me=bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),i=Ue();return this.Fe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Pe(38017,{changeType:l})}}),new Al(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=b0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class k2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ni(),this.Je=Ju(),this.He=Ju(),this.Ye=new ht(be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const l=o.target;if(bd(l))if(i===0){const c=new Ie(l.path);this.et(n,c,Ut.newNoDocument(c,Re.min()))}else it(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const f=this.ut(e),p=f?this.ct(f,e,c):1;if(p!==0){this.it(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=n;let c,f;try{c=Pi(i).toUint8Array()}catch(p){if(p instanceof Q_)return Do("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Lp(c,o,l)}catch(p){return Do(p instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach(l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((l,c)=>{const f=this.ot(c);if(f){if(l.current&&bd(f.target)){const p=new Ie(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Ut.newNoDocument(p,e))}l.Be&&(n.set(c,l.ke()),l.qe())}});let i=Ue();this.He.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const o=new uh(e,n,this.Ye,this.je,i);return this.je=Ni(),this.Je=Ju(),this.He=Ju(),this.Ye=new ht(be),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new V0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tt(be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tt(be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new V0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ju(){return new ht(Ie.comparator)}function b0(){return new ht(Ie.comparator)}const N2={asc:"ASCENDING",desc:"DESCENDING"},D2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V2={and:"AND",or:"OR"};class b2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jd(t,e){return t.useProto3Json||rh(e)?e:{value:e}}function zd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ww(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Io(t){return it(!!t,49232),Re.fromTimestamp(function(n){const i=Ri(n);return new et(i.seconds,i.nanos)}(t))}function Ew(t,e){return Ud(t,e).canonicalString()}function Ud(t,e){const n=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Tw(t){const e=Ze.fromString(t);return it(Aw(e),10190,{key:e.toString()}),e}function id(t,e){const n=Tw(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(xw(n))}function Sw(t,e){return Ew(t.databaseId,e)}function M2(t){const e=Tw(t);return e.length===4?Ze.emptyPath():xw(e)}function M0(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xw(t){return it(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function O2(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Pe(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(m,v){return m.useProto3Json?(it(v===void 0||typeof v=="string",58123),bt.fromBase64String(v||"")):(it(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),bt.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const v=m.code===void 0?ae.UNKNOWN:yw(m.code);return new ye(v,m.message||"")}(c);n=new _w(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=id(t,i.document.name),l=Io(i.document.updateTime),c=i.document.createTime?Io(i.document.createTime):Re.min(),f=new hr({mapValue:{fields:i.document.fields}}),p=Ut.newFoundDocument(o,l,c,f),m=i.targetIds||[],v=i.removedTargetIds||[];n=new fc(m,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=id(t,i.document),l=i.readTime?Io(i.readTime):Re.min(),c=Ut.newNoDocument(o,l),f=i.removedTargetIds||[];n=new fc([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=id(t,i.document),l=i.removedTargetIds||[];n=new fc([],l,o,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new A2(o,l),f=i.targetId;n=new vw(f,c)}}return n}function L2(t,e){return{documents:[Sw(t,e.path)]}}function F2(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Sw(t,o);const l=function(m){if(m.length!==0)return Cw(Xn.create(m,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(v=>function(E){return{field:wo(E.field),direction:U2(E.dir)}}(v))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=jd(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:n,parent:o}}function j2(t){let e=M2(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){it(i===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=function(w){const E=Iw(w);return E instanceof Xn&&tw(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(w){return w.map(E=>function(P){return new gl(Eo(P.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(E))}(n.orderBy));let f=null;n.limit&&(f=function(w){let E;return E=typeof w=="object"?w.value:w,rh(E)?null:E}(n.limit));let p=null;n.startAt&&(p=function(w){const E=!!w.before,x=w.values||[];return new Ac(x,E)}(n.startAt));let m=null;return n.endAt&&(m=function(w){const E=!w.before,x=w.values||[];return new Ac(x,E)}(n.endAt)),u2(e,o,c,l,f,"F",p,m)}function z2(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Iw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Eo(n.unaryFilter.field);return mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Eo(n.unaryFilter.field);return mt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Eo(n.unaryFilter.field);return mt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return mt.create(Eo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(i=>Iw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(n.compositeFilter.op))}(t):Pe(30097,{filter:t})}function U2(t){return N2[t]}function $2(t){return D2[t]}function B2(t){return V2[t]}function wo(t){return{fieldPath:t.canonicalString()}}function Eo(t){return $t.fromServerFormat(t.fieldPath)}function Cw(t){return t instanceof mt?function(n){if(n.op==="=="){if(T0(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NAN"}};if(E0(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T0(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NAN"}};if(E0(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(n.field),op:$2(n.op),value:n.value}}}(t):t instanceof Xn?function(n){const i=n.getFilters().map(o=>Cw(o));return i.length===1?i[0]:{compositeFilter:{op:B2(n.op),filters:i}}}(t):Pe(54877,{filter:t})}function Aw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n,i,o,l=Re.min(),c=Re.min(),f=bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.yt=e}}function H2(t){const e=j2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Od(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.Cn=new G2}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Ai.min())}updateCollectionGroup(e,n,i){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class G2{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Tt(Ze.comparator),l=!o.has(i);return this.index[n]=o.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Tt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rw=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(Rw,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Oo(0)}static cr(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="LruGarbageCollector",W2=1048576;function F0([t,e],[n,i]){const o=be(t,n);return o===0?be(e,i):o}class K2{constructor(e){this.Ir=e,this.buffer=new Tt(F0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();F0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Y2{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(L0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qo(n)?me(L0,"Ignoring IndexedDB error during garbage collection: ",n):await th(n)}await this.Vr(3e5)})}}class X2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return te.resolve(nh.ce);const i=new K2(n);return this.mr.forEachTarget(e,o=>i.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>i.Ar(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(O0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,l,c,f,p,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,f=Date.now(),this.removeTargets(e,i,n))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(m=Date.now(),vo()<=Le.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function J2(t,e){return new X2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.changes=new Ts(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?te.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&sl(i.mutation,o,Ei.empty(),et.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ue()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ue()){const o=cs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(l=>{let c=Qa();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ue()))}populateOverlays(e,n,i){const o=[];return i.forEach(l=>{n.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,i,o){let l=Ni();const c=il(),f=function(){return il()}();return n.forEach((p,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof lh)?l=l.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),sl(v.mutation,m,v.mutation.getFieldMask(),et.now())):c.set(m.key,Ei.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,v)=>c.set(m,v)),n.forEach((m,v)=>f.set(m,new eC(v,c.get(m)??null))),f))}recalculateAndSaveOverlays(e,n){const i=il();let o=new ht((c,f)=>c-f),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(p=>{const m=n.get(p);if(m===null)return;let v=i.get(p)||Ei.empty();v=f.applyToLocalView(m,v),i.set(p,v);const w=(o.get(f.batchId)||Ue()).add(p);o=o.insert(f.batchId,w)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,v=p.value,w=cw();v.forEach(E=>{if(!l.has(E)){const x=mw(n.get(E),i.get(E));x!==null&&w.set(E,x),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,w))}return te.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ow(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-l.size):te.resolve(cs());let f=fl,p=l;return c.next(m=>te.forEach(m,(v,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{p=p.insert(v,E)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,Ue())).next(v=>({batchId:f,changes:p2(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(i=>{let o=Qa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const l=n.collectionGroup;let c=Qa();return this.indexManager.getCollectionParents(e,l).next(f=>te.forEach(f,p=>{const m=function(w,E){return new Qo(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(v=>{v.forEach((w,E)=>{c=c.insert(w,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,o))).next(c=>{l.forEach((p,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,Ut.newInvalidDocument(v)))});let f=Qa();return c.forEach((p,m)=>{const v=l.get(p);v!==void 0&&sl(v.mutation,m,Ei.empty(),et.now()),oh(n,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Io(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:H2(o.bundledQuery),readTime:Io(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.overlays=new ht(Ie.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const i=cs();return te.forEach(n,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,l)=>{this.St(e,n,l)}),te.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(i)),te.resolve()}getOverlaysForCollection(e,n,i){const o=cs(),l=n.length+1,c=new Ie(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let l=new ht((m,v)=>m-v);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let v=l.get(m.largestBatchId);v===null&&(v=cs(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=cs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=o)););return te.resolve(f)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new C2(n,i));let l=this.qr.get(n);l===void 0&&(l=Ue(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this.Qr=new Tt(Rt.$r),this.Ur=new Tt(Rt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Rt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new Rt(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new Ie(new Ze([])),i=new Rt(n,e),o=new Rt(n,e+1),l=[];return this.Ur.forEachInRange([i,o],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new Ze([])),i=new Rt(n,e),o=new Rt(n,e+1);let l=Ue();return this.Ur.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new Rt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Rt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||be(e.Yr,n.Yr)}static Kr(e,n){return be(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(Rt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new I2(l,n,i,o);this.mutationQueue.push(c);for(const f of o)this.Zr=this.Zr.add(new Rt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return te.resolve(c)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),l=o<0?0:o;return te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?qI:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Rt(n,0),o=new Rt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],c=>{const f=this.Xr(c.Yr);l.push(f)}),te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Tt(be);return n.forEach(o=>{const l=new Rt(o,0),c=new Rt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],f=>{i=i.add(f.Yr)})}),te.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let l=i;Ie.isDocumentKey(l)||(l=l.child(""));const c=new Rt(new Ie(l),0);let f=new Tt(be);return this.Zr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(f=f.add(p.Yr)),!0)},c),te.resolve(this.ti(f))}ti(e){const n=[];return e.forEach(i=>{const o=this.Xr(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){it(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return te.forEach(n.mutations,o=>{const l=new Rt(o.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new Rt(n,0),o=this.Zr.firstAfterOrEqual(i);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.ri=e,this.docs=function(){return new ht(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),l=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return te.resolve(i?i.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let i=Ni();return n.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Ut.newInvalidDocument(o))}),te.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let l=Ni();const c=n.path,f=new Ie(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||zI(jI(v),i)<=0||(o.has(v.key)||oh(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return te.resolve(l)}getAllFromCollectionGroup(e,n,i,o){Pe(9500)}ii(e,n){return te.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new aC(this)}getSize(e){return te.resolve(this.size)}}class aC extends Z2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)}),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.persistence=e,this.si=new Ts(n=>Dp(n),Vp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Fp,this.targetCount=0,this.ai=Oo.ur()}forEachTarget(e,n){return this.si.forEach((i,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Oo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,i){let o=0;const l=[];return this.si.forEach((c,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),te.waitFor(l).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return te.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),te.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),te.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return te.resolve(i)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n){this.ui={},this.overlays={},this.ci=new nh(0),this.li=!1,this.li=!0,this.hi=new iC,this.referenceDelegate=e(this),this.Pi=new lC(this),this.indexManager=new Q2,this.remoteDocumentCache=function(o){return new oC(o)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new q2(n),this.Ii=new nC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new sC(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const o=new uC(this.ci.next());return this.referenceDelegate.Ei(),i(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ai(e,n){return te.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class uC extends $I{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.Ri=new Fp,this.Vi=null}static mi(e){return new jp(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),te.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(l=>this.fi.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,i=>{const o=Ie.fromPath(i);return this.gi(e,o).next(l=>{l||n.removeEntry(o,Re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class kc{constructor(e,n){this.persistence=e,this.pi=new Ts(i=>QI(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=J2(this,n)}static mi(e,n){return new kc(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return te.forEach(this.pi,(i,o)=>this.br(e,i,o).next(l=>l?te.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,c=>this.br(e,c,n).next(f=>{f||(i++,l.removeEntry(c,Re.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cc(e.data.value)),n}br(e,n,i){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Ue(),o=Ue();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new zp(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return cx()?8:BI(lx())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const l={result:null};return this.ys(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,n,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new cC;return this.Ss(e,n,c).next(f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)})}).next(()=>l.result)}bs(e,n,i,o){return i.documentReadCount<this.fs?(vo()<=Le.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(vo()<=Le.DEBUG&&me("QueryEngine","Query:",_o(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(vo()<=Le.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):te.resolve())}ys(e,n){if(C0(n))return te.resolve(null);let i=mr(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Od(n,null,"F"),i=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Ue(...l);return this.ps.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.Ds(n,f);return this.Cs(n,m,c,p.readTime)?this.ys(e,Od(n,null,"F")):this.vs(e,m,n,p)}))})))}ws(e,n,i,o){return C0(n)||o.isEqual(Re.min())?te.resolve(null):this.ps.getDocuments(e,i).next(l=>{const c=this.Ds(n,l);return this.Cs(n,c,i,o)?te.resolve(null):(vo()<=Le.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(n)),this.vs(e,c,n,FI(o,fl)).next(f=>f))})}Ds(e,n){let i=new Tt(lw(e));return n.forEach((o,l)=>{oh(e,l)&&(i=i.add(l))}),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,n,i){return vo()<=Le.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",_o(n)),this.ps.getDocumentsMatchingQuery(e,n,Ai.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="LocalStore",fC=3e8;class dC{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(be),this.xs=new Ts(l=>Dp(l),Vp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function pC(t,e,n,i){return new dC(t,e,n,i)}async function kw(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let p=Ue();for(const m of o){c.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of l){f.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(i,p).next(m=>({Ls:m,removedBatchIds:c,addedBatchIds:f}))})})}function Nw(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function mC(t,e){const n=Fe(t),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const f=[];e.targetChanges.forEach((v,w)=>{const E=o.get(w);if(!E)return;f.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(l,v.addedDocuments,w)));let x=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?x=x.withResumeToken(bt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,i)),o=o.insert(w,x),function(L,k,H){return L.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=fC?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(E,x,v)&&f.push(n.Pi.updateTargetData(l,x))});let p=Ni(),m=Ue();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(gC(l,c,e.documentUpdates).next(v=>{p=v.ks,m=v.qs})),!i.isEqual(Re.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next(w=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(v)}return te.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(n.Ms=o,l))}function gC(t,e,n){let i=Ue(),o=Ue();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let c=Ni();return n.forEach((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):me(Up,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{ks:c,qs:o}})}function yC(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Pi.getTargetData(i,e).next(l=>l?(o=l,te.resolve(o)):n.Pi.allocateTargetId(i).next(c=>(o=new Ti(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function $d(t,e,n){const i=Fe(t),o=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!qo(c))throw c;me(Up,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function j0(t,e,n){const i=Fe(t);let o=Re.min(),l=Ue();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,v){const w=Fe(p),E=w.xs.get(v);return E!==void 0?te.resolve(w.Ms.get(E)):w.Pi.getTargetData(m,v)}(i,c,mr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>i.Fs.getDocumentsMatchingQuery(c,e,n?o:Re.min(),n?l:Ue())).next(f=>(vC(i,h2(e),f),{documents:f,Qs:l})))}function vC(t,e,n){let i=t.Os.get(e)||Re.min();n.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Os.set(e,i)}class z0{constructor(){this.activeTargetIds=y2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _C{constructor(){this.Mo=new z0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new z0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="ConnectivityMonitor";class $0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(U0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(U0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function Bd(){return Zu===null?Zu=function(){return 268435456+Math.round(2147483648*Math.random())}():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="RestConnection",EC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Ic?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,l){const c=Bd(),f=this.zo(e,n.toUriEncodedString());me(sd,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:m}=new URL(f),v=xp(m);return this.Jo(e,f,p,i,v).then(w=>(me(sd,`Received RPC '${e}' ${c}: `,w),w),w=>{throw Do(sd,`RPC '${e}' ${c} failed with error: `,w,"url: ",f,"request:",i),w})}Ho(e,n,i,o,l,c){return this.Go(e,n,i,o,l)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}zo(e,n){const i=EC[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class xC extends TC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,l){const c=Bd();return new Promise((f,p)=>{const m=new M_;m.setWithCredentials(!0),m.listenOnce(O_.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case uc.NO_ERROR:const w=m.getResponseJson();me(jt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case uc.TIMEOUT:me(jt,`RPC '${e}' ${c} timed out`),p(new ye(ae.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const E=m.getStatus();if(me(jt,`RPC '${e}' ${c} failed with status:`,E,"response text:",m.getResponseText()),E>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const P=x?.error;if(P&&P.status&&P.message){const L=function(H){const X=H.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(X)>=0?X:ae.UNKNOWN}(P.status);p(new ye(L,P.message))}else p(new ye(ae.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new ye(ae.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{me(jt,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(o);me(jt,`RPC '${e}' ${c} sending request:`,o),m.send(n,"POST",v,i,15)})}T_(e,n,i){const o=Bd(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=j_(),f=F_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const v=l.join("");me(jt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const w=c.createWebChannel(v,p);this.I_(w);let E=!1,x=!1;const P=new SC({Yo:k=>{x?me(jt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(E||(me(jt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),me(jt,`RPC '${e}' stream ${o} sending:`,k),w.send(k))},Zo:()=>w.close()}),L=(k,H,X)=>{k.listen(H,J=>{try{X(J)}catch(Z){setTimeout(()=>{throw Z},0)}})};return L(w,Ha.EventType.OPEN,()=>{x||(me(jt,`RPC '${e}' stream ${o} transport opened.`),P.o_())}),L(w,Ha.EventType.CLOSE,()=>{x||(x=!0,me(jt,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(w))}),L(w,Ha.EventType.ERROR,k=>{x||(x=!0,Do(jt,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),P.a_(new ye(ae.UNAVAILABLE,"The operation could not be completed")))}),L(w,Ha.EventType.MESSAGE,k=>{if(!x){const H=k.data[0];it(!!H,16349);const X=H,J=X?.error||X[0]?.error;if(J){me(jt,`RPC '${e}' stream ${o} received error:`,J);const Z=J.status;let le=function(I){const C=pt[I];if(C!==void 0)return yw(C)}(Z),ce=J.message;le===void 0&&(le=ae.INTERNAL,ce="Unknown error status: "+Z+" with message "+J.message),x=!0,P.a_(new ye(le,ce)),w.close()}else me(jt,`RPC '${e}' stream ${o} received:`,H),P.u_(H)}}),L(f,L_.STAT_EVENT,k=>{k.stat===Rd.PROXY?me(jt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Rd.NOPROXY&&me(jt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t){return new b2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="PersistentStream";class IC{constructor(e,n,i,o,l,c,f,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Dw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.D_===n&&this.G_(i,o)},i=>{e(()=>{const o=new ye(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{i(()=>this.z_(o))}),this.stream.onMessage(o=>{i(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return me(B0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(me(B0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CC extends IC{constructor(e,n,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=O2(this.serializer,e),i=function(l){if(!("targetChange"in l))return Re.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?Io(c.readTime):Re.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=M0(this.serializer),n.addTarget=function(l,c){let f;const p=c.target;if(f=bd(p)?{documents:L2(l,p)}:{query:F2(l,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=ww(l,c.resumeToken);const m=jd(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Re.min())>0){f.readTime=zd(l,c.snapshotVersion.toTimestamp());const m=jd(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=z2(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=M0(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{}class RC extends AC{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,Ud(n,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(ae.UNKNOWN,l.toString())})}Ho(e,n,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Ho(e,Ud(n,i),o,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(ae.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class PC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="RemoteStore";class kC{constructor(e,n,i,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{i.enqueueAndForget(async()=>{Pl(this)&&(me(Lo,"Restarting streams for network reachability change."),await async function(p){const m=Fe(p);m.Ea.add(4),await Rl(m),m.Ra.set("Unknown"),m.Ea.delete(4),await hh(m)}(this))})}),this.Ra=new PC(i,o)}}async function hh(t){if(Pl(t))for(const e of t.da)await e(!0)}async function Rl(t){for(const e of t.da)await e(!1)}function Vw(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Hp(n)?qp(n):Go(n).O_()&&Bp(n,e))}function $p(t,e){const n=Fe(t),i=Go(n);n.Ia.delete(e),i.O_()&&bw(n,e),n.Ia.size===0&&(i.O_()?i.L_():Pl(n)&&n.Ra.set("Unknown"))}function Bp(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Go(t).Y_(e)}function bw(t,e){t.Va.Ue(e),Go(t).Z_(e)}function qp(t){t.Va=new k2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Go(t).start(),t.Ra.ua()}function Hp(t){return Pl(t)&&!Go(t).x_()&&t.Ia.size>0}function Pl(t){return Fe(t).Ea.size===0}function Mw(t){t.Va=void 0}async function NC(t){t.Ra.set("Online")}async function DC(t){t.Ia.forEach((e,n)=>{Bp(t,e)})}async function VC(t,e){Mw(t),Hp(t)?(t.Ra.ha(e),qp(t)):t.Ra.set("Unknown")}async function bC(t,e,n){if(t.Ra.set("Online"),e instanceof _w&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ia.delete(f),o.Va.removeTarget(f))}(t,e)}catch(i){me(Lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await q0(t,i)}else if(e instanceof fc?t.Va.Ze(e):e instanceof vw?t.Va.st(e):t.Va.tt(e),!n.isEqual(Re.min()))try{const i=await Nw(t.localStore);n.compareTo(i)>=0&&await function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(m);v&&l.Ia.set(m,v.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,m)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(bt.EMPTY_BYTE_STRING,v.snapshotVersion)),bw(l,p);const w=new Ti(v.target,p,m,v.sequenceNumber);Bp(l,w)}),l.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(i){me(Lo,"Failed to raise snapshot:",i),await q0(t,i)}}async function q0(t,e,n){if(!qo(e))throw e;t.Ea.add(1),await Rl(t),t.Ra.set("Offline"),n||(n=()=>Nw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(Lo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await hh(t)})}async function H0(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),me(Lo,"RemoteStore received new credentials");const i=Pl(n);n.Ea.add(3),await Rl(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hh(n)}async function MC(t,e){const n=Fe(t);e?(n.Ea.delete(2),await hh(n)):e||(n.Ea.add(2),await Rl(n),n.Ra.set("Unknown"))}function Go(t){return t.ma||(t.ma=function(n,i,o){const l=Fe(n);return l.sa(),new CC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{Xo:NC.bind(null,t),t_:DC.bind(null,t),r_:VC.bind(null,t),H_:bC.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Hp(t)?qp(t):t.Ra.set("Unknown")):(await t.ma.stop(),Mw(t))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n,i,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,l){const c=Date.now()+i,f=new Qp(e,n,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ow(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),qo(t))return new ye(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static emptySet(e){return new Co(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ie.comparator(n.key,i.key):(n,i)=>Ie.comparator(n.key,i.key),this.keyedMap=Qa(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Co;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(){this.ga=new ht(Ie.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class Fo{constructor(e,n,i,o,l,c,f,p,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,o,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new Fo(e,n,Co.emptySet(n),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class LC{constructor(){this.queries=G0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Fe(n),l=o.queries;o.queries=G0(),l.forEach((c,f)=>{for(const p of f.Sa)p.onError(i)})})(this,new ye(ae.ABORTED,"Firestore shutting down"))}}function G0(){return new Ts(t=>aw(t),sh)}async function FC(t,e){const n=Fe(t);let i=3;const o=e.query;let l=n.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new OC,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const f=Ow(c,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Gp(n)}async function jC(t,e){const n=Fe(t),i=e.query;let o=3;const l=n.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function zC(t,e){const n=Fe(t);let i=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(o)&&(i=!0);c.wa=o}}i&&Gp(n)}function UC(t,e,n){const i=Fe(t),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(n);i.queries.delete(e)}function Gp(t){t.Ca.forEach(e=>{e.next()})}var qd,W0;(W0=qd||(qd={})).Ma="default",W0.Cache="cache";class $C{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Fo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.key=e}}class Fw{constructor(e){this.key=e}}class BC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=lw(e),this.tu=new Co(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Q0,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const E=o.get(v),x=oh(this.query,w)?w:null,P=!!E&&this.mutatedKeys.has(E.key),L=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;E&&x?E.data.isEqual(x.data)?P!==L&&(i.track({type:3,doc:x}),k=!0):this.su(E,x)||(i.track({type:2,doc:x}),k=!0,(p&&this.eu(x,p)>0||m&&this.eu(x,m)<0)&&(f=!0)):!E&&x?(i.track({type:0,doc:x}),k=!0):E&&!x&&(i.track({type:1,doc:E}),k=!0,(p||m)&&(f=!0)),k&&(x?(c=c.add(x),l=L?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((v,w)=>function(x,P){const L=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:k})}};return L(x)-L(P)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(i),o=o??!1;const f=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new Fo(this.query,e.tu,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Q0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new Fw(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new Lw(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wp="SyncEngine";class qC{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class HC{constructor(e){this.key=e,this.hu=!1}}class QC{constructor(e,n,i,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ts(f=>aw(f),sh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(Ie.comparator),this.Au=new Map,this.Ru=new Fp,this.Vu={},this.mu=new Map,this.fu=Oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GC(t,e,n=!0){const i=Bw(t);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await jw(i,e,n,!0),o}async function WC(t,e){const n=Bw(t);await jw(n,e,!0,!1)}async function jw(t,e,n,i){const o=await yC(t.localStore,mr(e)),l=o.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await KC(t,e,l,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&Vw(t.remoteStore,o),f}async function KC(t,e,n,i,o){t.pu=(w,E,x)=>async function(L,k,H,X){let J=k.view.ru(H);J.Cs&&(J=await j0(L.localStore,k.query,!1).then(({documents:D})=>k.view.ru(D,J)));const Z=X&&X.targetChanges.get(k.targetId),le=X&&X.targetMismatches.get(k.targetId)!=null,ce=k.view.applyChanges(J,L.isPrimaryClient,Z,le);return Y0(L,k.targetId,ce.au),ce.snapshot}(t,w,E,x);const l=await j0(t.localStore,e,!0),c=new BC(e,l.Qs),f=c.ru(l.documents),p=Al.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),m=c.applyChanges(f,t.isPrimaryClient,p);Y0(t,n,m.au);const v=new qC(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function YC(t,e,n){const i=Fe(t),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter(c=>!sh(c,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await $d(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&$p(i.remoteStore,o.targetId),Hd(i,o.targetId)}).catch(th)):(Hd(i,o.targetId),await $d(i.localStore,o.targetId,!0))}async function XC(t,e){const n=Fe(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),$p(n.remoteStore,i.targetId))}async function zw(t,e){const n=Fe(t);try{const i=await mC(n.localStore,e);e.targetChanges.forEach((o,l)=>{const c=n.Au.get(l);c&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?it(c.hu,14607):o.removedDocuments.size>0&&(it(c.hu,42227),c.hu=!1))}),await $w(n,i,e)}catch(i){await th(i)}}function K0(t,e,n){const i=Fe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach((l,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const p=Fe(c);p.onlineState=f;let m=!1;p.queries.forEach((v,w)=>{for(const E of w.Sa)E.va(f)&&(m=!0)}),m&&Gp(p)}(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function JC(t,e,n){const i=Fe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),l=o&&o.key;if(l){let c=new ht(Ie.comparator);c=c.insert(l,Ut.newNoDocument(l,Re.min()));const f=Ue().add(l),p=new uh(Re.min(),new Map,new ht(be),c,f);await zw(i,p),i.du=i.du.remove(l),i.Au.delete(e),Kp(i)}else await $d(i.localStore,e,!1).then(()=>Hd(i,e,n)).catch(th)}function Hd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||Uw(t,i)})}function Uw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&($p(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Kp(t))}function Y0(t,e,n){for(const i of n)i instanceof Lw?(t.Ru.addReference(i.key,e),ZC(t,i)):i instanceof Fw?(me(Wp,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||Uw(t,i.key)):Pe(19791,{wu:i})}function ZC(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(me(Wp,"New document in limbo: "+n),t.Eu.add(i),Kp(t))}function Kp(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(Ze.fromString(e)),i=t.fu.next();t.Au.set(i,new HC(n)),t.du=t.du.insert(n,i),Vw(t.remoteStore,new Ti(mr(sw(n.path)),i,"TargetPurposeLimboResolution",nh.ce))}}async function $w(t,e,n){const i=Fe(t),o=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach((f,p)=>{c.push(i.pu(p,e,n).then(m=>{if((m||n)&&i.isPrimaryClient){const v=m?!m.fromCache:n?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(m){o.push(m);const v=zp.As(p.targetId,m);l.push(v)}}))}),await Promise.all(c),i.Pu.H_(o),await async function(p,m){const v=Fe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(m,E=>te.forEach(E.Es,x=>v.persistence.referenceDelegate.addReference(w,E.targetId,x)).next(()=>te.forEach(E.ds,x=>v.persistence.referenceDelegate.removeReference(w,E.targetId,x)))))}catch(w){if(!qo(w))throw w;me(Up,"Failed to update sequence numbers: "+w)}for(const w of m){const E=w.targetId;if(!w.fromCache){const x=v.Ms.get(E),P=x.snapshotVersion,L=x.withLastLimboFreeSnapshotVersion(P);v.Ms=v.Ms.insert(E,L)}}}(i.localStore,l))}async function eA(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){me(Wp,"User change. New user:",e.toKey());const i=await kw(n.localStore,e);n.currentUser=e,function(l,c){l.mu.forEach(f=>{f.forEach(p=>{p.reject(new ye(ae.CANCELLED,c))})}),l.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await $w(n,i.Ls)}}function tA(t,e){const n=Fe(t),i=n.Au.get(e);if(i&&i.hu)return Ue().add(i.key);{let o=Ue();const l=n.Iu.get(e);if(!l)return o;for(const c of l){const f=n.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function Bw(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JC.bind(null,e),e.Pu.H_=zC.bind(null,e.eventManager),e.Pu.yu=UC.bind(null,e.eventManager),e}class Nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return pC(this.persistence,new hC,e.initialUser,this.serializer)}Cu(e){return new Pw(jp.mi,this.serializer)}Du(e){return new _C}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nc.provider={build:()=>new Nc};class nA extends Nc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){it(this.persistence.referenceDelegate instanceof kc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Y2(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new Pw(i=>kc.mi(i,n),this.serializer)}}class Qd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>K0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=eA.bind(null,this.syncEngine),await MC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LC}()}createDatastore(e){const n=ch(e.databaseInfo.databaseId),i=function(l){return new xC(l)}(e.databaseInfo);return function(l,c,f,p){return new RC(l,c,f,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,l,c,f){return new kC(i,o,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,n=>K0(this.syncEngine,n,0),function(){return $0.v()?new $0:new wC}())}createSyncEngine(e,n){return function(o,l,c,f,p,m,v){const w=new QC(o,l,c,f,p,m);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const i=Fe(n);me(Lo,"RemoteStore shutting down."),i.Ea.add(5),await Rl(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qd.provider={build:()=>new Qd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="FirestoreClient";class iA{constructor(e,n,i,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=$_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{me(Di,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(me(Di,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Ow(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ad(t,e){t.asyncQueue.verifyOperationInProgress(),me(Di,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await kw(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function X0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sA(t);me(Di,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>H0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>H0(e.remoteStore,o)),t._onlineComponents=e}async function sA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Di,"Using user provided OfflineComponentProvider");try{await ad(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),await ad(t,new Nc)}}else me(Di,"Using default OfflineComponentProvider"),await ad(t,new nA(void 0));return t._offlineComponents}async function oA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Di,"Using user provided OnlineComponentProvider"),await X0(t,t._uninitializedComponentsProvider._online)):(me(Di,"Using default OnlineComponentProvider"),await X0(t,new Qd))),t._onlineComponents}async function aA(t){const e=await oA(t),n=e.eventManager;return n.onListen=GC.bind(null,e.syncEngine),n.onUnlisten=YC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XC.bind(null,e.syncEngine),n}function lA(t,e,n={}){const i=new ds;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const v=new rA({next:E=>{v.Nu(),c.enqueueAndForget(()=>jC(l,w)),E.fromCache&&p.source==="server"?m.reject(new ye(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new $C(f,v,{includeMetadataChanges:!0,qa:!0});return FC(l,w)}(await aA(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="firestore.googleapis.com",Z0=!0;class ev{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hw,this.ssl=Z0}else this.host=e.host,this.ssl=e.ssl??Z0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W2)throw new ye(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qw(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yp{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ev(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new AI;switch(i.type){case"firstParty":return new NI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=J0.get(n);i&&(me("ComponentProvider","Removing Datastore"),J0.delete(n),i.terminate())}(this),Promise.resolve()}}function uA(t,e,n,i={}){t=kd(t,Yp);const o=xp(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;o&&(rx(`https://${f}`),ax("Firestore",!0)),l.host!==Hw&&l.host!==f&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:o,emulatorOptions:i};if(!cl(p,c)&&(t._setSettings(p),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=zt.MOCK_USER;else{m=ix(i.mockUserToken,t._app?.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new ye(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new zt(w)}t._authCredentials=new RI(new U_(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class Wt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Cl(n,Wt._jsonSchema))return new Wt(e,i||null,new Ie(Ze.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:gt("string",Wt._jsonSchemaVersion),referencePath:gt("string")};class Ao extends Ss{constructor(e,n,i){super(e,n,sw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Ie(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function cA(t,e,...n){if(t=No(t),t instanceof Yp){const i=Ze.fromString(e,...n);return f0(i),new Ao(t,null,i)}{if(!(t instanceof Wt||t instanceof Ao))throw new ye(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ze.fromString(e,...n));return f0(i),new Ao(t.firestore,null,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="AsyncQueue";class nv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Dw(this,"async_queue_retry"),this._c=()=>{const i=od();i&&me(tv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=od();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=od();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ds;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qo(e))throw e;me(tv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Qr("INTERNAL UNHANDLED ERROR: ",rv(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Qp.createAndSchedule(this,e,n,i,l=>this.hc(l));return this.tc.push(o),o}uc(){this.nc&&Pe(47125,{Pc:rv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Qw extends Yp{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new nv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nv(e),this._firestoreClient=void 0,await e}}}function hA(t,e){const n=typeof t=="object"?t:N_(),i=typeof t=="string"?t:Ic,o=Il(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=tx("firestore");l&&uA(o,...l)}return o}function fA(t){if(t._terminated)throw new ye(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dA(t),t._firestoreClient}function dA(t){const e=t._freezeSettings(),n=function(o,l,c,f){return new KI(o,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,qw(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new iA(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(bt.fromBase64String(e))}catch(n){throw new ye(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cl(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:gt("string",Pn._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gr._jsonSchemaVersion}}static fromJSON(e){if(Cl(e,gr._jsonSchema))return new gr(e.latitude,e.longitude)}}gr._jsonSchemaVersion="firestore/geoPoint/1.0",gr._jsonSchema={type:gt("string",gr._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cl(e,yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new yr(e.vectorValues);throw new ye(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yr._jsonSchemaVersion="firestore/vectorValue/1.0",yr._jsonSchema={type:gt("string",yr._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=/^__.*__$/;function Kw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:t})}}class Xp{constructor(e,n,i,o,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Kw(this.Ac)&&pA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mA{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||ch(e)}Cc(e,n,i,o=!1){return new Xp({Ac:e,methodName:n,Dc:i,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gA(t){const e=t._freezeSettings(),n=ch(t._databaseId);return new mA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yA(t,e,n,i=!1){return Jp(n,t.Cc(i?4:3,e))}function Jp(t,e){if(Yw(t=No(t)))return _A("Unsupported field value:",e,t),vA(t,e);if(t instanceof Ww)return function(i,o){if(!Kw(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const f of i){let p=Jp(f,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(t,e)}return function(i,o){if((i=No(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return v2(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=et.fromDate(i);return{timestampValue:zd(o.serializer,l)}}if(i instanceof et){const l=new et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:zd(o.serializer,l)}}if(i instanceof gr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Pn)return{bytesValue:ww(o.serializer,i._byteString)};if(i instanceof Wt){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ew(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof yr)return function(c,f){return{mapValue:{fields:{[X_]:{stringValue:J_},[Cc]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.Sc("VectorValues must only contain numeric values.");return bp(f.serializer,m)})}}}}}}(i,o);throw o.Sc(`Unsupported field value: ${eh(i)}`)}(t,e)}function vA(t,e){const n={};return H_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(t,(i,o)=>{const l=Jp(o,e.mc(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function Yw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof gr||t instanceof Pn||t instanceof Wt||t instanceof Ww||t instanceof yr)}function _A(t,e,n){if(!Yw(n)||!B_(n)){const i=eh(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}const wA=new RegExp("[~\\*/\\[\\]]");function EA(t,e,n){if(e.search(wA)>=0)throw Gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gw(...e.split("."))._internalPath}catch{throw Gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gd(t,e,n,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ye(ae.INVALID_ARGUMENT,f+t+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n,i,o,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TA extends Xw{data(){return super.data()}}function Zp(t,e){return typeof e=="string"?EA(t,e):e instanceof Gw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class em{}class Jw extends em{}function xA(t,e,...n){let i=[];e instanceof em&&i.push(e),i=i.concat(n),function(l){const c=l.filter(p=>p instanceof nm).length,f=l.filter(p=>p instanceof tm).length;if(c>1||c>0&&f>0)throw new ye(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)t=o._apply(t);return t}class tm extends Jw{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new tm(e,n,i)}_apply(e){const n=this._parse(e);return Zw(e._query,n),new Ss(e.firestore,e.converter,Md(e._query,n))}_parse(e){const n=gA(e.firestore);return function(l,c,f,p,m,v,w){let E;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ye(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){sv(w,v);const P=[];for(const L of w)P.push(iv(p,l,L));E={arrayValue:{values:P}}}else E=iv(p,l,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||sv(w,v),E=yA(f,c,w,v==="in"||v==="not-in");return mt.create(m,v,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class nm extends em{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nm(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,l){let c=o;const f=l.getFlattenedFilters();for(const p of f)Zw(c,p),c=Md(c,p)}(e._query,n),new Ss(e.firestore,e.converter,Md(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rm extends Jw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rm(e,n)}_apply(e){const n=function(o,l,c){if(o.startAt!==null)throw new ye(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ye(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gl(l,c)}(e._query,this._field,this._direction);return new Ss(e.firestore,e.converter,function(o,l){const c=o.explicitOrderBy.concat([l]);return new Qo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function IA(t,e="asc"){const n=e,i=Zp("orderBy",t);return rm._create(i,n)}function iv(t,e,n){if(typeof(n=No(n))=="string"){if(n==="")throw new ye(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ow(e)&&n.indexOf("/")!==-1)throw new ye(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ze.fromString(n));if(!Ie.isDocumentKey(i))throw new ye(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return w0(t,new Ie(i))}if(n instanceof Wt)return w0(t,n._key);throw new ye(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eh(n)}.`)}function sv(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zw(t,e){const n=function(o,l){for(const c of o)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ye(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CA{convertValue(e,n="none"){switch(ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ho(e,(o,l)=>{i[o]=this.convertValue(l,n)}),i}convertVectorValue(e){const n=e.fields?.[Cc].arrayValue?.values?.map(i=>lt(i.doubleValue));return new yr(n)}convertGeoPoint(e){return new gr(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ih(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(dl(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ze.fromString(e);it(Aw(i),9688,{name:e});const o=new pl(i.get(1),i.get(3)),l=new Ie(i.popFirst(5));return o.isEqual(n)||Qr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class ec{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ro extends Xw{constructor(e,n,i,o,l,c){super(e,n,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Zp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ro._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ro._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ro._jsonSchema={type:gt("string",Ro._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class dc extends Ro{data(e={}){return super.data(e)}}class Po{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ec(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new dc(this._firestore,this._userDataWriter,i.key,i,new ec(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const p=new dc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ec(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new dc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ec(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:AA(f.type),doc:p,oldIndex:m,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:t})}}Po._jsonSchemaVersion="firestore/querySnapshot/1.0",Po._jsonSchema={type:gt("string",Po._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class RA extends CA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function PA(t){t=kd(t,Ss);const e=kd(t.firestore,Qw),n=fA(e),i=new RA(e);return SA(t._query),lA(n,t._query).then(o=>new Po(e,i,t,o))}(function(e,n=!0){(function(o){Bo=o})(gI),Ci(new qr("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Qw(new PI(i.getProvider("auth-internal")),new DI(c,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ye(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(m.options.projectId,v)}(c,o),c);return l={useFetchStreams:n,...l},f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),pr(l0,u0,e),pr(l0,u0,"esm2020")})();var kA="firebase",NA="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(kA,NA,"app");const e1="@firebase/installations",im="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=1e4,n1=`w:${im}`,r1="FIS_v2",DA="https://firebaseinstallations.googleapis.com/v1",VA=3600*1e3,bA="installations",MA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ys=new Zc(bA,MA,OA);function i1(t){return t instanceof Vi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1({projectId:t}){return`${DA}/projects/${t}/installations`}function o1(t){return{token:t.token,requestStatus:2,expiresIn:FA(t.expiresIn),creationTime:Date.now()}}async function a1(t,e){const i=(await e.json()).error;return ys.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function l1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function LA(t,{refreshToken:e}){const n=l1(t);return n.append("Authorization",jA(e)),n}async function u1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function FA(t){return Number(t.replace("s","000"))}function jA(t){return`${r1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=s1(t),o=l1(t),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const c={fid:n,authVersion:r1,appId:t.appId,sdkVersion:n1},f={method:"POST",headers:o,body:JSON.stringify(c)},p=await u1(()=>fetch(i,f));if(p.ok){const m=await p.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:o1(m.authToken)}}else throw await a1("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=/^[cdef][\w-]{21}$/,Wd="";function BA(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=qA(t);return $A.test(n)?n:Wd}catch{return Wd}}function qA(t){return UA(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=new Map;function f1(t,e){const n=fh(t);d1(n,e),HA(n,e)}function d1(t,e){const n=h1.get(t);if(n)for(const i of n)i(e)}function HA(t,e){const n=QA();n&&n.postMessage({key:t,fid:e}),GA()}let hs=null;function QA(){return!hs&&"BroadcastChannel"in self&&(hs=new BroadcastChannel("[Firebase] FID Change"),hs.onmessage=t=>{d1(t.data.key,t.data.fid)}),hs}function GA(){h1.size===0&&hs&&(hs.close(),hs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="firebase-installations-database",KA=1,vs="firebase-installations-store";let ld=null;function sm(){return ld||(ld=P_(WA,KA,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vs)}}})),ld}async function Dc(t,e){const n=fh(t),o=(await sm()).transaction(vs,"readwrite"),l=o.objectStore(vs),c=await l.get(n);return await l.put(e,n),await o.done,(!c||c.fid!==e.fid)&&f1(t,e.fid),e}async function p1(t){const e=fh(t),i=(await sm()).transaction(vs,"readwrite");await i.objectStore(vs).delete(e),await i.done}async function dh(t,e){const n=fh(t),o=(await sm()).transaction(vs,"readwrite"),l=o.objectStore(vs),c=await l.get(n),f=e(c);return f===void 0?await l.delete(n):await l.put(f,n),await o.done,f&&(!c||c.fid!==f.fid)&&f1(t,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(t){let e;const n=await dh(t.appConfig,i=>{const o=YA(i),l=XA(t,o);return e=l.registrationPromise,l.installationEntry});return n.fid===Wd?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function YA(t){const e=t||{fid:BA(),registrationStatus:0};return m1(e)}function XA(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ys.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=JA(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ZA(t)}:{installationEntry:e}}async function JA(t,e){try{const n=await zA(t,e);return Dc(t.appConfig,n)}catch(n){throw i1(n)&&n.customData.serverCode===409?await p1(t.appConfig):await Dc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function ZA(t){let e=await ov(t.appConfig);for(;e.registrationStatus===1;)await c1(100),e=await ov(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await om(t);return i||n}return e}function ov(t){return dh(t,e=>{if(!e)throw ys.create("installation-not-found");return m1(e)})}function m1(t){return eR(t)?{fid:t.fid,registrationStatus:0}:t}function eR(t){return t.registrationStatus===1&&t.registrationTime+t1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR({appConfig:t,heartbeatServiceProvider:e},n){const i=nR(t,n),o=LA(t,n),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const c={installation:{sdkVersion:n1,appId:t.appId}},f={method:"POST",headers:o,body:JSON.stringify(c)},p=await u1(()=>fetch(i,f));if(p.ok){const m=await p.json();return o1(m)}else throw await a1("Generate Auth Token",p)}function nR(t,{fid:e}){return`${s1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(t,e=!1){let n;const i=await dh(t.appConfig,l=>{if(!g1(l))throw ys.create("not-registered");const c=l.authToken;if(!e&&sR(c))return l;if(c.requestStatus===1)return n=rR(t,e),l;{if(!navigator.onLine)throw ys.create("app-offline");const f=aR(l);return n=iR(t,f),f}});return n?await n:i.authToken}async function rR(t,e){let n=await av(t.appConfig);for(;n.authToken.requestStatus===1;)await c1(100),n=await av(t.appConfig);const i=n.authToken;return i.requestStatus===0?am(t,e):i}function av(t){return dh(t,e=>{if(!g1(e))throw ys.create("not-registered");const n=e.authToken;return lR(n)?{...e,authToken:{requestStatus:0}}:e})}async function iR(t,e){try{const n=await tR(t,e),i={...e,authToken:n};return await Dc(t.appConfig,i),n}catch(n){if(i1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await p1(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await Dc(t.appConfig,i)}throw n}}function g1(t){return t!==void 0&&t.registrationStatus===2}function sR(t){return t.requestStatus===2&&!oR(t)}function oR(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+VA}function aR(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function lR(t){return t.requestStatus===1&&t.requestTime+t1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(t){const e=t,{installationEntry:n,registrationPromise:i}=await om(e);return i?i.catch(console.error):am(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(t,e=!1){const n=t;return await hR(n),(await am(n,e)).token}async function hR(t){const{registrationPromise:e}=await om(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t){if(!t||!t.options)throw ud("App Configuration");if(!t.name)throw ud("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ud(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ud(t){return ys.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="installations",dR="installations-internal",pR=t=>{const e=t.getProvider("app").getImmediate(),n=fR(e),i=Il(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},mR=t=>{const e=t.getProvider("app").getImmediate(),n=Il(e,y1).getImmediate();return{getId:()=>uR(n),getToken:o=>cR(n,o)}};function gR(){Ci(new qr(y1,pR,"PUBLIC")),Ci(new qr(dR,mR,"PRIVATE"))}gR();pr(e1,im);pr(e1,im,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="analytics",yR="firebase_id",vR="origin",_R=60*1e3,wR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=new Ap("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},yn=new Zc("analytics","Analytics",ER);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t){if(!t.startsWith(lm)){const e=yn.create("invalid-gtag-resource",{gtagURL:t});return on.warn(e.message),""}return t}function v1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function SR(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function xR(t,e){const n=SR("firebase-js-sdk-policy",{createScriptURL:TR}),i=document.createElement("script"),o=`${lm}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function IR(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function CR(t,e,n,i,o,l){const c=i[o];try{if(c)await e[c];else{const p=(await v1(n)).find(m=>m.measurementId===o);p&&await e[p.appId]}}catch(f){on.error(f)}t("config",o,l)}async function AR(t,e,n,i,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const f=await v1(n);for(const p of c){const m=f.find(w=>w.measurementId===p),v=m&&e[m.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",i,o||{})}catch(l){on.error(l)}}function RR(t,e,n,i){async function o(l,...c){try{if(l==="event"){const[f,p]=c;await AR(t,e,n,f,p)}else if(l==="config"){const[f,p]=c;await CR(t,e,n,i,f,p)}else if(l==="consent"){const[f,p]=c;t("consent",f,p)}else if(l==="get"){const[f,p,m]=c;t("get",f,p,m)}else if(l==="set"){const[f]=c;t("set",f)}else t(l,...c)}catch(f){on.error(f)}}return o}function PR(t,e,n,i,o){let l=function(...c){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=RR(l,t,e,n),{gtagCore:l,wrappedGtag:window[o]}}function kR(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(lm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=30,DR=1e3;class VR{constructor(e={},n=DR){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const _1=new VR;function bR(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function MR(t){const{appId:e,apiKey:n}=t,i={method:"GET",headers:bR(n)},o=wR.replace("{app-id}",e),l=await fetch(o,i);if(l.status!==200&&l.status!==304){let c="";try{const f=await l.json();f.error?.message&&(c=f.error.message)}catch{}throw yn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function OR(t,e=_1,n){const{appId:i,apiKey:o,measurementId:l}=t.options;if(!i)throw yn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:i};throw yn.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new jR;return setTimeout(async()=>{f.abort()},_R),w1({appId:i,apiKey:o,measurementId:l},c,f,e)}async function w1(t,{throttleEndTimeMillis:e,backoffCount:n},i,o=_1){const{appId:l,measurementId:c}=t;try{await LR(i,e)}catch(f){if(c)return on.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:c};throw f}try{const f=await MR(t);return o.deleteThrottleMetadata(l),f}catch(f){const p=f;if(!FR(p)){if(o.deleteThrottleMetadata(l),c)return on.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:c};throw f}const m=Number(p?.customData?.httpStatus)===503?Jy(n,o.intervalMillis,NR):Jy(n,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return o.setThrottleMetadata(l,v),on.debug(`Calling attemptFetch again in ${m} millis`),w1(t,v,i,o)}}function LR(t,e){return new Promise((n,i)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(l),i(yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function FR(t){if(!(t instanceof Vi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class jR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function zR(t,e,n,i,o){if(o&&o.global){t("event",n,i);return}else{const l=await e,c={...i,send_to:l};t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(){if(Ip())try{await Cp()}catch(t){return on.warn(yn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return on.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $R(t,e,n,i,o,l,c){const f=OR(t);f.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&on.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>on.error(E)),e.push(f);const p=UR().then(E=>{if(E)return i.getId()}),[m,v]=await Promise.all([f,p]);kR(l)||xR(l,m.measurementId),o("js",new Date);const w=c?.config??{};return w[vR]="firebase",w.update=!0,v!=null&&(w[yR]=v),o("config",m.measurementId,w),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.app=e}_delete(){return delete ol[this.app.options.appId],Promise.resolve()}}let ol={},lv=[];const uv={};let cd="dataLayer",qR="gtag",cv,E1,hv=!1;function HR(){const t=[];if(I_()&&t.push("This is a browser extension environment."),C_()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,o)=>`(${o+1}) ${i}`).join(" "),n=yn.create("invalid-analytics-context",{errorInfo:e});on.warn(n.message)}}function QR(t,e,n){HR();const i=t.options.appId;if(!i)throw yn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)on.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw yn.create("no-api-key");if(ol[i]!=null)throw yn.create("already-exists",{id:i});if(!hv){IR(cd);const{wrappedGtag:l,gtagCore:c}=PR(ol,lv,uv,cd,qR);E1=l,cv=c,hv=!0}return ol[i]=$R(t,lv,uv,e,cv,cd,n),new BR(t)}function GR(t=N_()){t=No(t);const e=Il(t,Vc);return e.isInitialized()?e.getImmediate():WR(t)}function WR(t,e={}){const n=Il(t,Vc);if(n.isInitialized()){const o=n.getImmediate();if(cl(e,n.getOptions()))return o;throw yn.create("already-initialized")}return n.initialize({options:e})}async function KR(){if(I_()||!C_()||!Ip())return!1;try{return await Cp()}catch{return!1}}function YR(t,e,n,i){t=No(t),zR(E1,ol[t.app.options.appId],e,n,i).catch(o=>on.error(o))}const fv="@firebase/analytics",dv="0.10.18";function XR(){Ci(new qr(Vc,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return QR(i,o,n)},"PUBLIC")),Ci(new qr("analytics-internal",t,"PRIVATE")),pr(fv,dv),pr(fv,dv,"esm2020");function t(e){try{const n=e.getProvider(Vc).getImmediate();return{logEvent:(i,o,l)=>YR(n,i,o,l)}}catch(n){throw yn.create("interop-component-reg-failed",{reason:n})}}}XR();const JR={apiKey:"AIzaSyBNnluwADJFaceTVz9NHv9Uv23CGbgF9Iw",authDomain:"wander-month-map.firebaseapp.com",projectId:"wander-month-map",storageBucket:"wander-month-map.firebasestorage.app",messagingSenderId:"704472271281",appId:"1:704472271281:web:3e6620c41e9b9929721590",measurementId:"G-DLL5TMYY76"},T1=k_(JR);typeof window<"u"&&KR().then(t=>t?GR(T1):null).then(t=>{});const ZR=hA(T1);let al=null;const eP=async()=>{if(al)return al;try{const t=cA(ZR,"countries"),e=xA(t,IA("name")),n=await PA(e),i=[];if(n.forEach(o=>{const l=o.data(),{createdAt:c,updatedAt:f,...p}=l;i.push(p)}),!Array.isArray(i))throw new Error("Invalid tourism data format: missing countries array");return al=i,i}catch{return[]}},tP=async()=>["January","February","March","April","May","June","July","August","September","October","November","December"],ph=()=>al||[],um=t=>{if(!t)return"";const e=ph(),n={};return e.forEach(i=>{n[i.code]=i.code,n[i.name.toUpperCase()]=i.code,i.alternativeCodes&&(i.alternativeCodes.alpha3&&(n[i.alternativeCodes.alpha3]=i.code),i.alternativeCodes.numeric&&(n[i.alternativeCodes.numeric]=i.code),i.alternativeCodes.commonNames&&i.alternativeCodes.commonNames.forEach(o=>{n[o.toUpperCase()]=i.code}))}),n[t]||t},nP=(t,e)=>{const n=um(t),o=ph().find(l=>l.code===n);return!!(o&&o.monthlyData[e])},rP=t=>{const[e,n]=fe.useState(null),i=fe.useRef(null),o=fe.useRef(null),l=(m,v)=>{const w=um(v),x=ph().find(le=>le.code===w);if(!x||!x.monthlyData[t]||i.current===v)return;i.current=v;const P=x.monthlyData[t],k=m.currentTarget.closest(".relative")?.getBoundingClientRect();let H,X;if("touches"in m){const le=m.touches[0];H=le.clientX,X=le.clientY}else H=m.clientX,X=m.clientY;const J=k?H-k.left:H,Z=k?X-k.top:X;n({country:x.name,avgDayTemp:P.avgDayTemp,avgNightTemp:P.avgNightTemp,rainfall:P.rainfall,description:P.description||"",bestTime:P.bestTime,x:J,y:Z,regions:x.regions,selectedMonth:t})},c=()=>{o.current&&(clearTimeout(o.current),o.current=null),n(null),i.current=null};return{tooltip:e,handleCountryHover:l,handleCountryLeave:c,handleTouchStart:(m,v)=>{m.preventDefault(),l(m,v)},handleTouchEnd:m=>{m.preventDefault(),o.current=setTimeout(()=>{c()},150)}}},iP="modulepreload",sP=function(t){return"/wander-month-map/"+t},pv={},oP=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let m=function(v){return Promise.all(v.map(w=>Promise.resolve(w).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};var c=m;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");o=m(n.map(v=>{if(v=sP(v),v in pv)return;pv[v]=!0;const w=v.endsWith(".css"),E=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${E}`))return;const x=document.createElement("link");if(x.rel=w?"stylesheet":iP,w||(x.as="script"),x.crossOrigin="",x.href=v,p&&x.setAttribute("nonce",p),document.head.appendChild(x),w)return new Promise((P,L)=>{x.addEventListener("load",P),x.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return o.then(f=>{for(const p of f||[])p.status==="rejected"&&l(p.reason);return e().catch(l)})};function aP(t){return t}function lP(t){if(t==null)return aP;var e,n,i=t.scale[0],o=t.scale[1],l=t.translate[0],c=t.translate[1];return function(f,p){p||(e=n=0);var m=2,v=f.length,w=new Array(v);for(w[0]=(e+=f[0])*i+l,w[1]=(n+=f[1])*o+c;m<v;)w[m]=f[m],++m;return w}}function uP(t,e){for(var n,i=t.length,o=i-e;o<--i;)n=t[o],t[o++]=t[i],t[i]=n}function cP(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return mv(t,n)})}:mv(t,e)}function mv(t,e){var n=e.id,i=e.bbox,o=e.properties==null?{}:e.properties,l=hP(t,e);return n==null&&i==null?{type:"Feature",properties:o,geometry:l}:i==null?{type:"Feature",id:n,properties:o,geometry:l}:{type:"Feature",id:n,bbox:i,properties:o,geometry:l}}function hP(t,e){var n=lP(t.transform),i=t.arcs;function o(v,w){w.length&&w.pop();for(var E=i[v<0?~v:v],x=0,P=E.length;x<P;++x)w.push(n(E[x],x));v<0&&uP(w,P)}function l(v){return n(v)}function c(v){for(var w=[],E=0,x=v.length;E<x;++E)o(v[E],w);return w.length<2&&w.push(w[0]),w}function f(v){for(var w=c(v);w.length<4;)w.push(w[0]);return w}function p(v){return v.map(f)}function m(v){var w=v.type,E;switch(w){case"GeometryCollection":return{type:w,geometries:v.geometries.map(m)};case"Point":E=l(v.coordinates);break;case"MultiPoint":E=v.coordinates.map(l);break;case"LineString":E=c(v.arcs);break;case"MultiLineString":E=v.arcs.map(c);break;case"Polygon":E=p(v.arcs);break;case"MultiPolygon":E=v.arcs.map(p);break;default:return null}return{type:w,coordinates:E}}return m(e)}const fP=()=>{const[t,e]=fe.useState(null),[n,i]=fe.useState(!0),[o,l]=fe.useState(null);return fe.useEffect(()=>{(async()=>{try{i(!0);const f=await oP(()=>import("./countries-50m-DgYPl3oJ.js"),[]),p=cP(f,f.objects.countries);e(p),l(null)}catch(f){console.error("Error loading world data:",f),l("Failed to load world map data"),e(null)}finally{i(!1)}})()},[]),{worldData:t,loading:n,error:o}};var Kd="http://www.w3.org/1999/xhtml";const gv={svg:"http://www.w3.org/2000/svg",xhtml:Kd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mh(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),gv.hasOwnProperty(e)?{space:gv[e],local:t}:t}function dP(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Kd&&e.documentElement.namespaceURI===Kd?e.createElement(t):e.createElementNS(n,t)}}function pP(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function S1(t){var e=mh(t);return(e.local?pP:dP)(e)}function mP(){}function cm(t){return t==null?mP:function(){return this.querySelector(t)}}function gP(t){typeof t!="function"&&(t=cm(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],c=l.length,f=i[o]=new Array(c),p,m,v=0;v<c;++v)(p=l[v])&&(m=t.call(p,p.__data__,v,l))&&("__data__"in p&&(m.__data__=p.__data__),f[v]=m);return new vn(i,this._parents)}function yP(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function vP(){return[]}function x1(t){return t==null?vP:function(){return this.querySelectorAll(t)}}function _P(t){return function(){return yP(t.apply(this,arguments))}}function wP(t){typeof t=="function"?t=_P(t):t=x1(t);for(var e=this._groups,n=e.length,i=[],o=[],l=0;l<n;++l)for(var c=e[l],f=c.length,p,m=0;m<f;++m)(p=c[m])&&(i.push(t.call(p,p.__data__,m,c)),o.push(p));return new vn(i,o)}function I1(t){return function(){return this.matches(t)}}function C1(t){return function(e){return e.matches(t)}}var EP=Array.prototype.find;function TP(t){return function(){return EP.call(this.children,t)}}function SP(){return this.firstElementChild}function xP(t){return this.select(t==null?SP:TP(typeof t=="function"?t:C1(t)))}var IP=Array.prototype.filter;function CP(){return Array.from(this.children)}function AP(t){return function(){return IP.call(this.children,t)}}function RP(t){return this.selectAll(t==null?CP:AP(typeof t=="function"?t:C1(t)))}function PP(t){typeof t!="function"&&(t=I1(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],c=l.length,f=i[o]=[],p,m=0;m<c;++m)(p=l[m])&&t.call(p,p.__data__,m,l)&&f.push(p);return new vn(i,this._parents)}function A1(t){return new Array(t.length)}function kP(){return new vn(this._enter||this._groups.map(A1),this._parents)}function bc(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}bc.prototype={constructor:bc,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function NP(t){return function(){return t}}function DP(t,e,n,i,o,l){for(var c=0,f,p=e.length,m=l.length;c<m;++c)(f=e[c])?(f.__data__=l[c],i[c]=f):n[c]=new bc(t,l[c]);for(;c<p;++c)(f=e[c])&&(o[c]=f)}function VP(t,e,n,i,o,l,c){var f,p,m=new Map,v=e.length,w=l.length,E=new Array(v),x;for(f=0;f<v;++f)(p=e[f])&&(E[f]=x=c.call(p,p.__data__,f,e)+"",m.has(x)?o[f]=p:m.set(x,p));for(f=0;f<w;++f)x=c.call(t,l[f],f,l)+"",(p=m.get(x))?(i[f]=p,p.__data__=l[f],m.delete(x)):n[f]=new bc(t,l[f]);for(f=0;f<v;++f)(p=e[f])&&m.get(E[f])===p&&(o[f]=p)}function bP(t){return t.__data__}function MP(t,e){if(!arguments.length)return Array.from(this,bP);var n=e?VP:DP,i=this._parents,o=this._groups;typeof t!="function"&&(t=NP(t));for(var l=o.length,c=new Array(l),f=new Array(l),p=new Array(l),m=0;m<l;++m){var v=i[m],w=o[m],E=w.length,x=OP(t.call(v,v&&v.__data__,m,i)),P=x.length,L=f[m]=new Array(P),k=c[m]=new Array(P),H=p[m]=new Array(E);n(v,w,L,k,H,x,e);for(var X=0,J=0,Z,le;X<P;++X)if(Z=L[X]){for(X>=J&&(J=X+1);!(le=k[J])&&++J<P;);Z._next=le||null}}return c=new vn(c,i),c._enter=f,c._exit=p,c}function OP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function LP(){return new vn(this._exit||this._groups.map(A1),this._parents)}function FP(t,e,n){var i=this.enter(),o=this,l=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?l.remove():n(l),i&&o?i.merge(o).order():o}function jP(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,l=i.length,c=Math.min(o,l),f=new Array(o),p=0;p<c;++p)for(var m=n[p],v=i[p],w=m.length,E=f[p]=new Array(w),x,P=0;P<w;++P)(x=m[P]||v[P])&&(E[P]=x);for(;p<o;++p)f[p]=n[p];return new vn(f,this._parents)}function zP(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,l=i[o],c;--o>=0;)(c=i[o])&&(l&&c.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(c,l),l=c);return this}function UP(t){t||(t=$P);function e(w,E){return w&&E?t(w.__data__,E.__data__):!w-!E}for(var n=this._groups,i=n.length,o=new Array(i),l=0;l<i;++l){for(var c=n[l],f=c.length,p=o[l]=new Array(f),m,v=0;v<f;++v)(m=c[v])&&(p[v]=m);p.sort(e)}return new vn(o,this._parents).order()}function $P(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function BP(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function qP(){return Array.from(this)}function HP(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,l=i.length;o<l;++o){var c=i[o];if(c)return c}return null}function QP(){let t=0;for(const e of this)++t;return t}function GP(){return!this.node()}function WP(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],l=0,c=o.length,f;l<c;++l)(f=o[l])&&t.call(f,f.__data__,l,o);return this}function KP(t){return function(){this.removeAttribute(t)}}function YP(t){return function(){this.removeAttributeNS(t.space,t.local)}}function XP(t,e){return function(){this.setAttribute(t,e)}}function JP(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ZP(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function ek(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function tk(t,e){var n=mh(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?YP:KP:typeof e=="function"?n.local?ek:ZP:n.local?JP:XP)(n,e))}function R1(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function nk(t){return function(){this.style.removeProperty(t)}}function rk(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ik(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function sk(t,e,n){return arguments.length>1?this.each((e==null?nk:typeof e=="function"?ik:rk)(t,e,n??"")):jo(this.node(),t)}function jo(t,e){return t.style.getPropertyValue(e)||R1(t).getComputedStyle(t,null).getPropertyValue(e)}function ok(t){return function(){delete this[t]}}function ak(t,e){return function(){this[t]=e}}function lk(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function uk(t,e){return arguments.length>1?this.each((e==null?ok:typeof e=="function"?lk:ak)(t,e)):this.node()[t]}function P1(t){return t.trim().split(/^|\s+/)}function hm(t){return t.classList||new k1(t)}function k1(t){this._node=t,this._names=P1(t.getAttribute("class")||"")}k1.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function N1(t,e){for(var n=hm(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function D1(t,e){for(var n=hm(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function ck(t){return function(){N1(this,t)}}function hk(t){return function(){D1(this,t)}}function fk(t,e){return function(){(e.apply(this,arguments)?N1:D1)(this,t)}}function dk(t,e){var n=P1(t+"");if(arguments.length<2){for(var i=hm(this.node()),o=-1,l=n.length;++o<l;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?fk:e?ck:hk)(n,e))}function pk(){this.textContent=""}function mk(t){return function(){this.textContent=t}}function gk(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function yk(t){return arguments.length?this.each(t==null?pk:(typeof t=="function"?gk:mk)(t)):this.node().textContent}function vk(){this.innerHTML=""}function _k(t){return function(){this.innerHTML=t}}function wk(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ek(t){return arguments.length?this.each(t==null?vk:(typeof t=="function"?wk:_k)(t)):this.node().innerHTML}function Tk(){this.nextSibling&&this.parentNode.appendChild(this)}function Sk(){return this.each(Tk)}function xk(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ik(){return this.each(xk)}function Ck(t){var e=typeof t=="function"?t:S1(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ak(){return null}function Rk(t,e){var n=typeof t=="function"?t:S1(t),i=e==null?Ak:typeof e=="function"?e:cm(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Pk(){var t=this.parentNode;t&&t.removeChild(this)}function kk(){return this.each(Pk)}function Nk(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Dk(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Vk(t){return this.select(t?Dk:Nk)}function bk(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Mk(t){return function(e){t.call(this,e,this.__data__)}}function Ok(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Lk(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,l;n<o;++n)l=e[n],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):e[++i]=l;++i?e.length=i:delete this.__on}}}function Fk(t,e,n){return function(){var i=this.__on,o,l=Mk(e);if(i){for(var c=0,f=i.length;c<f;++c)if((o=i[c]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=l,o.options=n),o.value=e;return}}this.addEventListener(t.type,l,n),o={type:t.type,name:t.name,value:e,listener:l,options:n},i?i.push(o):this.__on=[o]}}function jk(t,e,n){var i=Ok(t+""),o,l=i.length,c;if(arguments.length<2){var f=this.node().__on;if(f){for(var p=0,m=f.length,v;p<m;++p)for(o=0,v=f[p];o<l;++o)if((c=i[o]).type===v.type&&c.name===v.name)return v.value}return}for(f=e?Fk:Lk,o=0;o<l;++o)this.each(f(i[o],e,n));return this}function V1(t,e,n){var i=R1(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function zk(t,e){return function(){return V1(this,t,e)}}function Uk(t,e){return function(){return V1(this,t,e.apply(this,arguments))}}function $k(t,e){return this.each((typeof e=="function"?Uk:zk)(t,e))}function*Bk(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,l=i.length,c;o<l;++o)(c=i[o])&&(yield c)}var b1=[null];function vn(t,e){this._groups=t,this._parents=e}function kl(){return new vn([[document.documentElement]],b1)}function qk(){return this}vn.prototype=kl.prototype={constructor:vn,select:gP,selectAll:wP,selectChild:xP,selectChildren:RP,filter:PP,data:MP,enter:kP,exit:LP,join:FP,merge:jP,selection:qk,order:zP,sort:UP,call:BP,nodes:qP,node:HP,size:QP,empty:GP,each:WP,attr:tk,style:sk,property:uk,classed:dk,text:yk,html:Ek,raise:Sk,lower:Ik,append:Ck,insert:Rk,remove:kk,clone:Vk,datum:bk,on:jk,dispatch:$k,[Symbol.iterator]:Bk};function gn(t){return typeof t=="string"?new vn([[document.querySelector(t)]],[document.documentElement]):new vn([[t]],b1)}function Hk(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ls(t,e){if(t=Hk(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}var Qk={value:()=>{}};function fm(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new pc(n)}function pc(t){this._=t}function Gk(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}pc.prototype=fm.prototype={constructor:pc,on:function(t,e){var n=this._,i=Gk(t+"",n),o,l=-1,c=i.length;if(arguments.length<2){for(;++l<c;)if((o=(t=i[l]).type)&&(o=Wk(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<c;)if(o=(t=i[l]).type)n[o]=yv(n[o],t.name,e);else if(e==null)for(o in n)n[o]=yv(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new pc(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,l;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],i=0,o=l.length;i<o;++i)l[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,l=i.length;o<l;++o)i[o].value.apply(e,n)}};function Wk(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function yv(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=Qk,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}const Yd={capture:!0,passive:!1};function Xd(t){t.preventDefault(),t.stopImmediatePropagation()}function Kk(t){var e=t.document.documentElement,n=gn(t).on("dragstart.drag",Xd,Yd);"onselectstart"in e?n.on("selectstart.drag",Xd,Yd):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Yk(t,e){var n=t.document.documentElement,i=gn(t).on("dragstart.drag",null);e&&(i.on("click.drag",Xd,Yd),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function dm(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function M1(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Nl(){}var yl=.7,Mc=1/yl,ko="\\s*([+-]?\\d+)\\s*",vl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xk=/^#([0-9a-f]{3,8})$/,Jk=new RegExp(`^rgb\\(${ko},${ko},${ko}\\)$`),Zk=new RegExp(`^rgb\\(${vr},${vr},${vr}\\)$`),eN=new RegExp(`^rgba\\(${ko},${ko},${ko},${vl}\\)$`),tN=new RegExp(`^rgba\\(${vr},${vr},${vr},${vl}\\)$`),nN=new RegExp(`^hsl\\(${vl},${vr},${vr}\\)$`),rN=new RegExp(`^hsla\\(${vl},${vr},${vr},${vl}\\)$`),vv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dm(Nl,_l,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_v,formatHex:_v,formatHex8:iN,formatHsl:sN,formatRgb:wv,toString:wv});function _v(){return this.rgb().formatHex()}function iN(){return this.rgb().formatHex8()}function sN(){return O1(this).formatHsl()}function wv(){return this.rgb().formatRgb()}function _l(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Xk.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ev(e):n===3?new sn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?tc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?tc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Jk.exec(t))?new sn(e[1],e[2],e[3],1):(e=Zk.exec(t))?new sn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eN.exec(t))?tc(e[1],e[2],e[3],e[4]):(e=tN.exec(t))?tc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nN.exec(t))?xv(e[1],e[2]/100,e[3]/100,1):(e=rN.exec(t))?xv(e[1],e[2]/100,e[3]/100,e[4]):vv.hasOwnProperty(t)?Ev(vv[t]):t==="transparent"?new sn(NaN,NaN,NaN,0):null}function Ev(t){return new sn(t>>16&255,t>>8&255,t&255,1)}function tc(t,e,n,i){return i<=0&&(t=e=n=NaN),new sn(t,e,n,i)}function oN(t){return t instanceof Nl||(t=_l(t)),t?(t=t.rgb(),new sn(t.r,t.g,t.b,t.opacity)):new sn}function Jd(t,e,n,i){return arguments.length===1?oN(t):new sn(t,e,n,i??1)}function sn(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}dm(sn,Jd,M1(Nl,{brighter(t){return t=t==null?Mc:Math.pow(Mc,t),new sn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yl:Math.pow(yl,t),new sn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sn(ms(this.r),ms(this.g),ms(this.b),Oc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tv,formatHex:Tv,formatHex8:aN,formatRgb:Sv,toString:Sv}));function Tv(){return`#${fs(this.r)}${fs(this.g)}${fs(this.b)}`}function aN(){return`#${fs(this.r)}${fs(this.g)}${fs(this.b)}${fs((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sv(){const t=Oc(this.opacity);return`${t===1?"rgb(":"rgba("}${ms(this.r)}, ${ms(this.g)}, ${ms(this.b)}${t===1?")":`, ${t})`}`}function Oc(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ms(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fs(t){return t=ms(t),(t<16?"0":"")+t.toString(16)}function xv(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Yn(t,e,n,i)}function O1(t){if(t instanceof Yn)return new Yn(t.h,t.s,t.l,t.opacity);if(t instanceof Nl||(t=_l(t)),!t)return new Yn;if(t instanceof Yn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),l=Math.max(e,n,i),c=NaN,f=l-o,p=(l+o)/2;return f?(e===l?c=(n-i)/f+(n<i)*6:n===l?c=(i-e)/f+2:c=(e-n)/f+4,f/=p<.5?l+o:2-l-o,c*=60):f=p>0&&p<1?0:c,new Yn(c,f,p,t.opacity)}function lN(t,e,n,i){return arguments.length===1?O1(t):new Yn(t,e,n,i??1)}function Yn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}dm(Yn,lN,M1(Nl,{brighter(t){return t=t==null?Mc:Math.pow(Mc,t),new Yn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yl:Math.pow(yl,t),new Yn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new sn(hd(t>=240?t-240:t+120,o,i),hd(t,o,i),hd(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new Yn(Iv(this.h),nc(this.s),nc(this.l),Oc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Oc(this.opacity);return`${t===1?"hsl(":"hsla("}${Iv(this.h)}, ${nc(this.s)*100}%, ${nc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Iv(t){return t=(t||0)%360,t<0?t+360:t}function nc(t){return Math.max(0,Math.min(1,t||0))}function hd(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const L1=t=>()=>t;function uN(t,e){return function(n){return t+n*e}}function cN(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function hN(t){return(t=+t)==1?F1:function(e,n){return n-e?cN(e,n,t):L1(isNaN(e)?n:e)}}function F1(t,e){var n=e-t;return n?uN(t,n):L1(isNaN(t)?e:t)}const Cv=function t(e){var n=hN(e);function i(o,l){var c=n((o=Jd(o)).r,(l=Jd(l)).r),f=n(o.g,l.g),p=n(o.b,l.b),m=F1(o.opacity,l.opacity);return function(v){return o.r=c(v),o.g=f(v),o.b=p(v),o.opacity=m(v),o+""}}return i.gamma=t,i}(1);function _i(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Zd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fd=new RegExp(Zd.source,"g");function fN(t){return function(){return t}}function dN(t){return function(e){return t(e)+""}}function pN(t,e){var n=Zd.lastIndex=fd.lastIndex=0,i,o,l,c=-1,f=[],p=[];for(t=t+"",e=e+"";(i=Zd.exec(t))&&(o=fd.exec(e));)(l=o.index)>n&&(l=e.slice(n,l),f[c]?f[c]+=l:f[++c]=l),(i=i[0])===(o=o[0])?f[c]?f[c]+=o:f[++c]=o:(f[++c]=null,p.push({i:c,x:_i(i,o)})),n=fd.lastIndex;return n<e.length&&(l=e.slice(n),f[c]?f[c]+=l:f[++c]=l),f.length<2?p[0]?dN(p[0].x):fN(e):(e=p.length,function(m){for(var v=0,w;v<e;++v)f[(w=p[v]).i]=w.x(m);return f.join("")})}var Av=180/Math.PI,ep={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function j1(t,e,n,i,o,l){var c,f,p;return(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c),(p=t*n+e*i)&&(n-=t*p,i-=e*p),(f=Math.sqrt(n*n+i*i))&&(n/=f,i/=f,p/=f),t*i<e*n&&(t=-t,e=-e,p=-p,c=-c),{translateX:o,translateY:l,rotate:Math.atan2(e,t)*Av,skewX:Math.atan(p)*Av,scaleX:c,scaleY:f}}var rc;function mN(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ep:j1(e.a,e.b,e.c,e.d,e.e,e.f)}function gN(t){return t==null||(rc||(rc=document.createElementNS("http://www.w3.org/2000/svg","g")),rc.setAttribute("transform",t),!(t=rc.transform.baseVal.consolidate()))?ep:(t=t.matrix,j1(t.a,t.b,t.c,t.d,t.e,t.f))}function z1(t,e,n,i){function o(m){return m.length?m.pop()+" ":""}function l(m,v,w,E,x,P){if(m!==w||v!==E){var L=x.push("translate(",null,e,null,n);P.push({i:L-4,x:_i(m,w)},{i:L-2,x:_i(v,E)})}else(w||E)&&x.push("translate("+w+e+E+n)}function c(m,v,w,E){m!==v?(m-v>180?v+=360:v-m>180&&(m+=360),E.push({i:w.push(o(w)+"rotate(",null,i)-2,x:_i(m,v)})):v&&w.push(o(w)+"rotate("+v+i)}function f(m,v,w,E){m!==v?E.push({i:w.push(o(w)+"skewX(",null,i)-2,x:_i(m,v)}):v&&w.push(o(w)+"skewX("+v+i)}function p(m,v,w,E,x,P){if(m!==w||v!==E){var L=x.push(o(x)+"scale(",null,",",null,")");P.push({i:L-4,x:_i(m,w)},{i:L-2,x:_i(v,E)})}else(w!==1||E!==1)&&x.push(o(x)+"scale("+w+","+E+")")}return function(m,v){var w=[],E=[];return m=t(m),v=t(v),l(m.translateX,m.translateY,v.translateX,v.translateY,w,E),c(m.rotate,v.rotate,w,E),f(m.skewX,v.skewX,w,E),p(m.scaleX,m.scaleY,v.scaleX,v.scaleY,w,E),m=v=null,function(x){for(var P=-1,L=E.length,k;++P<L;)w[(k=E[P]).i]=k.x(x);return w.join("")}}}var yN=z1(mN,"px, ","px)","deg)"),vN=z1(gN,", ",")",")"),_N=1e-12;function Rv(t){return((t=Math.exp(t))+1/t)/2}function wN(t){return((t=Math.exp(t))-1/t)/2}function EN(t){return((t=Math.exp(2*t))-1)/(t+1)}const TN=function t(e,n,i){function o(l,c){var f=l[0],p=l[1],m=l[2],v=c[0],w=c[1],E=c[2],x=v-f,P=w-p,L=x*x+P*P,k,H;if(L<_N)H=Math.log(E/m)/e,k=function(D){return[f+D*x,p+D*P,m*Math.exp(e*D*H)]};else{var X=Math.sqrt(L),J=(E*E-m*m+i*L)/(2*m*n*X),Z=(E*E-m*m-i*L)/(2*E*n*X),le=Math.log(Math.sqrt(J*J+1)-J),ce=Math.log(Math.sqrt(Z*Z+1)-Z);H=(ce-le)/e,k=function(D){var I=D*H,C=Rv(le),V=m/(n*X)*(C*EN(e*I+le)-wN(le));return[f+V*x,p+V*P,m*C/Rv(e*I+le)]}}return k.duration=H*1e3*e/Math.SQRT2,k}return o.rho=function(l){var c=Math.max(.001,+l),f=c*c,p=f*f;return t(c,f,p)},o}(Math.SQRT2,2,4);var zo=0,Wa=0,Ba=0,U1=1e3,Lc,Ka,Fc=0,_s=0,gh=0,wl=typeof performance=="object"&&performance.now?performance:Date,$1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function pm(){return _s||($1(SN),_s=wl.now()+gh)}function SN(){_s=0}function jc(){this._call=this._time=this._next=null}jc.prototype=B1.prototype={constructor:jc,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?pm():+n)+(e==null?0:+e),!this._next&&Ka!==this&&(Ka?Ka._next=this:Lc=this,Ka=this),this._call=t,this._time=n,tp()},stop:function(){this._call&&(this._call=null,this._time=1/0,tp())}};function B1(t,e,n){var i=new jc;return i.restart(t,e,n),i}function xN(){pm(),++zo;for(var t=Lc,e;t;)(e=_s-t._time)>=0&&t._call.call(void 0,e),t=t._next;--zo}function Pv(){_s=(Fc=wl.now())+gh,zo=Wa=0;try{xN()}finally{zo=0,CN(),_s=0}}function IN(){var t=wl.now(),e=t-Fc;e>U1&&(gh-=e,Fc=t)}function CN(){for(var t,e=Lc,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Lc=n);Ka=t,tp(i)}function tp(t){if(!zo){Wa&&(Wa=clearTimeout(Wa));var e=t-_s;e>24?(t<1/0&&(Wa=setTimeout(Pv,t-wl.now()-gh)),Ba&&(Ba=clearInterval(Ba))):(Ba||(Fc=wl.now(),Ba=setInterval(IN,U1)),zo=1,$1(Pv))}}function kv(t,e,n){var i=new jc;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var AN=fm("start","end","cancel","interrupt"),RN=[],q1=0,Nv=1,np=2,mc=3,Dv=4,rp=5,gc=6;function yh(t,e,n,i,o,l){var c=t.__transition;if(!c)t.__transition={};else if(n in c)return;PN(t,n,{name:e,index:i,group:o,on:AN,tween:RN,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:q1})}function mm(t,e){var n=Jn(t,e);if(n.state>q1)throw new Error("too late; already scheduled");return n}function wr(t,e){var n=Jn(t,e);if(n.state>mc)throw new Error("too late; already running");return n}function Jn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function PN(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=B1(l,0,n.time);function l(m){n.state=Nv,n.timer.restart(c,n.delay,n.time),n.delay<=m&&c(m-n.delay)}function c(m){var v,w,E,x;if(n.state!==Nv)return p();for(v in i)if(x=i[v],x.name===n.name){if(x.state===mc)return kv(c);x.state===Dv?(x.state=gc,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete i[v]):+v<e&&(x.state=gc,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete i[v])}if(kv(function(){n.state===mc&&(n.state=Dv,n.timer.restart(f,n.delay,n.time),f(m))}),n.state=np,n.on.call("start",t,t.__data__,n.index,n.group),n.state===np){for(n.state=mc,o=new Array(E=n.tween.length),v=0,w=-1;v<E;++v)(x=n.tween[v].value.call(t,t.__data__,n.index,n.group))&&(o[++w]=x);o.length=w+1}}function f(m){for(var v=m<n.duration?n.ease.call(null,m/n.duration):(n.timer.restart(p),n.state=rp,1),w=-1,E=o.length;++w<E;)o[w].call(t,v);n.state===rp&&(n.on.call("end",t,t.__data__,n.index,n.group),p())}function p(){n.state=gc,n.timer.stop(),delete i[e];for(var m in i)return;delete t.__transition}}function yc(t,e){var n=t.__transition,i,o,l=!0,c;if(n){e=e==null?null:e+"";for(c in n){if((i=n[c]).name!==e){l=!1;continue}o=i.state>np&&i.state<rp,i.state=gc,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[c]}l&&delete t.__transition}}function kN(t){return this.each(function(){yc(this,t)})}function NN(t,e){var n,i;return function(){var o=wr(this,t),l=o.tween;if(l!==n){i=n=l;for(var c=0,f=i.length;c<f;++c)if(i[c].name===e){i=i.slice(),i.splice(c,1);break}}o.tween=i}}function DN(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var l=wr(this,t),c=l.tween;if(c!==i){o=(i=c).slice();for(var f={name:e,value:n},p=0,m=o.length;p<m;++p)if(o[p].name===e){o[p]=f;break}p===m&&o.push(f)}l.tween=o}}function VN(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Jn(this.node(),n).tween,o=0,l=i.length,c;o<l;++o)if((c=i[o]).name===t)return c.value;return null}return this.each((e==null?NN:DN)(n,t,e))}function gm(t,e,n){var i=t._id;return t.each(function(){var o=wr(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return Jn(o,i).value[e]}}function H1(t,e){var n;return(typeof e=="number"?_i:e instanceof _l?Cv:(n=_l(e))?(e=n,Cv):pN)(t,e)}function bN(t){return function(){this.removeAttribute(t)}}function MN(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ON(t,e,n){var i,o=n+"",l;return function(){var c=this.getAttribute(t);return c===o?null:c===i?l:l=e(i=c,n)}}function LN(t,e,n){var i,o=n+"",l;return function(){var c=this.getAttributeNS(t.space,t.local);return c===o?null:c===i?l:l=e(i=c,n)}}function FN(t,e,n){var i,o,l;return function(){var c,f=n(this),p;return f==null?void this.removeAttribute(t):(c=this.getAttribute(t),p=f+"",c===p?null:c===i&&p===o?l:(o=p,l=e(i=c,f)))}}function jN(t,e,n){var i,o,l;return function(){var c,f=n(this),p;return f==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),p=f+"",c===p?null:c===i&&p===o?l:(o=p,l=e(i=c,f)))}}function zN(t,e){var n=mh(t),i=n==="transform"?vN:H1;return this.attrTween(t,typeof e=="function"?(n.local?jN:FN)(n,i,gm(this,"attr."+t,e)):e==null?(n.local?MN:bN)(n):(n.local?LN:ON)(n,i,e))}function UN(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function $N(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function BN(t,e){var n,i;function o(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&$N(t,l)),n}return o._value=e,o}function qN(t,e){var n,i;function o(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&UN(t,l)),n}return o._value=e,o}function HN(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=mh(t);return this.tween(n,(i.local?BN:qN)(i,e))}function QN(t,e){return function(){mm(this,t).delay=+e.apply(this,arguments)}}function GN(t,e){return e=+e,function(){mm(this,t).delay=e}}function WN(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?QN:GN)(e,t)):Jn(this.node(),e).delay}function KN(t,e){return function(){wr(this,t).duration=+e.apply(this,arguments)}}function YN(t,e){return e=+e,function(){wr(this,t).duration=e}}function XN(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?KN:YN)(e,t)):Jn(this.node(),e).duration}function JN(t,e){if(typeof e!="function")throw new Error;return function(){wr(this,t).ease=e}}function ZN(t){var e=this._id;return arguments.length?this.each(JN(e,t)):Jn(this.node(),e).ease}function e4(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;wr(this,t).ease=n}}function t4(t){if(typeof t!="function")throw new Error;return this.each(e4(this._id,t))}function n4(t){typeof t!="function"&&(t=I1(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],c=l.length,f=i[o]=[],p,m=0;m<c;++m)(p=l[m])&&t.call(p,p.__data__,m,l)&&f.push(p);return new Gr(i,this._parents,this._name,this._id)}function r4(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,l=Math.min(i,o),c=new Array(i),f=0;f<l;++f)for(var p=e[f],m=n[f],v=p.length,w=c[f]=new Array(v),E,x=0;x<v;++x)(E=p[x]||m[x])&&(w[x]=E);for(;f<i;++f)c[f]=e[f];return new Gr(c,this._parents,this._name,this._id)}function i4(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function s4(t,e,n){var i,o,l=i4(e)?mm:wr;return function(){var c=l(this,t),f=c.on;f!==i&&(o=(i=f).copy()).on(e,n),c.on=o}}function o4(t,e){var n=this._id;return arguments.length<2?Jn(this.node(),n).on.on(t):this.each(s4(n,t,e))}function a4(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function l4(){return this.on("end.remove",a4(this._id))}function u4(t){var e=this._name,n=this._id;typeof t!="function"&&(t=cm(t));for(var i=this._groups,o=i.length,l=new Array(o),c=0;c<o;++c)for(var f=i[c],p=f.length,m=l[c]=new Array(p),v,w,E=0;E<p;++E)(v=f[E])&&(w=t.call(v,v.__data__,E,f))&&("__data__"in v&&(w.__data__=v.__data__),m[E]=w,yh(m[E],e,n,E,m,Jn(v,n)));return new Gr(l,this._parents,e,n)}function c4(t){var e=this._name,n=this._id;typeof t!="function"&&(t=x1(t));for(var i=this._groups,o=i.length,l=[],c=[],f=0;f<o;++f)for(var p=i[f],m=p.length,v,w=0;w<m;++w)if(v=p[w]){for(var E=t.call(v,v.__data__,w,p),x,P=Jn(v,n),L=0,k=E.length;L<k;++L)(x=E[L])&&yh(x,e,n,L,E,P);l.push(E),c.push(v)}return new Gr(l,c,e,n)}var h4=kl.prototype.constructor;function f4(){return new h4(this._groups,this._parents)}function d4(t,e){var n,i,o;return function(){var l=jo(this,t),c=(this.style.removeProperty(t),jo(this,t));return l===c?null:l===n&&c===i?o:o=e(n=l,i=c)}}function Q1(t){return function(){this.style.removeProperty(t)}}function p4(t,e,n){var i,o=n+"",l;return function(){var c=jo(this,t);return c===o?null:c===i?l:l=e(i=c,n)}}function m4(t,e,n){var i,o,l;return function(){var c=jo(this,t),f=n(this),p=f+"";return f==null&&(p=f=(this.style.removeProperty(t),jo(this,t))),c===p?null:c===i&&p===o?l:(o=p,l=e(i=c,f))}}function g4(t,e){var n,i,o,l="style."+e,c="end."+l,f;return function(){var p=wr(this,t),m=p.on,v=p.value[l]==null?f||(f=Q1(e)):void 0;(m!==n||o!==v)&&(i=(n=m).copy()).on(c,o=v),p.on=i}}function y4(t,e,n){var i=(t+="")=="transform"?yN:H1;return e==null?this.styleTween(t,d4(t,i)).on("end.style."+t,Q1(t)):typeof e=="function"?this.styleTween(t,m4(t,i,gm(this,"style."+t,e))).each(g4(this._id,t)):this.styleTween(t,p4(t,i,e),n).on("end.style."+t,null)}function v4(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function _4(t,e,n){var i,o;function l(){var c=e.apply(this,arguments);return c!==o&&(i=(o=c)&&v4(t,c,n)),i}return l._value=e,l}function w4(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,_4(t,e,n??""))}function E4(t){return function(){this.textContent=t}}function T4(t){return function(){var e=t(this);this.textContent=e??""}}function S4(t){return this.tween("text",typeof t=="function"?T4(gm(this,"text",t)):E4(t==null?"":t+""))}function x4(t){return function(e){this.textContent=t.call(this,e)}}function I4(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&x4(o)),e}return i._value=t,i}function C4(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,I4(t))}function A4(){for(var t=this._name,e=this._id,n=G1(),i=this._groups,o=i.length,l=0;l<o;++l)for(var c=i[l],f=c.length,p,m=0;m<f;++m)if(p=c[m]){var v=Jn(p,e);yh(p,t,n,m,c,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new Gr(i,this._parents,t,n)}function R4(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(l,c){var f={value:c},p={value:function(){--o===0&&l()}};n.each(function(){var m=wr(this,i),v=m.on;v!==t&&(e=(t=v).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(p)),m.on=e}),o===0&&l()})}var P4=0;function Gr(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function G1(){return++P4}var zr=kl.prototype;Gr.prototype={constructor:Gr,select:u4,selectAll:c4,selectChild:zr.selectChild,selectChildren:zr.selectChildren,filter:n4,merge:r4,selection:f4,transition:A4,call:zr.call,nodes:zr.nodes,node:zr.node,size:zr.size,empty:zr.empty,each:zr.each,on:o4,attr:zN,attrTween:HN,style:y4,styleTween:w4,text:S4,textTween:C4,remove:l4,tween:VN,delay:WN,duration:XN,ease:ZN,easeVarying:t4,end:R4,[Symbol.iterator]:zr[Symbol.iterator]};function k4(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var N4={time:null,delay:0,duration:250,ease:k4};function D4(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function V4(t){var e,n;t instanceof Gr?(e=t._id,t=t._name):(e=G1(),(n=N4).time=pm(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,l=0;l<o;++l)for(var c=i[l],f=c.length,p,m=0;m<f;++m)(p=c[m])&&yh(p,t,e,m,c,n||D4(p,e));return new Gr(i,this._parents,t,e)}kl.prototype.interrupt=kN;kl.prototype.transition=V4;const ic=t=>()=>t;function b4(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Br(t,e,n){this.k=t,this.x=e,this.y=n}Br.prototype={constructor:Br,scale:function(t){return t===1?this:new Br(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Br(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ym=new Br(1,0,0);Br.prototype;function dd(t){t.stopImmediatePropagation()}function qa(t){t.preventDefault(),t.stopImmediatePropagation()}function M4(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function O4(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Vv(){return this.__zoom||ym}function L4(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function F4(){return navigator.maxTouchPoints||"ontouchstart"in this}function j4(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],l=t.invertY(e[0][1])-n[0][1],c=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),c>l?(l+c)/2:Math.min(0,l)||Math.max(0,c))}function bv(){var t=M4,e=O4,n=j4,i=L4,o=F4,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,p=TN,m=fm("start","zoom","end"),v,w,E,x=500,P=150,L=0,k=10;function H(z){z.property("__zoom",Vv).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",V).filter(o).on("touchstart.zoom",N).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}H.transform=function(z,U,G,ie){var Y=z.selection?z.selection():z;Y.property("__zoom",Vv),z!==Y?le(z,U,G,ie):Y.interrupt().each(function(){ce(this,arguments).event(ie).start().zoom(null,typeof U=="function"?U.apply(this,arguments):U).end()})},H.scaleBy=function(z,U,G,ie){H.scaleTo(z,function(){var Y=this.__zoom.k,ne=typeof U=="function"?U.apply(this,arguments):U;return Y*ne},G,ie)},H.scaleTo=function(z,U,G,ie){H.transform(z,function(){var Y=e.apply(this,arguments),ne=this.__zoom,ee=G==null?Z(Y):typeof G=="function"?G.apply(this,arguments):G,O=ne.invert(ee),W=typeof U=="function"?U.apply(this,arguments):U;return n(J(X(ne,W),ee,O),Y,c)},G,ie)},H.translateBy=function(z,U,G,ie){H.transform(z,function(){return n(this.__zoom.translate(typeof U=="function"?U.apply(this,arguments):U,typeof G=="function"?G.apply(this,arguments):G),e.apply(this,arguments),c)},null,ie)},H.translateTo=function(z,U,G,ie,Y){H.transform(z,function(){var ne=e.apply(this,arguments),ee=this.__zoom,O=ie==null?Z(ne):typeof ie=="function"?ie.apply(this,arguments):ie;return n(ym.translate(O[0],O[1]).scale(ee.k).translate(typeof U=="function"?-U.apply(this,arguments):-U,typeof G=="function"?-G.apply(this,arguments):-G),ne,c)},ie,Y)};function X(z,U){return U=Math.max(l[0],Math.min(l[1],U)),U===z.k?z:new Br(U,z.x,z.y)}function J(z,U,G){var ie=U[0]-G[0]*z.k,Y=U[1]-G[1]*z.k;return ie===z.x&&Y===z.y?z:new Br(z.k,ie,Y)}function Z(z){return[(+z[0][0]+ +z[1][0])/2,(+z[0][1]+ +z[1][1])/2]}function le(z,U,G,ie){z.on("start.zoom",function(){ce(this,arguments).event(ie).start()}).on("interrupt.zoom end.zoom",function(){ce(this,arguments).event(ie).end()}).tween("zoom",function(){var Y=this,ne=arguments,ee=ce(Y,ne).event(ie),O=e.apply(Y,ne),W=G==null?Z(O):typeof G=="function"?G.apply(Y,ne):G,de=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),_e=Y.__zoom,Te=typeof U=="function"?U.apply(Y,ne):U,Ae=p(_e.invert(W).concat(de/_e.k),Te.invert(W).concat(de/Te.k));return function(ke){if(ke===1)ke=Te;else{var Ne=Ae(ke),Be=de/Ne[2];ke=new Br(Be,W[0]-Ne[0]*Be,W[1]-Ne[1]*Be)}ee.zoom(null,ke)}})}function ce(z,U,G){return!G&&z.__zooming||new D(z,U)}function D(z,U){this.that=z,this.args=U,this.active=0,this.sourceEvent=null,this.extent=e.apply(z,U),this.taps=0}D.prototype={event:function(z){return z&&(this.sourceEvent=z),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(z,U){return this.mouse&&z!=="mouse"&&(this.mouse[1]=U.invert(this.mouse[0])),this.touch0&&z!=="touch"&&(this.touch0[1]=U.invert(this.touch0[0])),this.touch1&&z!=="touch"&&(this.touch1[1]=U.invert(this.touch1[0])),this.that.__zoom=U,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(z){var U=gn(this.that).datum();m.call(z,this.that,new b4(z,{sourceEvent:this.sourceEvent,target:H,transform:this.that.__zoom,dispatch:m}),U)}};function I(z,...U){if(!t.apply(this,arguments))return;var G=ce(this,U).event(z),ie=this.__zoom,Y=Math.max(l[0],Math.min(l[1],ie.k*Math.pow(2,i.apply(this,arguments)))),ne=ls(z);if(G.wheel)(G.mouse[0][0]!==ne[0]||G.mouse[0][1]!==ne[1])&&(G.mouse[1]=ie.invert(G.mouse[0]=ne)),clearTimeout(G.wheel);else{if(ie.k===Y)return;G.mouse=[ne,ie.invert(ne)],yc(this),G.start()}qa(z),G.wheel=setTimeout(ee,P),G.zoom("mouse",n(J(X(ie,Y),G.mouse[0],G.mouse[1]),G.extent,c));function ee(){G.wheel=null,G.end()}}function C(z,...U){if(E||!t.apply(this,arguments))return;var G=z.currentTarget,ie=ce(this,U,!0).event(z),Y=gn(z.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",de,!0),ne=ls(z,G),ee=z.clientX,O=z.clientY;Kk(z.view),dd(z),ie.mouse=[ne,this.__zoom.invert(ne)],yc(this),ie.start();function W(_e){if(qa(_e),!ie.moved){var Te=_e.clientX-ee,Ae=_e.clientY-O;ie.moved=Te*Te+Ae*Ae>L}ie.event(_e).zoom("mouse",n(J(ie.that.__zoom,ie.mouse[0]=ls(_e,G),ie.mouse[1]),ie.extent,c))}function de(_e){Y.on("mousemove.zoom mouseup.zoom",null),Yk(_e.view,ie.moved),qa(_e),ie.event(_e).end()}}function V(z,...U){if(t.apply(this,arguments)){var G=this.__zoom,ie=ls(z.changedTouches?z.changedTouches[0]:z,this),Y=G.invert(ie),ne=G.k*(z.shiftKey?.5:2),ee=n(J(X(G,ne),ie,Y),e.apply(this,U),c);qa(z),f>0?gn(this).transition().duration(f).call(le,ee,ie,z):gn(this).call(H.transform,ee,ie,z)}}function N(z,...U){if(t.apply(this,arguments)){var G=z.touches,ie=G.length,Y=ce(this,U,z.changedTouches.length===ie).event(z),ne,ee,O,W;for(dd(z),ee=0;ee<ie;++ee)O=G[ee],W=ls(O,this),W=[W,this.__zoom.invert(W),O.identifier],Y.touch0?!Y.touch1&&Y.touch0[2]!==W[2]&&(Y.touch1=W,Y.taps=0):(Y.touch0=W,ne=!0,Y.taps=1+!!v);v&&(v=clearTimeout(v)),ne&&(Y.taps<2&&(w=W[0],v=setTimeout(function(){v=null},x)),yc(this),Y.start())}}function j(z,...U){if(this.__zooming){var G=ce(this,U).event(z),ie=z.changedTouches,Y=ie.length,ne,ee,O,W;for(qa(z),ne=0;ne<Y;++ne)ee=ie[ne],O=ls(ee,this),G.touch0&&G.touch0[2]===ee.identifier?G.touch0[0]=O:G.touch1&&G.touch1[2]===ee.identifier&&(G.touch1[0]=O);if(ee=G.that.__zoom,G.touch1){var de=G.touch0[0],_e=G.touch0[1],Te=G.touch1[0],Ae=G.touch1[1],ke=(ke=Te[0]-de[0])*ke+(ke=Te[1]-de[1])*ke,Ne=(Ne=Ae[0]-_e[0])*Ne+(Ne=Ae[1]-_e[1])*Ne;ee=X(ee,Math.sqrt(ke/Ne)),O=[(de[0]+Te[0])/2,(de[1]+Te[1])/2],W=[(_e[0]+Ae[0])/2,(_e[1]+Ae[1])/2]}else if(G.touch0)O=G.touch0[0],W=G.touch0[1];else return;G.zoom("touch",n(J(ee,O,W),G.extent,c))}}function A(z,...U){if(this.__zooming){var G=ce(this,U).event(z),ie=z.changedTouches,Y=ie.length,ne,ee;for(dd(z),E&&clearTimeout(E),E=setTimeout(function(){E=null},x),ne=0;ne<Y;++ne)ee=ie[ne],G.touch0&&G.touch0[2]===ee.identifier?delete G.touch0:G.touch1&&G.touch1[2]===ee.identifier&&delete G.touch1;if(G.touch1&&!G.touch0&&(G.touch0=G.touch1,delete G.touch1),G.touch0)G.touch0[1]=this.__zoom.invert(G.touch0[0]);else if(G.end(),G.taps===2&&(ee=ls(ee,this),Math.hypot(w[0]-ee[0],w[1]-ee[1])<k)){var O=gn(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return H.wheelDelta=function(z){return arguments.length?(i=typeof z=="function"?z:ic(+z),H):i},H.filter=function(z){return arguments.length?(t=typeof z=="function"?z:ic(!!z),H):t},H.touchable=function(z){return arguments.length?(o=typeof z=="function"?z:ic(!!z),H):o},H.extent=function(z){return arguments.length?(e=typeof z=="function"?z:ic([[+z[0][0],+z[0][1]],[+z[1][0],+z[1][1]]]),H):e},H.scaleExtent=function(z){return arguments.length?(l[0]=+z[0],l[1]=+z[1],H):[l[0],l[1]]},H.translateExtent=function(z){return arguments.length?(c[0][0]=+z[0][0],c[1][0]=+z[1][0],c[0][1]=+z[0][1],c[1][1]=+z[1][1],H):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},H.constrain=function(z){return arguments.length?(n=z,H):n},H.duration=function(z){return arguments.length?(f=+z,H):f},H.interpolate=function(z){return arguments.length?(p=z,H):p},H.on=function(){var z=m.on.apply(m,arguments);return z===m?H:z},H.clickDistance=function(z){return arguments.length?(L=(z=+z)*z,H):Math.sqrt(L)},H.tapDistance=function(z){return arguments.length?(k=+z,H):k},H}const z4=()=>{const t=fe.useRef(null),[e,n]=fe.useState(null),i=fe.useRef(null),[o,l]=fe.useState(1),c=fe.useRef(null),f=E=>{i.current=E,n(E)};fe.useEffect(()=>()=>{e&&gn(e).on(".zoom",null),c.current=null},[e]),fe.useEffect(()=>{if(!e||c.current)return;const E=gn(e),x=bv().scaleExtent([.5,8]).on("zoom",P=>{const{transform:L}=P,k=E.select("#map-group");k.empty()||k.attr("transform",L.toString()),l(L.k)});c.current=x,E.call(x),setTimeout(()=>{const P=E.select("#map-group");P.empty()||P.attr("transform","translate(0,0) scale(1)")},50)},[e]);const p=()=>{if(!c.current&&e){const E=gn(e),x=bv().scaleExtent([.5,8]).on("zoom",P=>{const{transform:L}=P,k=E.select("#map-group");k.empty()||k.attr("transform",L.toString()),l(L.k)});return c.current=x,E.call(x),!0}return!!c.current};return{containerRef:t,svgRef:f,zoomIn:()=>{e&&p()&&gn(e).transition().duration(300).call(c.current.scaleBy,1.5)},zoomOut:()=>{e&&p()&&gn(e).transition().duration(300).call(c.current.scaleBy,1/1.5)},resetZoom:()=>{e&&p()&&gn(e).transition().duration(500).call(c.current.transform,ym)},currentZoom:o}},vh=()=>{const[t,e]=fe.useState([]),[n,i]=fe.useState([]),[o,l]=fe.useState(!0),[c,f]=fe.useState(null);return fe.useEffect(()=>{(async()=>{try{l(!0),f(null);const[m,v]=await Promise.all([eP(),tP()]);e(m),i(v)}catch(m){console.error("Failed to load tourism data:",m),f(m instanceof Error?m.message:"Failed to load data")}finally{l(!1)}})()},[]),{tourismData:t,months:n,loading:o,error:c}},W1=()=>{const[t,e]=fe.useState(!1),n=fe.useCallback(()=>{const c=document,f=document.fullscreenElement||c.webkitFullscreenElement||c.mozFullScreenElement||c.msFullscreenElement;e(!!f)},[]),i=fe.useCallback(async c=>{const f=c||document.documentElement;try{if(f.requestFullscreen)await f.requestFullscreen();else if(f.webkitRequestFullscreen)await f.webkitRequestFullscreen();else if(f.mozRequestFullScreen)await f.mozRequestFullScreen();else if(f.msRequestFullscreen)await f.msRequestFullscreen();else throw new Error("Fullscreen API not supported")}catch(p){console.error("Error entering fullscreen:",p)}},[]),o=fe.useCallback(async()=>{const c=document;try{document.exitFullscreen?await document.exitFullscreen():c.webkitExitFullscreen?await c.webkitExitFullscreen():c.mozCancelFullScreen?await c.mozCancelFullScreen():c.msExitFullscreen&&await c.msExitFullscreen()}catch(f){console.error("Error exiting fullscreen:",f)}},[]),l=fe.useCallback(c=>{if(t)o();else{const f=c||document.documentElement;i(f)}},[t,i,o]);return fe.useEffect(()=>{const c=()=>{setTimeout(()=>{n()},10)};return document.addEventListener("fullscreenchange",c),document.addEventListener("webkitfullscreenchange",c),document.addEventListener("mozfullscreenchange",c),document.addEventListener("MSFullscreenChange",c),n(),()=>{document.removeEventListener("fullscreenchange",c),document.removeEventListener("webkitfullscreenchange",c),document.removeEventListener("mozfullscreenchange",c),document.removeEventListener("MSFullscreenChange",c)}},[n]),{isFullscreen:t,enterFullscreen:i,exitFullscreen:o,toggleFullscreen:l}},Mv=({selectedMonth:t,onMonthSelect:e,isFullscreen:n=!1})=>{const{months:i,loading:o}=vh();return o?M.jsx("div",{className:n?"bg-white/95 backdrop-blur-sm rounded-lg shadow-xl border p-3 w-64":"bg-white rounded-lg shadow-lg border p-4 sm:p-6 h-fit",children:M.jsxs("div",{className:"animate-pulse",children:[M.jsx("div",{className:"h-4 sm:h-6 bg-gray-200 rounded mb-3 sm:mb-4"}),M.jsx("div",{className:n?"grid grid-cols-3 gap-1":"grid grid-cols-3 sm:grid-cols-2 gap-1 sm:gap-2",children:Array(12).fill(0).map((l,c)=>M.jsx("div",{className:"h-8 sm:h-12 bg-gray-200 rounded"},c))})]})}):M.jsxs("div",{className:n?"bg-white/95 backdrop-blur-sm rounded-lg shadow-xl border p-3 w-64":"bg-white rounded-lg shadow-lg border p-4 sm:p-6 h-fit",children:[M.jsx("h2",{className:`font-semibold text-foreground ${n?"text-sm mb-2":"text-base sm:text-lg mb-3 sm:mb-4"}`,children:n?"Select Month":"Select a Month to Explore"}),M.jsx("div",{className:n?"grid grid-cols-3 gap-1":"grid grid-cols-3 sm:grid-cols-2 gap-1 sm:gap-2",children:i.map(l=>M.jsx("button",{onClick:()=>e(l),className:`rounded-lg font-medium transition-all duration-200 text-left ${n?"px-2 py-1 text-xs":"px-2 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm"} ${t===l?"bg-blue-600 text-white shadow-md transform scale-105":"bg-gray-50 text-gray-700 hover:bg-blue-50 hover:text-blue-700 hover:shadow-sm"}`,children:n?l.substring(0,3):l},l))})]})};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K1=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=fe.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...f},p)=>fe.createElement("svg",{ref:p,...$4,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:K1("lucide",o),...f},[...c.map(([m,v])=>fe.createElement(m,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=(t,e)=>{const n=fe.forwardRef(({className:i,...o},l)=>fe.createElement(B4,{ref:l,iconNode:e,className:K1(`lucide-${U4(t)}`,i),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=Er("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=Er("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=Er("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=Er("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=Er("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=Er("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=Er("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=Er("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=Er("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Er("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Ov=({selectedCategory:t,onCategorySelect:e})=>M.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 justify-center mb-4 sm:mb-6 px-2 sm:px-0",children:[M.jsxs("button",{onClick:()=>e("temperature"),className:`flex items-center justify-center gap-2 px-3 sm:px-6 py-2 sm:py-3 rounded-lg transition-all duration-300 text-sm sm:text-base ${t==="temperature"?"bg-primary text-primary-foreground shadow-lg transform scale-105":"bg-secondary text-secondary-foreground hover:bg-primary/10"}`,children:[M.jsx(Y4,{size:16,className:"sm:w-5 sm:h-5"}),M.jsx("span",{className:"hidden xs:inline",children:"Temperature"}),M.jsx("span",{className:"xs:hidden",children:"Temp"})]}),M.jsxs("button",{onClick:()=>e("rainfall"),className:`flex items-center justify-center gap-2 px-3 sm:px-6 py-2 sm:py-3 rounded-lg transition-all duration-300 text-sm sm:text-base ${t==="rainfall"?"bg-primary text-primary-foreground shadow-lg transform scale-105":"bg-secondary text-secondary-foreground hover:bg-primary/10"}`,children:[M.jsx(H4,{size:16,className:"sm:w-5 sm:h-5"}),M.jsx("span",{className:"hidden xs:inline",children:"Rainfall"}),M.jsx("span",{className:"xs:hidden",children:"Rain"})]}),M.jsxs("button",{onClick:()=>e("bestTime"),className:`flex items-center justify-center gap-2 px-3 sm:px-6 py-2 sm:py-3 rounded-lg transition-all duration-300 text-sm sm:text-base ${t==="bestTime"?"bg-primary text-primary-foreground shadow-lg transform scale-105":"bg-secondary text-secondary-foreground hover:bg-primary/10"}`,children:[M.jsx(q4,{size:16,className:"sm:w-5 sm:h-5"}),M.jsx("span",{className:"hidden sm:inline",children:"Best time to visit"}),M.jsx("span",{className:"sm:hidden",children:"Best time"})]})]});class ws{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let i=0;for(let o=0;o<this._n&&o<32;o++){const l=n[o],c=e+l,f=Math.abs(e)<Math.abs(l)?e-(c-l):l-(c-e);f&&(n[i++]=f),e=c}return n[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let n=this._n,i,o,l,c=0;if(n>0){for(c=e[--n];n>0&&(i=c,o=e[--n],c=i+o,l=o-(c-i),!l););n>0&&(l<0&&e[n-1]<0||l>0&&e[n-1]>0)&&(o=l*2,i=c+o,o==i-c&&(c=i))}return c}}function*eD(t){for(const e of t)yield*e}function Y1(t){return Array.from(eD(t))}var Qe=1e-6,ze=Math.PI,Nn=ze/2,Lv=ze/4,Vn=ze*2,Ur=180/ze,mn=ze/180,tt=Math.abs,tD=Math.atan,El=Math.atan2,ut=Math.cos,ct=Math.sin,nD=Math.sign||function(t){return t>0?1:t<0?-1:0},xs=Math.sqrt;function rD(t){return t>1?0:t<-1?ze:Math.acos(t)}function Tl(t){return t>1?Nn:t<-1?-Nn:Math.asin(t)}function Dn(){}function zc(t,e){t&&jv.hasOwnProperty(t.type)&&jv[t.type](t,e)}var Fv={Feature:function(t,e){zc(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)zc(n[i].geometry,e)}},jv={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){ip(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)ip(n[i],e,0)},Polygon:function(t,e){zv(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)zv(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)zc(n[i],e)}};function ip(t,e,n){var i=-1,o=t.length-n,l;for(e.lineStart();++i<o;)l=t[i],e.point(l[0],l[1],l[2]);e.lineEnd()}function zv(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)ip(t[n],e,1);e.polygonEnd()}function To(t,e){t&&Fv.hasOwnProperty(t.type)?Fv[t.type](t,e):zc(t,e)}function sp(t){return[El(t[1],t[0]),Tl(t[2])]}function Uo(t){var e=t[0],n=t[1],i=ut(n);return[i*ut(e),i*ct(e),ct(n)]}function sc(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Uc(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function pd(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function oc(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function op(t){var e=xs(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function ap(t,e){function n(i,o){return i=t(i,o),e(i[0],i[1])}return t.invert&&e.invert&&(n.invert=function(i,o){return i=e.invert(i,o),i&&t.invert(i[0],i[1])}),n}function lp(t,e){return tt(t)>ze&&(t-=Math.round(t/Vn)*Vn),[t,e]}lp.invert=lp;function iD(t,e,n){return(t%=Vn)?e||n?ap($v(t),Bv(e,n)):$v(t):e||n?Bv(e,n):lp}function Uv(t){return function(e,n){return e+=t,tt(e)>ze&&(e-=Math.round(e/Vn)*Vn),[e,n]}}function $v(t){var e=Uv(t);return e.invert=Uv(-t),e}function Bv(t,e){var n=ut(t),i=ct(t),o=ut(e),l=ct(e);function c(f,p){var m=ut(p),v=ut(f)*m,w=ct(f)*m,E=ct(p),x=E*n+v*i;return[El(w*o-x*l,v*n-E*i),Tl(x*o+w*l)]}return c.invert=function(f,p){var m=ut(p),v=ut(f)*m,w=ct(f)*m,E=ct(p),x=E*o-w*l;return[El(w*o+E*l,v*n+x*i),Tl(x*n-v*i)]},c}function sD(t,e,n,i,o,l){if(n){var c=ut(e),f=ct(e),p=i*n;o==null?(o=e+i*Vn,l=e-p/2):(o=qv(c,o),l=qv(c,l),(i>0?o<l:o>l)&&(o+=i*Vn));for(var m,v=o;i>0?v>l:v<l;v-=p)m=sp([c,-f*ut(v),-f*ct(v)]),t.point(m[0],m[1])}}function qv(t,e){e=Uo(e),e[0]-=t,op(e);var n=rD(-e[1]);return((-e[2]<0?-n:n)+Vn-Qe)%Vn}function X1(){var t=[],e;return{point:function(n,i,o){e.push([n,i,o])},lineStart:function(){t.push(e=[])},lineEnd:Dn,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function vc(t,e){return tt(t[0]-e[0])<Qe&&tt(t[1]-e[1])<Qe}function ac(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function J1(t,e,n,i,o){var l=[],c=[],f,p;if(t.forEach(function(P){if(!((L=P.length-1)<=0)){var L,k=P[0],H=P[L],X;if(vc(k,H)){if(!k[2]&&!H[2]){for(o.lineStart(),f=0;f<L;++f)o.point((k=P[f])[0],k[1]);o.lineEnd();return}H[0]+=2*Qe}l.push(X=new ac(k,P,null,!0)),c.push(X.o=new ac(k,null,X,!1)),l.push(X=new ac(H,P,null,!1)),c.push(X.o=new ac(H,null,X,!0))}}),!!l.length){for(c.sort(e),Hv(l),Hv(c),f=0,p=c.length;f<p;++f)c[f].e=n=!n;for(var m=l[0],v,w;;){for(var E=m,x=!0;E.v;)if((E=E.n)===m)return;v=E.z,o.lineStart();do{if(E.v=E.o.v=!0,E.e){if(x)for(f=0,p=v.length;f<p;++f)o.point((w=v[f])[0],w[1]);else i(E.x,E.n.x,1,o);E=E.n}else{if(x)for(v=E.p.z,f=v.length-1;f>=0;--f)o.point((w=v[f])[0],w[1]);else i(E.x,E.p.x,-1,o);E=E.p}E=E.o,v=E.z,x=!x}while(!E.v);o.lineEnd()}}}function Hv(t){if(e=t.length){for(var e,n=0,i=t[0],o;++n<e;)i.n=o=t[n],o.p=i,i=o;i.n=o=t[0],o.p=i}}function md(t){return tt(t[0])<=ze?t[0]:nD(t[0])*((tt(t[0])+ze)%Vn-ze)}function oD(t,e){var n=md(e),i=e[1],o=ct(i),l=[ct(n),-ut(n),0],c=0,f=0,p=new ws;o===1?i=Nn+Qe:o===-1&&(i=-Nn-Qe);for(var m=0,v=t.length;m<v;++m)if(E=(w=t[m]).length)for(var w,E,x=w[E-1],P=md(x),L=x[1]/2+Lv,k=ct(L),H=ut(L),X=0;X<E;++X,P=Z,k=ce,H=D,x=J){var J=w[X],Z=md(J),le=J[1]/2+Lv,ce=ct(le),D=ut(le),I=Z-P,C=I>=0?1:-1,V=C*I,N=V>ze,j=k*ce;if(p.add(El(j*C*ct(V),H*D+j*ut(V))),c+=N?I+C*Vn:I,N^P>=n^Z>=n){var A=Uc(Uo(x),Uo(J));op(A);var z=Uc(l,A);op(z);var U=(N^I>=0?-1:1)*Tl(z[2]);(i>U||i===U&&(A[0]||A[1]))&&(f+=N^I>=0?1:-1)}}return(c<-Qe||c<Qe&&p<-1e-12)^f&1}function Z1(t,e,n,i){return function(o){var l=e(o),c=X1(),f=e(c),p=!1,m,v,w,E={point:x,lineStart:L,lineEnd:k,polygonStart:function(){E.point=H,E.lineStart=X,E.lineEnd=J,v=[],m=[]},polygonEnd:function(){E.point=x,E.lineStart=L,E.lineEnd=k,v=Y1(v);var Z=oD(m,i);v.length?(p||(o.polygonStart(),p=!0),J1(v,lD,Z,n,o)):Z&&(p||(o.polygonStart(),p=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),p&&(o.polygonEnd(),p=!1),v=m=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function x(Z,le){t(Z,le)&&o.point(Z,le)}function P(Z,le){l.point(Z,le)}function L(){E.point=P,l.lineStart()}function k(){E.point=x,l.lineEnd()}function H(Z,le){w.push([Z,le]),f.point(Z,le)}function X(){f.lineStart(),w=[]}function J(){H(w[0][0],w[0][1]),f.lineEnd();var Z=f.clean(),le=c.result(),ce,D=le.length,I,C,V;if(w.pop(),m.push(w),w=null,!!D){if(Z&1){if(C=le[0],(I=C.length-1)>0){for(p||(o.polygonStart(),p=!0),o.lineStart(),ce=0;ce<I;++ce)o.point((V=C[ce])[0],V[1]);o.lineEnd()}return}D>1&&Z&2&&le.push(le.pop().concat(le.shift())),v.push(le.filter(aD))}}return E}}function aD(t){return t.length>1}function lD(t,e){return((t=t.x)[0]<0?t[1]-Nn-Qe:Nn-t[1])-((e=e.x)[0]<0?e[1]-Nn-Qe:Nn-e[1])}const Qv=Z1(function(){return!0},uD,hD,[-ze,-Nn]);function uD(t){var e=NaN,n=NaN,i=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(l,c){var f=l>0?ze:-ze,p=tt(l-e);tt(p-ze)<Qe?(t.point(e,n=(n+c)/2>0?Nn:-Nn),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(l,n),o=0):i!==f&&p>=ze&&(tt(e-i)<Qe&&(e-=i*Qe),tt(l-f)<Qe&&(l-=f*Qe),n=cD(e,n,l,c),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(f,n),o=0),t.point(e=l,n=c),i=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-o}}}function cD(t,e,n,i){var o,l,c=ct(t-n);return tt(c)>Qe?tD((ct(e)*(l=ut(i))*ct(n)-ct(i)*(o=ut(e))*ct(t))/(o*l*c)):(e+i)/2}function hD(t,e,n,i){var o;if(t==null)o=n*Nn,i.point(-ze,o),i.point(0,o),i.point(ze,o),i.point(ze,0),i.point(ze,-o),i.point(0,-o),i.point(-ze,-o),i.point(-ze,0),i.point(-ze,o);else if(tt(t[0]-e[0])>Qe){var l=t[0]<e[0]?ze:-ze;o=n*l/2,i.point(-l,o),i.point(0,o),i.point(l,o)}else i.point(e[0],e[1])}function fD(t){var e=ut(t),n=2*mn,i=e>0,o=tt(e)>Qe;function l(v,w,E,x){sD(x,t,n,E,v,w)}function c(v,w){return ut(v)*ut(w)>e}function f(v){var w,E,x,P,L;return{lineStart:function(){P=x=!1,L=1},point:function(k,H){var X=[k,H],J,Z=c(k,H),le=i?Z?0:m(k,H):Z?m(k+(k<0?ze:-ze),H):0;if(!w&&(P=x=Z)&&v.lineStart(),Z!==x&&(J=p(w,X),(!J||vc(w,J)||vc(X,J))&&(X[2]=1)),Z!==x)L=0,Z?(v.lineStart(),J=p(X,w),v.point(J[0],J[1])):(J=p(w,X),v.point(J[0],J[1],2),v.lineEnd()),w=J;else if(o&&w&&i^Z){var ce;!(le&E)&&(ce=p(X,w,!0))&&(L=0,i?(v.lineStart(),v.point(ce[0][0],ce[0][1]),v.point(ce[1][0],ce[1][1]),v.lineEnd()):(v.point(ce[1][0],ce[1][1]),v.lineEnd(),v.lineStart(),v.point(ce[0][0],ce[0][1],3)))}Z&&(!w||!vc(w,X))&&v.point(X[0],X[1]),w=X,x=Z,E=le},lineEnd:function(){x&&v.lineEnd(),w=null},clean:function(){return L|(P&&x)<<1}}}function p(v,w,E){var x=Uo(v),P=Uo(w),L=[1,0,0],k=Uc(x,P),H=sc(k,k),X=k[0],J=H-X*X;if(!J)return!E&&v;var Z=e*H/J,le=-e*X/J,ce=Uc(L,k),D=oc(L,Z),I=oc(k,le);pd(D,I);var C=ce,V=sc(D,C),N=sc(C,C),j=V*V-N*(sc(D,D)-1);if(!(j<0)){var A=xs(j),z=oc(C,(-V-A)/N);if(pd(z,D),z=sp(z),!E)return z;var U=v[0],G=w[0],ie=v[1],Y=w[1],ne;G<U&&(ne=U,U=G,G=ne);var ee=G-U,O=tt(ee-ze)<Qe,W=O||ee<Qe;if(!O&&Y<ie&&(ne=ie,ie=Y,Y=ne),W?O?ie+Y>0^z[1]<(tt(z[0]-U)<Qe?ie:Y):ie<=z[1]&&z[1]<=Y:ee>ze^(U<=z[0]&&z[0]<=G)){var de=oc(C,(-V+A)/N);return pd(de,D),[z,sp(de)]}}}function m(v,w){var E=i?t:ze-t,x=0;return v<-E?x|=1:v>E&&(x|=2),w<-E?x|=4:w>E&&(x|=8),x}return Z1(c,f,l,i?[0,-t]:[-ze,t-ze])}function dD(t,e,n,i,o,l){var c=t[0],f=t[1],p=e[0],m=e[1],v=0,w=1,E=p-c,x=m-f,P;if(P=n-c,!(!E&&P>0)){if(P/=E,E<0){if(P<v)return;P<w&&(w=P)}else if(E>0){if(P>w)return;P>v&&(v=P)}if(P=o-c,!(!E&&P<0)){if(P/=E,E<0){if(P>w)return;P>v&&(v=P)}else if(E>0){if(P<v)return;P<w&&(w=P)}if(P=i-f,!(!x&&P>0)){if(P/=x,x<0){if(P<v)return;P<w&&(w=P)}else if(x>0){if(P>w)return;P>v&&(v=P)}if(P=l-f,!(!x&&P<0)){if(P/=x,x<0){if(P>w)return;P>v&&(v=P)}else if(x>0){if(P<v)return;P<w&&(w=P)}return v>0&&(t[0]=c+v*E,t[1]=f+v*x),w<1&&(e[0]=c+w*E,e[1]=f+w*x),!0}}}}}var Ya=1e9,lc=-Ya;function pD(t,e,n,i){function o(m,v){return t<=m&&m<=n&&e<=v&&v<=i}function l(m,v,w,E){var x=0,P=0;if(m==null||(x=c(m,w))!==(P=c(v,w))||p(m,v)<0^w>0)do E.point(x===0||x===3?t:n,x>1?i:e);while((x=(x+w+4)%4)!==P);else E.point(v[0],v[1])}function c(m,v){return tt(m[0]-t)<Qe?v>0?0:3:tt(m[0]-n)<Qe?v>0?2:1:tt(m[1]-e)<Qe?v>0?1:0:v>0?3:2}function f(m,v){return p(m.x,v.x)}function p(m,v){var w=c(m,1),E=c(v,1);return w!==E?w-E:w===0?v[1]-m[1]:w===1?m[0]-v[0]:w===2?m[1]-v[1]:v[0]-m[0]}return function(m){var v=m,w=X1(),E,x,P,L,k,H,X,J,Z,le,ce,D={point:I,lineStart:j,lineEnd:A,polygonStart:V,polygonEnd:N};function I(U,G){o(U,G)&&v.point(U,G)}function C(){for(var U=0,G=0,ie=x.length;G<ie;++G)for(var Y=x[G],ne=1,ee=Y.length,O=Y[0],W,de,_e=O[0],Te=O[1];ne<ee;++ne)W=_e,de=Te,O=Y[ne],_e=O[0],Te=O[1],de<=i?Te>i&&(_e-W)*(i-de)>(Te-de)*(t-W)&&++U:Te<=i&&(_e-W)*(i-de)<(Te-de)*(t-W)&&--U;return U}function V(){v=w,E=[],x=[],ce=!0}function N(){var U=C(),G=ce&&U,ie=(E=Y1(E)).length;(G||ie)&&(m.polygonStart(),G&&(m.lineStart(),l(null,null,1,m),m.lineEnd()),ie&&J1(E,f,U,l,m),m.polygonEnd()),v=m,E=x=P=null}function j(){D.point=z,x&&x.push(P=[]),le=!0,Z=!1,X=J=NaN}function A(){E&&(z(L,k),H&&Z&&w.rejoin(),E.push(w.result())),D.point=I,Z&&v.lineEnd()}function z(U,G){var ie=o(U,G);if(x&&P.push([U,G]),le)L=U,k=G,H=ie,le=!1,ie&&(v.lineStart(),v.point(U,G));else if(ie&&Z)v.point(U,G);else{var Y=[X=Math.max(lc,Math.min(Ya,X)),J=Math.max(lc,Math.min(Ya,J))],ne=[U=Math.max(lc,Math.min(Ya,U)),G=Math.max(lc,Math.min(Ya,G))];dD(Y,ne,t,e,n,i)?(Z||(v.lineStart(),v.point(Y[0],Y[1])),v.point(ne[0],ne[1]),ie||v.lineEnd(),ce=!1):ie&&(v.lineStart(),v.point(U,G),ce=!1)}X=U,J=G,Z=ie}return D}}const up=t=>t;var gd=new ws,cp=new ws,eE,tE,hp,fp,$r={point:Dn,lineStart:Dn,lineEnd:Dn,polygonStart:function(){$r.lineStart=mD,$r.lineEnd=yD},polygonEnd:function(){$r.lineStart=$r.lineEnd=$r.point=Dn,gd.add(tt(cp)),cp=new ws},result:function(){var t=gd/2;return gd=new ws,t}};function mD(){$r.point=gD}function gD(t,e){$r.point=nE,eE=hp=t,tE=fp=e}function nE(t,e){cp.add(fp*t-hp*e),hp=t,fp=e}function yD(){nE(eE,tE)}var $o=1/0,$c=$o,Sl=-$o,Bc=Sl,qc={point:vD,lineStart:Dn,lineEnd:Dn,polygonStart:Dn,polygonEnd:Dn,result:function(){var t=[[$o,$c],[Sl,Bc]];return Sl=Bc=-($c=$o=1/0),t}};function vD(t,e){t<$o&&($o=t),t>Sl&&(Sl=t),e<$c&&($c=e),e>Bc&&(Bc=e)}var dp=0,pp=0,Xa=0,Hc=0,Qc=0,So=0,mp=0,gp=0,Ja=0,rE,iE,fr,dr,kn={point:Es,lineStart:Gv,lineEnd:Wv,polygonStart:function(){kn.lineStart=ED,kn.lineEnd=TD},polygonEnd:function(){kn.point=Es,kn.lineStart=Gv,kn.lineEnd=Wv},result:function(){var t=Ja?[mp/Ja,gp/Ja]:So?[Hc/So,Qc/So]:Xa?[dp/Xa,pp/Xa]:[NaN,NaN];return dp=pp=Xa=Hc=Qc=So=mp=gp=Ja=0,t}};function Es(t,e){dp+=t,pp+=e,++Xa}function Gv(){kn.point=_D}function _D(t,e){kn.point=wD,Es(fr=t,dr=e)}function wD(t,e){var n=t-fr,i=e-dr,o=xs(n*n+i*i);Hc+=o*(fr+t)/2,Qc+=o*(dr+e)/2,So+=o,Es(fr=t,dr=e)}function Wv(){kn.point=Es}function ED(){kn.point=SD}function TD(){sE(rE,iE)}function SD(t,e){kn.point=sE,Es(rE=fr=t,iE=dr=e)}function sE(t,e){var n=t-fr,i=e-dr,o=xs(n*n+i*i);Hc+=o*(fr+t)/2,Qc+=o*(dr+e)/2,So+=o,o=dr*t-fr*e,mp+=o*(fr+t),gp+=o*(dr+e),Ja+=o*3,Es(fr=t,dr=e)}function oE(t){this._context=t}oE.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Vn);break}}},result:Dn};var yp=new ws,yd,aE,lE,Za,el,xl={point:Dn,lineStart:function(){xl.point=xD},lineEnd:function(){yd&&uE(aE,lE),xl.point=Dn},polygonStart:function(){yd=!0},polygonEnd:function(){yd=null},result:function(){var t=+yp;return yp=new ws,t}};function xD(t,e){xl.point=uE,aE=Za=t,lE=el=e}function uE(t,e){Za-=t,el-=e,yp.add(xs(Za*Za+el*el)),Za=t,el=e}let Kv,Gc,Yv,Xv;class Jv{constructor(e){this._append=e==null?cE:ID(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Yv||this._append!==Gc){const i=this._radius,o=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,Yv=i,Gc=this._append,Xv=this._,this._=o}this._+=Xv;break}}}result(){const e=this._;return this._="",e.length?e:null}}function cE(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ID(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return cE;if(e!==Kv){const n=10**e;Kv=e,Gc=function(o){let l=1;this._+=o[0];for(const c=o.length;l<c;++l)this._+=Math.round(arguments[l]*n)/n+o[l]}}return Gc}function CD(t,e){let n=3,i=4.5,o,l;function c(f){return f&&(typeof i=="function"&&l.pointRadius(+i.apply(this,arguments)),To(f,o(l))),l.result()}return c.area=function(f){return To(f,o($r)),$r.result()},c.measure=function(f){return To(f,o(xl)),xl.result()},c.bounds=function(f){return To(f,o(qc)),qc.result()},c.centroid=function(f){return To(f,o(kn)),kn.result()},c.projection=function(f){return arguments.length?(o=f==null?(t=null,up):(t=f).stream,c):t},c.context=function(f){return arguments.length?(l=f==null?(e=null,new Jv(n)):new oE(e=f),typeof i!="function"&&l.pointRadius(i),c):e},c.pointRadius=function(f){return arguments.length?(i=typeof f=="function"?f:(l.pointRadius(+f),+f),c):i},c.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const p=Math.floor(f);if(!(p>=0))throw new RangeError(`invalid digits: ${f}`);n=p}return e===null&&(l=new Jv(n)),c},c.projection(t).digits(n).context(e)}function vm(t){return function(e){var n=new vp;for(var i in t)n[i]=t[i];return n.stream=e,n}}function vp(){}vp.prototype={constructor:vp,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function _m(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),To(n,t.stream(qc)),e(qc.result()),i!=null&&t.clipExtent(i),t}function hE(t,e,n){return _m(t,function(i){var o=e[1][0]-e[0][0],l=e[1][1]-e[0][1],c=Math.min(o/(i[1][0]-i[0][0]),l/(i[1][1]-i[0][1])),f=+e[0][0]+(o-c*(i[1][0]+i[0][0]))/2,p=+e[0][1]+(l-c*(i[1][1]+i[0][1]))/2;t.scale(150*c).translate([f,p])},n)}function AD(t,e,n){return hE(t,[[0,0],e],n)}function RD(t,e,n){return _m(t,function(i){var o=+e,l=o/(i[1][0]-i[0][0]),c=(o-l*(i[1][0]+i[0][0]))/2,f=-l*i[0][1];t.scale(150*l).translate([c,f])},n)}function PD(t,e,n){return _m(t,function(i){var o=+e,l=o/(i[1][1]-i[0][1]),c=-l*i[0][0],f=(o-l*(i[1][1]+i[0][1]))/2;t.scale(150*l).translate([c,f])},n)}var Zv=16,kD=ut(30*mn);function e_(t,e){return+e?DD(t,e):ND(t)}function ND(t){return vm({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function DD(t,e){function n(i,o,l,c,f,p,m,v,w,E,x,P,L,k){var H=m-i,X=v-o,J=H*H+X*X;if(J>4*e&&L--){var Z=c+E,le=f+x,ce=p+P,D=xs(Z*Z+le*le+ce*ce),I=Tl(ce/=D),C=tt(tt(ce)-1)<Qe||tt(l-w)<Qe?(l+w)/2:El(le,Z),V=t(C,I),N=V[0],j=V[1],A=N-i,z=j-o,U=X*A-H*z;(U*U/J>e||tt((H*A+X*z)/J-.5)>.3||c*E+f*x+p*P<kD)&&(n(i,o,l,c,f,p,N,j,C,Z/=D,le/=D,ce,L,k),k.point(N,j),n(N,j,C,Z,le,ce,m,v,w,E,x,P,L,k))}}return function(i){var o,l,c,f,p,m,v,w,E,x,P,L,k={point:H,lineStart:X,lineEnd:Z,polygonStart:function(){i.polygonStart(),k.lineStart=le},polygonEnd:function(){i.polygonEnd(),k.lineStart=X}};function H(I,C){I=t(I,C),i.point(I[0],I[1])}function X(){w=NaN,k.point=J,i.lineStart()}function J(I,C){var V=Uo([I,C]),N=t(I,C);n(w,E,v,x,P,L,w=N[0],E=N[1],v=I,x=V[0],P=V[1],L=V[2],Zv,i),i.point(w,E)}function Z(){k.point=H,i.lineEnd()}function le(){X(),k.point=ce,k.lineEnd=D}function ce(I,C){J(o=I,C),l=w,c=E,f=x,p=P,m=L,k.point=J}function D(){n(w,E,v,x,P,L,l,c,o,f,p,m,Zv,i),k.lineEnd=Z,Z()}return k}}var VD=vm({point:function(t,e){this.stream.point(t*mn,e*mn)}});function bD(t){return vm({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}function MD(t,e,n,i,o){function l(c,f){return c*=i,f*=o,[e+t*c,n-t*f]}return l.invert=function(c,f){return[(c-e)/t*i,(n-f)/t*o]},l}function t_(t,e,n,i,o,l){if(!l)return MD(t,e,n,i,o);var c=ut(l),f=ct(l),p=c*t,m=f*t,v=c/t,w=f/t,E=(f*n-c*e)/t,x=(f*e+c*n)/t;function P(L,k){return L*=i,k*=o,[p*L-m*k+e,n-m*L-p*k]}return P.invert=function(L,k){return[i*(v*L-w*k+E),o*(x-w*L-v*k)]},P}function OD(t){return LD(function(){return t})()}function LD(t){var e,n=150,i=480,o=250,l=0,c=0,f=0,p=0,m=0,v,w=0,E=1,x=1,P=null,L=Qv,k=null,H,X,J,Z=up,le=.5,ce,D,I,C,V;function N(U){return I(U[0]*mn,U[1]*mn)}function j(U){return U=I.invert(U[0],U[1]),U&&[U[0]*Ur,U[1]*Ur]}N.stream=function(U){return C&&V===U?C:C=VD(bD(v)(L(ce(Z(V=U)))))},N.preclip=function(U){return arguments.length?(L=U,P=void 0,z()):L},N.postclip=function(U){return arguments.length?(Z=U,k=H=X=J=null,z()):Z},N.clipAngle=function(U){return arguments.length?(L=+U?fD(P=U*mn):(P=null,Qv),z()):P*Ur},N.clipExtent=function(U){return arguments.length?(Z=U==null?(k=H=X=J=null,up):pD(k=+U[0][0],H=+U[0][1],X=+U[1][0],J=+U[1][1]),z()):k==null?null:[[k,H],[X,J]]},N.scale=function(U){return arguments.length?(n=+U,A()):n},N.translate=function(U){return arguments.length?(i=+U[0],o=+U[1],A()):[i,o]},N.center=function(U){return arguments.length?(l=U[0]%360*mn,c=U[1]%360*mn,A()):[l*Ur,c*Ur]},N.rotate=function(U){return arguments.length?(f=U[0]%360*mn,p=U[1]%360*mn,m=U.length>2?U[2]%360*mn:0,A()):[f*Ur,p*Ur,m*Ur]},N.angle=function(U){return arguments.length?(w=U%360*mn,A()):w*Ur},N.reflectX=function(U){return arguments.length?(E=U?-1:1,A()):E<0},N.reflectY=function(U){return arguments.length?(x=U?-1:1,A()):x<0},N.precision=function(U){return arguments.length?(ce=e_(D,le=U*U),z()):xs(le)},N.fitExtent=function(U,G){return hE(N,U,G)},N.fitSize=function(U,G){return AD(N,U,G)},N.fitWidth=function(U,G){return RD(N,U,G)},N.fitHeight=function(U,G){return PD(N,U,G)};function A(){var U=t_(n,0,0,E,x,w).apply(null,e(l,c)),G=t_(n,i-U[0],o-U[1],E,x,w);return v=iD(f,p,m),D=ap(e,G),I=ap(v,D),ce=e_(D,le),z()}function z(){return C=V=null,N}return function(){return e=t.apply(this,arguments),N.invert=e.invert&&j,A()}}function fE(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(-.013791+i*(.003971*n-.001529*i))),e*(1.007226+n*(.015085+i*(-.044475+.028874*n-.005916*i)))]}fE.invert=function(t,e){var n=e,i=25,o;do{var l=n*n,c=l*l;n-=o=(n*(1.007226+l*(.015085+c*(-.044475+.028874*l-.005916*c)))-e)/(1.007226+l*(.015085*3+c*(-.044475*7+.028874*9*l-.005916*11*c)))}while(tt(o)>Qe&&--i>0);return[t/(.8707+(l=n*n)*(-.131979+l*(-.013791+l*l*l*(.003971-.001529*l)))),n]};function FD(){return OD(fE).scale(175.295)}const jD={scale:230,translateX:580,translateY:325},zD=(t=jD)=>FD().scale(t.scale).translate([t.translateX,t.translateY]),UD=t=>CD().projection(t),$D={viewBox:"0 0 1200 650"},BD=(t,e,n)=>{const i=um(t),l=ph().find(f=>f.code===i);if(!l||!l.monthlyData[e])return"hsl(0, 0%, 85%)";const c=l.monthlyData[e];return mE(n,c)},dE=t=>t<=0?"hsl(240, 100%, 70%)":t<=10?"hsl(220, 80%, 60%)":t<=20?"hsl(180, 60%, 50%)":t<=25?"hsl(120, 60%, 50%)":t<=30?"hsl(60, 80%, 50%)":t<=35?"hsl(30, 90%, 55%)":"hsl(0, 90%, 60%)",pE=t=>t<=10?"hsl(45, 70%, 85%)":t<=25?"hsl(200, 40%, 80%)":t<=50?"hsl(200, 50%, 70%)":t<=100?"hsl(200, 60%, 60%)":t<=150?"hsl(200, 70%, 50%)":t<=200?"hsl(210, 80%, 40%)":"hsl(220, 90%, 30%)",qD=t=>{switch(t){case"best":return"hsl(120, 70%, 50%)";case"okay":return"hsl(45, 80%, 55%)";case"avoid":return"hsl(0, 70%, 55%)";default:return"hsl(0, 0%, 80%)"}},mE=(t,e)=>{switch(t){case"temperature":return dE(e.avgDayTemp);case"rainfall":return pE(e.rainfall);case"bestTime":return qD(e.bestTime);default:return"hsl(0, 0%, 80%)"}},HD=(t,e,n)=>{const i=(t+e)/2;return n>200?{icon:"🌊⛈️",emoji:"⛈️",bgColor:"bg-gradient-to-br from-gray-700 to-blue-900",textColor:"text-white",borderColor:"border-blue-400",description:"Heavy storms & flooding"}:n>100&&i>20?{icon:"🌧️🌴",emoji:"🌧️",bgColor:"bg-gradient-to-br from-green-600 to-blue-600",textColor:"text-white",borderColor:"border-green-400",description:"Tropical rainy season"}:n>100?{icon:"🌧️❄️",emoji:"🌧️",bgColor:"bg-gradient-to-br from-gray-500 to-blue-600",textColor:"text-white",borderColor:"border-blue-300",description:"Cold & wet season"}:n>50?{icon:"🌦️🍃",emoji:"🌦️",bgColor:"bg-gradient-to-br from-blue-400 to-green-500",textColor:"text-white",borderColor:"border-blue-300",description:"Showery weather"}:t>35&&n<20?{icon:"🏜️☀️",emoji:"☀️",bgColor:"bg-gradient-to-br from-yellow-400 to-orange-600",textColor:"text-white",borderColor:"border-orange-400",description:"Hot & arid desert"}:t>30?{icon:"🌞🔥",emoji:"🌞",bgColor:"bg-gradient-to-br from-yellow-300 to-red-500",textColor:"text-white",borderColor:"border-yellow-400",description:"Very hot & sunny"}:i>20?{icon:"☀️🌸",emoji:"☀️",bgColor:"bg-gradient-to-br from-yellow-200 to-green-400",textColor:"text-gray-800",borderColor:"border-yellow-300",description:"Warm & pleasant"}:i>10?{icon:"🌤️🍂",emoji:"🌤️",bgColor:"bg-gradient-to-br from-blue-200 to-gray-400",textColor:"text-gray-800",borderColor:"border-blue-300",description:"Cool & mild"}:i>0?{icon:"🌨️🧊",emoji:"❄️",bgColor:"bg-gradient-to-br from-blue-300 to-gray-600",textColor:"text-white",borderColor:"border-blue-400",description:"Cold & chilly"}:{icon:"❄️🏔️",emoji:"❄️",bgColor:"bg-gradient-to-br from-blue-600 to-purple-800",textColor:"text-white",borderColor:"border-blue-500",description:"Freezing conditions"}},QD=t=>t===0?"No rain":t<=10?"Very light":t<=30?"Light":t<=60?"Moderate":t<=100?"Heavy":t<=200?"Very heavy":"Extreme",n_=t=>t<0?"Freezing":t<10?"Cold":t<20?"Cool":t<25?"Mild":t<30?"Warm":t<35?"Hot":"Very hot",gE=({tooltip:t,maxWidth:e=1e3,maxHeight:n=600})=>{if(!t)return null;const i=HD(t.avgDayTemp,t.avgNightTemp,t.rainfall),o=QD(t.rainfall),l=n_(t.avgDayTemp),c=n_(t.avgNightTemp),f=240,p=320,m=t.y>n*.3,v=Math.min(Math.max(t.x-p/2,15),e-p-15),w=m?Math.max(t.y-f-30,15):Math.min(t.y+20,n-f-15);return M.jsxs("div",{className:`absolute z-50 rounded-xl shadow-2xl border-2 transition-all duration-200 pointer-events-none ${i.bgColor} ${i.textColor} ${i.borderColor} max-w-[280px] sm:max-w-[320px]`,style:{left:v,top:w,maxWidth:`${p}px`,transform:"translateZ(0)"},children:[M.jsxs("div",{className:"p-3 sm:p-4 pb-2",children:[M.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[M.jsx("h3",{className:"font-bold text-xs sm:text-sm",children:t.country}),M.jsxs("div",{className:"justify-end items-center flex gap-1 sm:gap-2",children:[M.jsx("div",{className:"text-sm sm:text-md",children:i.emoji}),M.jsx("div",{className:`text-sm sm:text-md font-bold ${t.bestTime==="best"?"text-green-300":t.bestTime==="okay"?"text-yellow-300":"text-red-300"}`,children:t.bestTime==="best"?"✅":t.bestTime==="okay"?"⚠️":"❌"})]})]}),M.jsx("div",{className:"text-center mb-2 sm:mb-3",children:M.jsxs("div",{className:"text-xs font-medium opacity-90",children:[i.icon," ",t.description]})})]}),M.jsxs("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-2 sm:space-y-3",children:[M.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[M.jsxs("div",{className:"bg-black bg-opacity-20 rounded-md p-2 sm:p-3",children:[M.jsx("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:M.jsx("span",{className:"text-xs font-medium opacity-80",children:"🌡️ Temperature"})}),M.jsxs("div",{className:"grid grid-cols-2 gap-1 sm:gap-2 text-xs sm:text-sm",children:[M.jsxs("div",{className:"text-center",children:[M.jsxs("div",{className:"text-xs font-bold",children:["🌅 ",t.avgDayTemp,"°C"]}),M.jsx("div",{className:"text-xs opacity-75",children:l})]}),M.jsxs("div",{className:"text-center",children:[M.jsxs("div",{className:"text-xs font-bold",children:["🌙 ",t.avgNightTemp,"°C"]}),M.jsx("div",{className:"text-xs opacity-75",children:c})]})]})]}),M.jsxs("div",{className:"bg-black bg-opacity-20 rounded-lg p-2 sm:p-3",children:[M.jsx("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:M.jsx("span",{className:"text-xs font-medium opacity-80",children:"💧 Precipitation"})}),M.jsxs("div",{className:"text-center",children:[M.jsxs("div",{className:"text-xs font-bold",children:[t.rainfall,"mm"]}),M.jsxs("div",{className:"text-xs opacity-75",children:[o," rainfall"]})]})]})]}),t.regions&&t.selectedMonth&&M.jsxs("div",{className:"bg-black bg-opacity-20 rounded-lg p-2 sm:p-3",children:[M.jsx("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:M.jsx("span",{className:"text-xs font-medium opacity-80",children:"🌍 Regional Variations"})}),M.jsx("div",{className:"space-y-1 sm:space-y-2",children:t.regions.map((E,x)=>{const P=E.monthlyData[t.selectedMonth];if(!P)return null;const L=P.bestTime==="best"?"✅":P.bestTime==="okay"?"⚠️":"❌",k=P.bestTime==="best"?"text-green-300":P.bestTime==="okay"?"text-yellow-300":"text-red-300";return M.jsxs("div",{className:"flex items-center justify-between text-xs",children:[M.jsxs("div",{className:"flex items-center gap-1",children:[M.jsx("span",{className:k,children:L}),M.jsx("span",{className:"opacity-90",children:E.name})]}),M.jsxs("div",{className:"text-right opacity-80 flex gap-1 sm:gap-2",children:[M.jsxs("div",{children:[P.avgDayTemp,"°C"]}),M.jsxs("div",{className:"text-xs opacity-60",children:[P.rainfall,"mm"]})]})]},x)})})]})]})]})},yE=({selectedCategory:t,countryCount:e})=>M.jsxs("div",{className:"absolute bottom-2 sm:bottom-4 left-2 sm:left-4 bg-white/90 backdrop-blur-sm rounded-lg p-2 sm:p-3 shadow-lg max-w-[200px] sm:max-w-none",children:[M.jsx("h3",{className:"font-semibold text-xs sm:text-sm mb-1 sm:mb-2",children:t==="temperature"?"Temperature (°C)":t==="rainfall"?"Rainfall (mm)":"Best time to visit"}),M.jsx("div",{className:"flex items-center gap-1 sm:gap-2 text-xs",children:t==="temperature"?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"w-3 sm:w-4 h-2 sm:h-3 bg-gradient-to-r from-blue-400 to-red-500 rounded"}),M.jsx("span",{children:"Cold → Hot"})]}):t==="rainfall"?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"w-3 sm:w-4 h-2 sm:h-3 bg-gradient-to-r from-gray-300 to-blue-600 rounded"}),M.jsx("span",{children:"Low → High"})]}):M.jsxs("div",{className:"space-y-1",children:[M.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[M.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 bg-green-500 rounded"}),M.jsx("span",{children:"Best time"})]}),M.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[M.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 bg-yellow-500 rounded"}),M.jsx("span",{children:"Okay time"})]}),M.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[M.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 bg-red-500 rounded"}),M.jsx("span",{children:"Avoid"})]})]})}),M.jsxs("div",{className:"mt-1 sm:mt-2 text-xs text-gray-600",children:[M.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[M.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 rounded-full bg-blue-500 border border-white"}),M.jsx("span",{className:"text-xs",children:"Interactive data points"})]}),M.jsx("div",{className:"text-xs font-medium text-blue-600",children:"Tap countries for detailed data"})]})]}),GD=({selectedMonth:t,selectedCategory:e,countryCount:n})=>M.jsxs("div",{className:"absolute bottom-2 sm:bottom-4 right-2 sm:right-4 bg-white/90 backdrop-blur-sm rounded-lg p-2 sm:p-3 shadow-lg",children:[M.jsx("div",{className:"text-xs sm:text-sm font-semibold",children:t}),M.jsxs("div",{className:"text-xs text-muted-foreground capitalize",children:[e," View"]}),M.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[n," countries with data"]})]}),WD=({selectedMonth:t,selectedCategory:e,projection:n,onCountryHover:i,onCountryLeave:o,currentZoom:l=1})=>{const{tourismData:c,loading:f}=vh();return f||!c.length?null:M.jsx(M.Fragment,{children:c.map(p=>{if(!p.coordinates)return console.log(`No coordinates found for ${p.name}`),null;const[m,v]=p.coordinates,[w,E]=n([v,m])||[0,0];if(!p.monthlyData)return console.log(`No monthly data found for ${p.name}`),null;if(!p.monthlyData.hasOwnProperty(t))return console.log(`No data for ${t} found for ${p.name}`),null;const x=p.monthlyData[t],P=mE(e,x),L=1/l;return M.jsxs("g",{transform:`translate(${w}, ${E}) scale(${L}) translate(${-w}, ${-E})`,children:[M.jsx("circle",{cx:w,cy:E,r:"12",fill:P,stroke:"white",strokeWidth:"1",className:"cursor-pointer transition-all duration-300 hover:r-16 touch-manipulation",onMouseEnter:k=>i(k,p.code),onMouseLeave:o,onTouchStart:k=>{k.preventDefault(),i(k,p.code)},onTouchEnd:k=>{k.preventDefault(),o()}}),M.jsx("text",{x:w,y:E+5,textAnchor:"middle",className:"text-xs font-bold fill-white pointer-events-none",children:p.code})]},`marker-${p.code}`)})})},KD=({selectedMonth:t,selectedCategory:e,tooltip:n,onCountryHover:i,onCountryLeave:o})=>{const{tourismData:l,loading:c}=vh();return c||!l.length?M.jsx("div",{className:"relative w-full h-[500px] sm:h-[600px] md:h-[700px] bg-blue-100 rounded-lg overflow-hidden shadow-lg flex items-center justify-center",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),M.jsx("p",{className:"text-gray-600",children:"Loading fallback map..."})]})}):M.jsxs("div",{className:"relative w-full h-[500px] sm:h-[600px] md:h-[650px] bg-blue-100 rounded-lg overflow-hidden shadow-lg",children:[M.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:M.jsxs("div",{className:"text-center p-4 sm:p-8",children:[M.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Loading World Map..."}),M.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3 sm:mb-4",children:"Displaying available countries while map loads"}),M.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-4 max-h-[400px] overflow-y-auto touch-scroll",children:l.map(f=>{const p=f.monthlyData[t],m=e==="temperature"?dE(p.avgDayTemp):pE(p.rainfall);return M.jsxs("div",{className:"p-2 sm:p-4 rounded-lg cursor-pointer transition-all duration-300 hover:scale-105 border touch-manipulation",style:{backgroundColor:m},onMouseEnter:v=>i(v,f.code),onMouseLeave:o,onTouchStart:v=>{v.preventDefault(),i(v,f.code)},onTouchEnd:v=>{v.preventDefault(),o()},children:[M.jsx("div",{className:"text-xs sm:text-sm font-medium text-white mix-blend-difference",children:f.name}),M.jsx("div",{className:"text-xs text-white mix-blend-difference mt-1",children:e==="temperature"?`${p.avgDayTemp}°C`:`${p.rainfall}mm`})]},f.code)})})]})}),M.jsx(yE,{selectedCategory:e,countryCount:l.length}),M.jsx(gE,{tooltip:n,maxWidth:1e3,maxHeight:600})]})},YD=()=>M.jsxs(M.Fragment,{children:[M.jsx("defs",{children:M.jsxs("linearGradient",{id:"oceanGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[M.jsx("stop",{offset:"0%",stopColor:"hsl(200, 80%, 82%)"}),M.jsx("stop",{offset:"50%",stopColor:"hsl(205, 85%, 78%)"}),M.jsx("stop",{offset:"100%",stopColor:"hsl(210, 80%, 76%)"})]})}),M.jsx("rect",{width:"100%",height:"100%",fill:"url(#oceanGradient)"})]}),XD=({onZoomIn:t,onZoomOut:e,onReset:n,onToggleFullscreen:i,isFullscreen:o,currentZoom:l})=>M.jsxs("div",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 flex flex-col gap-1 sm:gap-2 bg-white/90 backdrop-blur-sm rounded-lg p-1 sm:p-2 shadow-lg",children:[M.jsx("button",{onClick:t,className:"p-2 sm:p-2 hover:bg-gray-100 rounded-md transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation",disabled:l>=8,title:"Zoom In",children:M.jsx(J4,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),M.jsx("button",{onClick:e,className:"p-2 sm:p-2 hover:bg-gray-100 rounded-md transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation",disabled:l<=1.01,title:"Zoom Out",children:M.jsx(Z4,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),M.jsx("div",{className:"border-t border-gray-300 mx-1"}),M.jsx("button",{onClick:n,className:"p-2 sm:p-2 hover:bg-gray-100 rounded-md transition-colors duration-200 touch-manipulation",title:"Reset Zoom",children:M.jsx(K4,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),M.jsx("div",{className:"border-t border-gray-300 mx-1"}),M.jsx("button",{onClick:i,className:"p-2 sm:p-2 hover:bg-gray-100 rounded-md transition-colors duration-200 touch-manipulation",title:o?"Exit Fullscreen":"Enter Fullscreen",children:o?M.jsx(W4,{size:16,className:"sm:w-[18px] sm:h-[18px]"}):M.jsx(G4,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),M.jsxs("div",{className:"text-xs text-center text-gray-600 font-mono px-1 py-1",children:[Math.round(l*100),"%"]})]}),r_=({selectedMonth:t,selectedCategory:e})=>{const{worldData:n,loading:i,error:o}=fP(),{tourismData:l,loading:c,error:f}=vh(),{tooltip:p,handleCountryHover:m,handleCountryLeave:v,handleTouchStart:w,handleTouchEnd:E}=rP(t),{containerRef:x,svgRef:P,zoomIn:L,zoomOut:k,resetZoom:H,currentZoom:X}=z4(),{isFullscreen:J,toggleFullscreen:Z}=W1(),le=zD(),ce=UD(le),D=i||c,I=o||f;return D?M.jsx("div",{className:"relative w-full h-full bg-blue-100 rounded-lg overflow-hidden shadow-lg flex items-center justify-center",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),M.jsx("p",{className:"text-gray-600",children:"Loading climate data..."})]})}):I?M.jsx("div",{className:"relative w-full h-full bg-red-50 rounded-lg overflow-hidden shadow-lg flex items-center justify-center",children:M.jsxs("div",{className:"text-center text-red-600",children:[M.jsx("p",{className:"font-semibold mb-2",children:"Error loading data"}),M.jsx("p",{className:"text-sm",children:I})]})}):n?M.jsxs("div",{className:"relative w-full h-full bg-blue-100 rounded-lg overflow-hidden shadow-lg",children:[M.jsx("div",{ref:x,className:"w-full h-full",style:{touchAction:"none"},children:M.jsx("svg",{ref:P,width:"100%",height:"100%",viewBox:$D.viewBox,className:"w-full h-full cursor-grab active:cursor-grabbing",style:{touchAction:"none",pointerEvents:"all"},children:M.jsxs("g",{id:"map-group",children:[M.jsx(YD,{}),n.features.map((C,V)=>{const N=ce(C),j=C.id,A=BD(j,t,e),z=nP(j,t);return M.jsx("path",{d:N||"",fill:A,stroke:"hsl(0, 0%, 100%)",strokeWidth:"0.5",className:`transition-all duration-300 cursor-pointer ${z?"hover:stroke-4 hover:stroke-blue-500":"hover:stroke-2"}`,onMouseEnter:U=>m(U,j),onMouseLeave:v,onTouchStart:U=>w(U,j),onTouchEnd:E},`country-${j}-${V}`)}),M.jsx(WD,{selectedMonth:t,selectedCategory:e,projection:le,onCountryHover:m,onCountryLeave:v,currentZoom:X})]})})}),M.jsx(XD,{onZoomIn:L,onZoomOut:k,onReset:H,onToggleFullscreen:()=>Z(),isFullscreen:J,currentZoom:X}),M.jsx(yE,{selectedCategory:e,countryCount:l.length}),M.jsx(gE,{tooltip:p,maxWidth:1e3,maxHeight:600}),M.jsx(GD,{selectedMonth:t,selectedCategory:e,countryCount:l.length})]}):M.jsx(KD,{selectedMonth:t,selectedCategory:e,tooltip:p,onCountryHover:m,onCountryLeave:v})},JD=()=>{const t=new Date().toLocaleString("default",{month:"long"}),[e,n]=fe.useState(t),[i,o]=fe.useState("temperature"),{isFullscreen:l}=W1();return l?M.jsx("div",{className:"fixed inset-0 bg-blue-100 z-50",children:M.jsx("main",{className:"h-full relative",children:M.jsxs("div",{className:"h-full relative",children:[M.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50",children:M.jsx(Ov,{selectedCategory:i,onCategorySelect:o})}),M.jsx(r_,{selectedMonth:e,selectedCategory:i}),M.jsx("div",{className:"absolute bottom-40 left-4 z-40",children:M.jsx(Mv,{selectedMonth:e,onMonthSelect:n,isFullscreen:!0})})]})})}):M.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background to-primary/5",children:[M.jsxs("header",{className:"text-center py-4 px-4 sm:py-6 md:py-8",children:[M.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[M.jsx(Q4,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),M.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Tourism World Map"})]}),M.jsx("p",{className:"text-sm sm:text-base md:text-lg text-muted-foreground max-w-2xl mx-auto px-2",children:"Discover the best destinations around the world based on seasonal weather patterns and climate data"})]}),M.jsxs("main",{className:"container mx-auto px-2 sm:px-4 space-y-4 sm:space-y-6 md:space-y-8",children:[M.jsx(Ov,{selectedCategory:i,onCategorySelect:o}),M.jsxs("div",{className:"flex flex-col xl:flex-row gap-4 sm:gap-6 max-w-7xl mx-auto",children:[M.jsx("div",{className:"xl:w-64 flex-shrink-0 order-1 xl:order-1",children:M.jsx(Mv,{selectedMonth:e,onMonthSelect:n,isFullscreen:!1})}),M.jsx("div",{className:"flex-1 order-2 xl:order-2",children:M.jsx(r_,{selectedMonth:e,selectedCategory:i})})]}),M.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mt-8 sm:mt-12 px-2 sm:px-0",children:[M.jsxs("div",{className:"bg-card rounded-lg p-4 sm:p-6 shadow-lg border",children:[M.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[M.jsx(X4,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),M.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"How to Use"})]}),M.jsxs("ul",{className:"space-y-1 sm:space-y-2 text-xs sm:text-sm text-muted-foreground",children:[M.jsx("li",{children:"• Select a month to see seasonal weather patterns"}),M.jsx("li",{children:"• Choose between temperature and rainfall views"}),M.jsx("li",{children:"• Hover over countries for detailed climate information"}),M.jsx("li",{children:"• Colors indicate optimal travel conditions"})]})]}),M.jsxs("div",{className:"bg-card rounded-lg p-4 sm:p-6 shadow-lg border",children:[M.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3",children:"Current Selection"}),M.jsxs("div",{className:"space-y-2 text-xs sm:text-sm",children:[M.jsxs("div",{children:[M.jsx("span",{className:"font-medium",children:"Month:"})," ",e]}),M.jsxs("div",{children:[M.jsx("span",{className:"font-medium",children:"Category:"})," ",M.jsx("span",{className:"capitalize",children:i==="bestTime"?"Best time to visit":i})]}),M.jsx("div",{className:"mt-3 text-xs text-muted-foreground",children:i==="temperature"?"Red indicates hot weather, blue indicates cold weather":i==="rainfall"?"Blue indicates high rainfall, gray indicates low rainfall":"Green = best time, yellow = okay, red = avoid visiting"})]})]})]}),M.jsx("footer",{className:"text-center py-4 sm:py-6 md:py-8 mt-8 sm:mt-12 md:mt-16 border-t border-border/50",children:M.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Tourism data visualization • ",M.jsx("a",{href:"https://github.com/rajat19",children:"Github"})]})})]})]})},ZD=()=>M.jsx(JD,{}),eV=()=>{const t=w_();return fe.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:M.jsxs("div",{className:"text-center",children:[M.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),M.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),M.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},tV=new ZT,nV=()=>M.jsx(rS,{client:tV,children:M.jsx(qS,{basename:"/wander-month-map/",children:M.jsxs(US,{children:[M.jsx(Ed,{path:"",element:M.jsx(ZD,{})}),M.jsx(Ed,{path:"*",element:M.jsx(eV,{})})]})})});kT.createRoot(document.getElementById("root")).render(M.jsx(nV,{}));
