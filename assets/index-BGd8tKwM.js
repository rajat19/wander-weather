function iS(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function sS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rd={exports:{}},Ga={},id={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function oS(){if(Ky)return De;Ky=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,L={};function k(O,K,de){this.props=O,this.context=K,this.refs=L,this.updater=de||I}k.prototype.isReactComponent={},k.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=k.prototype;function X(O,K,de){this.props=O,this.context=K,this.refs=L,this.updater=de||I}var J=X.prototype=new H;J.constructor=X,P(J,k.prototype),J.isPureReactComponent=!0;var Z=Array.isArray,le=Object.prototype.hasOwnProperty,ce={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function x(O,K,de){var _e,Te={},Ce=null,ke=null;if(K!=null)for(_e in K.ref!==void 0&&(ke=K.ref),K.key!==void 0&&(Ce=""+K.key),K)le.call(K,_e)&&!D.hasOwnProperty(_e)&&(Te[_e]=K[_e]);var Ne=arguments.length-2;if(Ne===1)Te.children=de;else if(1<Ne){for(var Be=Array(Ne),It=0;It<Ne;It++)Be[It]=arguments[It+2];Te.children=Be}if(O&&O.defaultProps)for(_e in Ne=O.defaultProps,Ne)Te[_e]===void 0&&(Te[_e]=Ne[_e]);return{$$typeof:t,type:O,key:Ce,ref:ke,props:Te,_owner:ce.current}}function A(O,K){return{$$typeof:t,type:O.type,key:K,ref:O.ref,props:O.props,_owner:O._owner}}function b(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function N(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(de){return K[de]})}var j=/\/+/g;function C(O,K){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):K.toString(36)}function z(O,K,de,_e,Te){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var ke=!1;if(O===null)ke=!0;else switch(Ce){case"string":case"number":ke=!0;break;case"object":switch(O.$$typeof){case t:case e:ke=!0}}if(ke)return ke=O,Te=Te(ke),O=_e===""?"."+C(ke,0):_e,Z(Te)?(de="",O!=null&&(de=O.replace(j,"$&/")+"/"),z(Te,K,de,"",function(It){return It})):Te!=null&&(b(Te)&&(Te=A(Te,de+(!Te.key||ke&&ke.key===Te.key?"":(""+Te.key).replace(j,"$&/")+"/")+O)),K.push(Te)),1;if(ke=0,_e=_e===""?".":_e+":",Z(O))for(var Ne=0;Ne<O.length;Ne++){Ce=O[Ne];var Be=_e+C(Ce,Ne);ke+=z(Ce,K,de,Be,Te)}else if(Be=E(O),typeof Be=="function")for(O=Be.call(O),Ne=0;!(Ce=O.next()).done;)Ce=Ce.value,Be=_e+C(Ce,Ne++),ke+=z(Ce,K,de,Be,Te);else if(Ce==="object")throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return ke}function U(O,K,de){if(O==null)return O;var _e=[],Te=0;return z(O,_e,"","",function(Ce){return K.call(de,Ce,Te++)}),_e}function G(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(de){(O._status===0||O._status===-1)&&(O._status=1,O._result=de)},function(de){(O._status===0||O._status===-1)&&(O._status=2,O._result=de)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var ie={current:null},Y={transition:null},ne={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:Y,ReactCurrentOwner:ce};function ee(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:U,forEach:function(O,K,de){U(O,function(){K.apply(this,arguments)},de)},count:function(O){var K=0;return U(O,function(){K++}),K},toArray:function(O){return U(O,function(K){return K})||[]},only:function(O){if(!b(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},De.Component=k,De.Fragment=n,De.Profiler=o,De.PureComponent=X,De.StrictMode=i,De.Suspense=p,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,De.act=ee,De.cloneElement=function(O,K,de){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var _e=P({},O.props),Te=O.key,Ce=O.ref,ke=O._owner;if(K!=null){if(K.ref!==void 0&&(Ce=K.ref,ke=ce.current),K.key!==void 0&&(Te=""+K.key),O.type&&O.type.defaultProps)var Ne=O.type.defaultProps;for(Be in K)le.call(K,Be)&&!D.hasOwnProperty(Be)&&(_e[Be]=K[Be]===void 0&&Ne!==void 0?Ne[Be]:K[Be])}var Be=arguments.length-2;if(Be===1)_e.children=de;else if(1<Be){Ne=Array(Be);for(var It=0;It<Be;It++)Ne[It]=arguments[It+2];_e.children=Ne}return{$$typeof:t,type:O.type,key:Te,ref:Ce,props:_e,_owner:ke}},De.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:a,_context:O},O.Consumer=O},De.createElement=x,De.createFactory=function(O){var K=x.bind(null,O);return K.type=O,K},De.createRef=function(){return{current:null}},De.forwardRef=function(O){return{$$typeof:f,render:O}},De.isValidElement=b,De.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:G}},De.memo=function(O,K){return{$$typeof:m,type:O,compare:K===void 0?null:K}},De.startTransition=function(O){var K=Y.transition;Y.transition={};try{O()}finally{Y.transition=K}},De.unstable_act=ee,De.useCallback=function(O,K){return ie.current.useCallback(O,K)},De.useContext=function(O){return ie.current.useContext(O)},De.useDebugValue=function(){},De.useDeferredValue=function(O){return ie.current.useDeferredValue(O)},De.useEffect=function(O,K){return ie.current.useEffect(O,K)},De.useId=function(){return ie.current.useId()},De.useImperativeHandle=function(O,K,de){return ie.current.useImperativeHandle(O,K,de)},De.useInsertionEffect=function(O,K){return ie.current.useInsertionEffect(O,K)},De.useLayoutEffect=function(O,K){return ie.current.useLayoutEffect(O,K)},De.useMemo=function(O,K){return ie.current.useMemo(O,K)},De.useReducer=function(O,K,de){return ie.current.useReducer(O,K,de)},De.useRef=function(O){return ie.current.useRef(O)},De.useState=function(O){return ie.current.useState(O)},De.useSyncExternalStore=function(O,K,de){return ie.current.useSyncExternalStore(O,K,de)},De.useTransition=function(){return ie.current.useTransition()},De.version="18.3.1",De}var Wy;function Op(){return Wy||(Wy=1,id.exports=oS()),id.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function aS(){if(Yy)return Ga;Yy=1;var t=Op(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,m){var v,w={},E=null,I=null;m!==void 0&&(E=""+m),p.key!==void 0&&(E=""+p.key),p.ref!==void 0&&(I=p.ref);for(v in p)i.call(p,v)&&!a.hasOwnProperty(v)&&(w[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:e,type:f,key:E,ref:I,props:w,_owner:o.current}}return Ga.Fragment=n,Ga.jsx=c,Ga.jsxs=c,Ga}var Xy;function lS(){return Xy||(Xy=1,rd.exports=aS()),rd.exports}var M=lS(),tc={},sd={exports:{}},rn={},od={exports:{}},ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function uS(){return Jy||(Jy=1,function(t){function e(Y,ne){var ee=Y.length;Y.push(ne);e:for(;0<ee;){var O=ee-1>>>1,K=Y[O];if(0<o(K,ne))Y[O]=ne,Y[ee]=K,ee=O;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var ne=Y[0],ee=Y.pop();if(ee!==ne){Y[0]=ee;e:for(var O=0,K=Y.length,de=K>>>1;O<de;){var _e=2*(O+1)-1,Te=Y[_e],Ce=_e+1,ke=Y[Ce];if(0>o(Te,ee))Ce<K&&0>o(ke,Te)?(Y[O]=ke,Y[Ce]=ee,O=Ce):(Y[O]=Te,Y[_e]=ee,O=_e);else if(Ce<K&&0>o(ke,ee))Y[O]=ke,Y[Ce]=ee,O=Ce;else break e}}return ne}function o(Y,ne){var ee=Y.sortIndex-ne.sortIndex;return ee!==0?ee:Y.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],m=[],v=1,w=null,E=3,I=!1,P=!1,L=!1,k=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(Y){for(var ne=n(m);ne!==null;){if(ne.callback===null)i(m);else if(ne.startTime<=Y)i(m),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=n(m)}}function Z(Y){if(L=!1,J(Y),!P)if(n(p)!==null)P=!0,G(le);else{var ne=n(m);ne!==null&&ie(Z,ne.startTime-Y)}}function le(Y,ne){P=!1,L&&(L=!1,H(x),x=-1),I=!0;var ee=E;try{for(J(ne),w=n(p);w!==null&&(!(w.expirationTime>ne)||Y&&!N());){var O=w.callback;if(typeof O=="function"){w.callback=null,E=w.priorityLevel;var K=O(w.expirationTime<=ne);ne=t.unstable_now(),typeof K=="function"?w.callback=K:w===n(p)&&i(p),J(ne)}else i(p);w=n(p)}if(w!==null)var de=!0;else{var _e=n(m);_e!==null&&ie(Z,_e.startTime-ne),de=!1}return de}finally{w=null,E=ee,I=!1}}var ce=!1,D=null,x=-1,A=5,b=-1;function N(){return!(t.unstable_now()-b<A)}function j(){if(D!==null){var Y=t.unstable_now();b=Y;var ne=!0;try{ne=D(!0,Y)}finally{ne?C():(ce=!1,D=null)}}else ce=!1}var C;if(typeof X=="function")C=function(){X(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,U=z.port2;z.port1.onmessage=j,C=function(){U.postMessage(null)}}else C=function(){k(j,0)};function G(Y){D=Y,ce||(ce=!0,C())}function ie(Y,ne){x=k(function(){Y(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){P||I||(P=!0,G(le))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var ne=3;break;default:ne=E}var ee=E;E=ne;try{return Y()}finally{E=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ne){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ee=E;E=Y;try{return ne()}finally{E=ee}},t.unstable_scheduleCallback=function(Y,ne,ee){var O=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?O+ee:O):ee=O,Y){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ee+K,Y={id:v++,callback:ne,priorityLevel:Y,startTime:ee,expirationTime:K,sortIndex:-1},ee>O?(Y.sortIndex=ee,e(m,Y),n(p)===null&&Y===n(m)&&(L?(H(x),x=-1):L=!0,ie(Z,ee-O))):(Y.sortIndex=K,e(p,Y),P||I||(P=!0,G(le))),Y},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(Y){var ne=E;return function(){var ee=E;E=ne;try{return Y.apply(this,arguments)}finally{E=ee}}}}(ad)),ad}var Zy;function cS(){return Zy||(Zy=1,od.exports=uS()),od.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function hS(){if(e0)return rn;e0=1;var t=Op(),e=cS();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(r){return p.call(w,r)?!0:p.call(v,r)?!1:m.test(r)?w[r]=!0:(v[r]=!0,!1)}function I(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function P(r,s,l,h){if(s===null||typeof s>"u"||I(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function L(r,s,l,h,d,y,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=T}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new L(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];k[s]=new L(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new L(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new L(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new L(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new L(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new L(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new L(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new L(r,5,!1,r.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function X(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(H,X);k[s]=new L(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(H,X);k[s]=new L(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(H,X);k[s]=new L(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new L(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new L(r,1,!1,r.toLowerCase(),null,!0,!0)});function J(r,s,l,h){var d=k.hasOwnProperty(s)?k[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(P(s,l,d,h)&&(l=null),h||d===null?E(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):d.mustUseProperty?r[d.propertyName]=l===null?d.type===3?!1:"":l:(s=d.attributeName,h=d.attributeNamespace,l===null?r.removeAttribute(s):(d=d.type,l=d===3||d===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var Z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),ce=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ne(r){return r===null||typeof r!="object"?null:(r=Y&&r[Y]||r["@@iterator"],typeof r=="function"?r:null)}var ee=Object.assign,O;function K(r){if(O===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+r}var de=!1;function _e(r,s){if(!r||de)return"";de=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var h=Q}Reflect.construct(r,[],s)}else{try{s.call()}catch(Q){h=Q}r.call(s.prototype)}else{try{throw Error()}catch(Q){h=Q}r()}}catch(Q){if(Q&&h&&typeof Q.stack=="string"){for(var d=Q.stack.split(`
`),y=h.stack.split(`
`),T=d.length-1,R=y.length-1;1<=T&&0<=R&&d[T]!==y[R];)R--;for(;1<=T&&0<=R;T--,R--)if(d[T]!==y[R]){if(T!==1||R!==1)do if(T--,R--,0>R||d[T]!==y[R]){var V=`
`+d[T].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=T&&0<=R);break}}}finally{de=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?K(r):""}function Te(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=_e(r.type,!1),r;case 11:return r=_e(r.type.render,!1),r;case 1:return r=_e(r.type,!0),r;default:return""}}function Ce(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case ce:return"Portal";case A:return"Profiler";case x:return"StrictMode";case C:return"Suspense";case z:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case b:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case U:return s=r.displayName||null,s!==null?s:Ce(r.type)||"Memo";case G:s=r._payload,r=r._init;try{return Ce(r(s))}catch{}}return null}function ke(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(s);case 8:return s===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ne(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Be(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function It(r){var s=Be(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ar(r){r._valueTracker||(r._valueTracker=It(r))}function ks(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Be(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function Xr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Li(r,s){var l=s.checked;return ee({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ns(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Ne(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Zo(r,s){s=s.checked,s!=null&&J(r,"checked",s,!1)}function ea(r,s){Zo(r,s);var l=Ne(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ds(r,s.type,l):s.hasOwnProperty("defaultValue")&&Ds(r,s.type,Ne(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function zl(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Ds(r,s,l){(s!=="number"||Xr(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Cr=Array.isArray;function Rr(r,s,l,h){if(r=r.options,s){s={};for(var d=0;d<l.length;d++)s["$"+l[d]]=!0;for(l=0;l<r.length;l++)d=s.hasOwnProperty("$"+r[l].value),r[l].selected!==d&&(r[l].selected=d),d&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Ne(l),s=null,d=0;d<r.length;d++){if(r[d].value===l){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function ta(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function bs(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(Cr(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Ne(l)}}function Vs(r,s){var l=Ne(s.value),h=Ne(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function na(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function yt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?yt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Pr,ra=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Pr=Pr||document.createElement("div"),Pr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Pr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Jr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ji=["Webkit","ms","Moz","O"];Object.keys(Fi).forEach(function(r){ji.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Fi[s]=Fi[r]})});function ia(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Fi.hasOwnProperty(r)&&Fi[r]?(""+s).trim():s+"px"}function sa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,d=ia(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,d):r[l]=d}}var oa=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aa(r,s){if(s){if(oa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function la(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zi=null;function Ms(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Os=null,En=null,rr=null;function Ls(r){if(r=Da(r)){if(typeof Os!="function")throw Error(n(280));var s=r.stateNode;s&&(s=gu(s),Os(r.stateNode,r.type,s))}}function ir(r){En?rr?rr.push(r):rr=[r]:En=r}function ua(){if(En){var r=En,s=rr;if(rr=En=null,Ls(r),s)for(r=0;r<s.length;r++)Ls(s[r])}}function Ui(r,s){return r(s)}function ca(){}var kr=!1;function ha(r,s,l){if(kr)return r(s,l);kr=!0;try{return Ui(r,s,l)}finally{kr=!1,(En!==null||rr!==null)&&(ca(),ua())}}function ot(r,s){var l=r.stateNode;if(l===null)return null;var h=gu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var Fs=!1;if(f)try{var On={};Object.defineProperty(On,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{Fs=!1}function $i(r,s,l,h,d,y,T,R,V){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(l,Q)}catch(se){this.onError(se)}}var Bi=!1,js=null,Ln=!1,fa=null,kh={onError:function(r){Bi=!0,js=r}};function zs(r,s,l,h,d,y,T,R,V){Bi=!1,js=null,$i.apply(kh,arguments)}function Ul(r,s,l,h,d,y,T,R,V){if(zs.apply(this,arguments),Bi){if(Bi){var Q=js;Bi=!1,js=null}else throw Error(n(198));Ln||(Ln=!0,fa=Q)}}function Fn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function qi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function jn(r){if(Fn(r)!==r)throw Error(n(188))}function $l(r){var s=r.alternate;if(!s){if(s=Fn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,h=s;;){var d=l.return;if(d===null)break;var y=d.alternate;if(y===null){if(h=d.return,h!==null){l=h;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===l)return jn(d),r;if(y===h)return jn(d),s;y=y.sibling}throw Error(n(188))}if(l.return!==h.return)l=d,h=y;else{for(var T=!1,R=d.child;R;){if(R===l){T=!0,l=d,h=y;break}if(R===h){T=!0,h=d,l=y;break}R=R.sibling}if(!T){for(R=y.child;R;){if(R===l){T=!0,l=y,h=d;break}if(R===h){T=!0,h=y,l=d;break}R=R.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function da(r){return r=$l(r),r!==null?Us(r):null}function Us(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Us(r);if(s!==null)return s;r=r.sibling}return null}var $s=e.unstable_scheduleCallback,pa=e.unstable_cancelCallback,Bl=e.unstable_shouldYield,Nh=e.unstable_requestPaint,Ge=e.unstable_now,ql=e.unstable_getCurrentPriorityLevel,Hi=e.unstable_ImmediatePriority,Zr=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,ma=e.unstable_LowPriority,Hl=e.unstable_IdlePriority,Qi=null,cn=null;function Ql(r){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Qi,r,void 0,(r.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Kl,ga=Math.log,Gl=Math.LN2;function Kl(r){return r>>>=0,r===0?32:31-(ga(r)/Gl|0)|0}var Bs=64,qs=4194304;function ei(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Gi(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,d=r.suspendedLanes,y=r.pingedLanes,T=l&268435455;if(T!==0){var R=T&~d;R!==0?h=ei(R):(y&=T,y!==0&&(h=ei(y)))}else T=l&~d,T!==0?h=ei(T):y!==0&&(h=ei(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&d)===0&&(d=h&-h,y=s&-s,d>=y||d===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-qt(s),d=1<<l,h|=r[l],s&=~d;return h}function Dh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nr(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,y=r.pendingLanes;0<y;){var T=31-qt(y),R=1<<T,V=d[T];V===-1?((R&l)===0||(R&h)!==0)&&(d[T]=Dh(R,s)):V<=s&&(r.expiredLanes|=R),y&=~R}}function hn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ki(){var r=Bs;return Bs<<=1,(Bs&4194240)===0&&(Bs=64),r}function ti(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function ni(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-qt(s),r[s]=l}function He(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var d=31-qt(l),y=1<<d;s[d]=0,h[d]=-1,r[d]=-1,l&=~y}}function ri(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-qt(l),d=1<<h;d&s|r[h]&s&&(r[h]|=s),l&=~d}}var be=0;function ii(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Wl,Hs,Yl,Xl,Jl,ya=!1,sr=[],kt=null,zn=null,Un=null,si=new Map,Sn=new Map,or=[],bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zl(r,s){switch(r){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":si.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(s.pointerId)}}function Yt(r,s,l,h,d,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[d]},s!==null&&(s=Da(s),s!==null&&Hs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Vh(r,s,l,h,d){switch(s){case"focusin":return kt=Yt(kt,r,s,l,h,d),!0;case"dragenter":return zn=Yt(zn,r,s,l,h,d),!0;case"mouseover":return Un=Yt(Un,r,s,l,h,d),!0;case"pointerover":var y=d.pointerId;return si.set(y,Yt(si.get(y)||null,r,s,l,h,d)),!0;case"gotpointercapture":return y=d.pointerId,Sn.set(y,Yt(Sn.get(y)||null,r,s,l,h,d)),!0}return!1}function eu(r){var s=Zi(r.target);if(s!==null){var l=Fn(s);if(l!==null){if(s=l.tag,s===13){if(s=qi(l),s!==null){r.blockedOn=s,Jl(r.priority,function(){Yl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Dr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Qs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);zi=h,l.target.dispatchEvent(h),zi=null}else return s=Da(l),s!==null&&Hs(s),r.blockedOn=l,!1;s.shift()}return!0}function Wi(r,s,l){Dr(r)&&l.delete(s)}function tu(){ya=!1,kt!==null&&Dr(kt)&&(kt=null),zn!==null&&Dr(zn)&&(zn=null),Un!==null&&Dr(Un)&&(Un=null),si.forEach(Wi),Sn.forEach(Wi)}function $n(r,s){r.blockedOn===s&&(r.blockedOn=null,ya||(ya=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tu)))}function Bn(r){function s(d){return $n(d,r)}if(0<sr.length){$n(sr[0],r);for(var l=1;l<sr.length;l++){var h=sr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(kt!==null&&$n(kt,r),zn!==null&&$n(zn,r),Un!==null&&$n(Un,r),si.forEach(s),Sn.forEach(s),l=0;l<or.length;l++)h=or[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<or.length&&(l=or[0],l.blockedOn===null);)eu(l),l.blockedOn===null&&or.shift()}var br=Z.ReactCurrentBatchConfig,oi=!0;function Xe(r,s,l,h){var d=be,y=br.transition;br.transition=null;try{be=1,va(r,s,l,h)}finally{be=d,br.transition=y}}function Mh(r,s,l,h){var d=be,y=br.transition;br.transition=null;try{be=4,va(r,s,l,h)}finally{be=d,br.transition=y}}function va(r,s,l,h){if(oi){var d=Qs(r,s,l,h);if(d===null)Qh(r,s,h,Yi,l),Zl(r,h);else if(Vh(d,r,s,l,h))h.stopPropagation();else if(Zl(r,h),s&4&&-1<bh.indexOf(r)){for(;d!==null;){var y=Da(d);if(y!==null&&Wl(y),y=Qs(r,s,l,h),y===null&&Qh(r,s,h,Yi,l),y===d)break;d=y}d!==null&&h.stopPropagation()}else Qh(r,s,h,null,l)}}var Yi=null;function Qs(r,s,l,h){if(Yi=null,r=Ms(h),r=Zi(r),r!==null)if(s=Fn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=qi(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Yi=r,null}function _a(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ql()){case Hi:return 1;case Zr:return 4;case Tn:case ma:return 16;case Hl:return 536870912;default:return 16}default:return 16}}var fn=null,Gs=null,Xt=null;function wa(){if(Xt)return Xt;var r,s=Gs,l=s.length,h,d="value"in fn?fn.value:fn.textContent,y=d.length;for(r=0;r<l&&s[r]===d[r];r++);var T=l-r;for(h=1;h<=T&&s[l-h]===d[y-h];h++);return Xt=d.slice(r,1<h?1-h:void 0)}function Ks(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ar(){return!0}function Ea(){return!1}function Nt(r){function s(l,h,d,y,T){this._reactName=l,this._targetInst=d,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ar:Ea,this.isPropagationStopped=Ea,this}return ee(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),s}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=Nt(qn),lr=ee({},qn,{view:0,detail:0}),Oh=Nt(lr),Ys,Vr,ai,Xi=ee({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ur,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ai&&(ai&&r.type==="mousemove"?(Ys=r.screenX-ai.screenX,Vr=r.screenY-ai.screenY):Vr=Ys=0,ai=r),Ys)},movementY:function(r){return"movementY"in r?r.movementY:Vr}}),Xs=Nt(Xi),Ta=ee({},Xi,{dataTransfer:0}),nu=Nt(Ta),Js=ee({},lr,{relatedTarget:0}),Zs=Nt(Js),ru=ee({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Mr=Nt(ru),iu=ee({},qn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),su=Nt(iu),ou=ee({},qn,{data:0}),Sa=Nt(ou),eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=au[r])?!!s[r]:!1}function ur(){return lu}var u=ee({},lr,{key:function(r){if(r.key){var s=eo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ks(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ht[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ur,charCode:function(r){return r.type==="keypress"?Ks(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ks(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Nt(u),_=ee({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Nt(_),$=ee({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ur}),W=Nt($),he=ee({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=Nt(he),_t=ee({},Xi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Nt(_t),xt=[9,13,27,32],ft=f&&"CompositionEvent"in window,In=null;f&&"documentMode"in document&&(In=document.documentMode);var dn=f&&"TextEvent"in window&&!In,Ji=f&&(!ft||In&&8<In&&11>=In),to=" ",$m=!1;function Bm(r,s){switch(r){case"keyup":return xt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var no=!1;function tT(r,s){switch(r){case"compositionend":return qm(s);case"keypress":return s.which!==32?null:($m=!0,to);case"textInput":return r=s.data,r===to&&$m?null:r;default:return null}}function nT(r,s){if(no)return r==="compositionend"||!ft&&Bm(r,s)?(r=wa(),Xt=Gs=fn=null,no=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ji&&s.locale!=="ko"?null:s.data;default:return null}}var rT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!rT[r.type]:s==="textarea"}function Qm(r,s,l,h){ir(h),s=du(s,"onChange"),0<s.length&&(l=new Ws("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var Ia=null,xa=null;function iT(r){cg(r,0)}function uu(r){var s=ao(r);if(ks(s))return r}function sT(r,s){if(r==="change")return s}var Gm=!1;if(f){var Lh;if(f){var Fh="oninput"in document;if(!Fh){var Km=document.createElement("div");Km.setAttribute("oninput","return;"),Fh=typeof Km.oninput=="function"}Lh=Fh}else Lh=!1;Gm=Lh&&(!document.documentMode||9<document.documentMode)}function Wm(){Ia&&(Ia.detachEvent("onpropertychange",Ym),xa=Ia=null)}function Ym(r){if(r.propertyName==="value"&&uu(xa)){var s=[];Qm(s,xa,r,Ms(r)),ha(iT,s)}}function oT(r,s,l){r==="focusin"?(Wm(),Ia=s,xa=l,Ia.attachEvent("onpropertychange",Ym)):r==="focusout"&&Wm()}function aT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return uu(xa)}function lT(r,s){if(r==="click")return uu(s)}function uT(r,s){if(r==="input"||r==="change")return uu(s)}function cT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Hn=typeof Object.is=="function"?Object.is:cT;function Aa(r,s){if(Hn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var d=l[h];if(!p.call(s,d)||!Hn(r[d],s[d]))return!1}return!0}function Xm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Jm(r,s){var l=Xm(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xm(l)}}function Zm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Zm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function eg(){for(var r=window,s=Xr();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Xr(r.document)}return s}function jh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function hT(r){var s=eg(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Zm(l.ownerDocument.documentElement,l)){if(h!==null&&jh(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=l.textContent.length,y=Math.min(h.start,d);h=h.end===void 0?y:Math.min(h.end,d),!r.extend&&y>h&&(d=h,h=y,y=d),d=Jm(l,y);var T=Jm(l,h);d&&T&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var fT=f&&"documentMode"in document&&11>=document.documentMode,ro=null,zh=null,Ca=null,Uh=!1;function tg(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Uh||ro==null||ro!==Xr(h)||(h=ro,"selectionStart"in h&&jh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ca&&Aa(Ca,h)||(Ca=h,h=du(zh,"onSelect"),0<h.length&&(s=new Ws("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=ro)))}function cu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var io={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionend:cu("Transition","TransitionEnd")},$h={},ng={};f&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function hu(r){if($h[r])return $h[r];if(!io[r])return r;var s=io[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in ng)return $h[r]=s[l];return r}var rg=hu("animationend"),ig=hu("animationiteration"),sg=hu("animationstart"),og=hu("transitionend"),ag=new Map,lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(r,s){ag.set(r,s),a(s,[r])}for(var Bh=0;Bh<lg.length;Bh++){var qh=lg[Bh],dT=qh.toLowerCase(),pT=qh[0].toUpperCase()+qh.slice(1);li(dT,"on"+pT)}li(rg,"onAnimationEnd"),li(ig,"onAnimationIteration"),li(sg,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(og,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function ug(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,Ul(h,s,void 0,r),r.currentTarget=null}function cg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],d=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var T=h.length-1;0<=T;T--){var R=h[T],V=R.instance,Q=R.currentTarget;if(R=R.listener,V!==y&&d.isPropagationStopped())break e;ug(d,R,Q),y=V}else for(T=0;T<h.length;T++){if(R=h[T],V=R.instance,Q=R.currentTarget,R=R.listener,V!==y&&d.isPropagationStopped())break e;ug(d,R,Q),y=V}}}if(Ln)throw r=fa,Ln=!1,fa=null,r}function We(r,s){var l=s[Jh];l===void 0&&(l=s[Jh]=new Set);var h=r+"__bubble";l.has(h)||(hg(s,r,2,!1),l.add(h))}function Hh(r,s,l){var h=0;s&&(h|=4),hg(l,r,h,s)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Pa(r){if(!r[fu]){r[fu]=!0,i.forEach(function(l){l!=="selectionchange"&&(mT.has(l)||Hh(l,!1,r),Hh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[fu]||(s[fu]=!0,Hh("selectionchange",!1,s))}}function hg(r,s,l,h){switch(_a(s)){case 1:var d=Xe;break;case 4:d=Mh;break;default:d=va}l=d.bind(null,s,l,r),d=void 0,!Fs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,l,{capture:!0,passive:d}):r.addEventListener(s,l,!0):d!==void 0?r.addEventListener(s,l,{passive:d}):r.addEventListener(s,l,!1)}function Qh(r,s,l,h,d){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var R=h.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(T===4)for(T=h.return;T!==null;){var V=T.tag;if((V===3||V===4)&&(V=T.stateNode.containerInfo,V===d||V.nodeType===8&&V.parentNode===d))return;T=T.return}for(;R!==null;){if(T=Zi(R),T===null)return;if(V=T.tag,V===5||V===6){h=y=T;continue e}R=R.parentNode}}h=h.return}ha(function(){var Q=y,se=Ms(l),oe=[];e:{var re=ag.get(r);if(re!==void 0){var pe=Ws,ve=r;switch(r){case"keypress":if(Ks(l)===0)break e;case"keydown":case"keyup":pe=g;break;case"focusin":ve="focus",pe=Zs;break;case"focusout":ve="blur",pe=Zs;break;case"beforeblur":case"afterblur":pe=Zs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=W;break;case rg:case ig:case sg:pe=Mr;break;case og:pe=qe;break;case"scroll":pe=Oh;break;case"wheel":pe=Me;break;case"copy":case"cut":case"paste":pe=su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=S}var we=(s&4)!==0,at=!we&&r==="scroll",B=we?re!==null?re+"Capture":null:re;we=[];for(var F=Q,q;F!==null;){q=F;var ue=q.stateNode;if(q.tag===5&&ue!==null&&(q=ue,B!==null&&(ue=ot(F,B),ue!=null&&we.push(ka(F,ue,q)))),at)break;F=F.return}0<we.length&&(re=new pe(re,ve,null,l,se),oe.push({event:re,listeners:we}))}}if((s&7)===0){e:{if(re=r==="mouseover"||r==="pointerover",pe=r==="mouseout"||r==="pointerout",re&&l!==zi&&(ve=l.relatedTarget||l.fromElement)&&(Zi(ve)||ve[Or]))break e;if((pe||re)&&(re=se.window===se?se:(re=se.ownerDocument)?re.defaultView||re.parentWindow:window,pe?(ve=l.relatedTarget||l.toElement,pe=Q,ve=ve?Zi(ve):null,ve!==null&&(at=Fn(ve),ve!==at||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=Q),pe!==ve)){if(we=Xs,ue="onMouseLeave",B="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(we=S,ue="onPointerLeave",B="onPointerEnter",F="pointer"),at=pe==null?re:ao(pe),q=ve==null?re:ao(ve),re=new we(ue,F+"leave",pe,l,se),re.target=at,re.relatedTarget=q,ue=null,Zi(se)===Q&&(we=new we(B,F+"enter",ve,l,se),we.target=q,we.relatedTarget=at,ue=we),at=ue,pe&&ve)t:{for(we=pe,B=ve,F=0,q=we;q;q=so(q))F++;for(q=0,ue=B;ue;ue=so(ue))q++;for(;0<F-q;)we=so(we),F--;for(;0<q-F;)B=so(B),q--;for(;F--;){if(we===B||B!==null&&we===B.alternate)break t;we=so(we),B=so(B)}we=null}else we=null;pe!==null&&fg(oe,re,pe,we,!1),ve!==null&&at!==null&&fg(oe,at,ve,we,!0)}}e:{if(re=Q?ao(Q):window,pe=re.nodeName&&re.nodeName.toLowerCase(),pe==="select"||pe==="input"&&re.type==="file")var Ee=sT;else if(Hm(re))if(Gm)Ee=uT;else{Ee=aT;var Se=oT}else(pe=re.nodeName)&&pe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ee=lT);if(Ee&&(Ee=Ee(r,Q))){Qm(oe,Ee,l,se);break e}Se&&Se(r,re,Q),r==="focusout"&&(Se=re._wrapperState)&&Se.controlled&&re.type==="number"&&Ds(re,"number",re.value)}switch(Se=Q?ao(Q):window,r){case"focusin":(Hm(Se)||Se.contentEditable==="true")&&(ro=Se,zh=Q,Ca=null);break;case"focusout":Ca=zh=ro=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,tg(oe,l,se);break;case"selectionchange":if(fT)break;case"keydown":case"keyup":tg(oe,l,se)}var Ie;if(ft)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else no?Bm(r,l)&&(Ae="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(Ji&&l.locale!=="ko"&&(no||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&no&&(Ie=wa()):(fn=se,Gs="value"in fn?fn.value:fn.textContent,no=!0)),Se=du(Q,Ae),0<Se.length&&(Ae=new Sa(Ae,r,null,l,se),oe.push({event:Ae,listeners:Se}),Ie?Ae.data=Ie:(Ie=qm(l),Ie!==null&&(Ae.data=Ie)))),(Ie=dn?tT(r,l):nT(r,l))&&(Q=du(Q,"onBeforeInput"),0<Q.length&&(se=new Sa("onBeforeInput","beforeinput",null,l,se),oe.push({event:se,listeners:Q}),se.data=Ie))}cg(oe,s)})}function ka(r,s,l){return{instance:r,listener:s,currentTarget:l}}function du(r,s){for(var l=s+"Capture",h=[];r!==null;){var d=r,y=d.stateNode;d.tag===5&&y!==null&&(d=y,y=ot(r,l),y!=null&&h.unshift(ka(r,y,d)),y=ot(r,s),y!=null&&h.push(ka(r,y,d))),r=r.return}return h}function so(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function fg(r,s,l,h,d){for(var y=s._reactName,T=[];l!==null&&l!==h;){var R=l,V=R.alternate,Q=R.stateNode;if(V!==null&&V===h)break;R.tag===5&&Q!==null&&(R=Q,d?(V=ot(l,y),V!=null&&T.unshift(ka(l,V,R))):d||(V=ot(l,y),V!=null&&T.push(ka(l,V,R)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var gT=/\r\n?/g,yT=/\u0000|\uFFFD/g;function dg(r){return(typeof r=="string"?r:""+r).replace(gT,`
`).replace(yT,"")}function pu(r,s,l){if(s=dg(s),dg(r)!==s&&l)throw Error(n(425))}function mu(){}var Gh=null,Kh=null;function Wh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yh=typeof setTimeout=="function"?setTimeout:void 0,vT=typeof clearTimeout=="function"?clearTimeout:void 0,pg=typeof Promise=="function"?Promise:void 0,_T=typeof queueMicrotask=="function"?queueMicrotask:typeof pg<"u"?function(r){return pg.resolve(null).then(r).catch(wT)}:Yh;function wT(r){setTimeout(function(){throw r})}function Xh(r,s){var l=s,h=0;do{var d=l.nextSibling;if(r.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(h===0){r.removeChild(d),Bn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=d}while(l);Bn(s)}function ui(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function mg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var oo=Math.random().toString(36).slice(2),cr="__reactFiber$"+oo,Na="__reactProps$"+oo,Or="__reactContainer$"+oo,Jh="__reactEvents$"+oo,ET="__reactListeners$"+oo,TT="__reactHandles$"+oo;function Zi(r){var s=r[cr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Or]||l[cr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=mg(r);r!==null;){if(l=r[cr])return l;r=mg(r)}return s}r=l,l=r.parentNode}return null}function Da(r){return r=r[cr]||r[Or],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ao(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function gu(r){return r[Na]||null}var Zh=[],lo=-1;function ci(r){return{current:r}}function Ye(r){0>lo||(r.current=Zh[lo],Zh[lo]=null,lo--)}function Ke(r,s){lo++,Zh[lo]=r.current,r.current=s}var hi={},Ot=ci(hi),Jt=ci(!1),es=hi;function uo(r,s){var l=r.type.contextTypes;if(!l)return hi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},y;for(y in l)d[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function Zt(r){return r=r.childContextTypes,r!=null}function yu(){Ye(Jt),Ye(Ot)}function gg(r,s,l){if(Ot.current!==hi)throw Error(n(168));Ke(Ot,s),Ke(Jt,l)}function yg(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(n(108,ke(r)||"Unknown",d));return ee({},l,h)}function vu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||hi,es=Ot.current,Ke(Ot,r),Ke(Jt,Jt.current),!0}function vg(r,s,l){var h=r.stateNode;if(!h)throw Error(n(169));l?(r=yg(r,s,es),h.__reactInternalMemoizedMergedChildContext=r,Ye(Jt),Ye(Ot),Ke(Ot,r)):Ye(Jt),Ke(Jt,l)}var Lr=null,_u=!1,ef=!1;function _g(r){Lr===null?Lr=[r]:Lr.push(r)}function ST(r){_u=!0,_g(r)}function fi(){if(!ef&&Lr!==null){ef=!0;var r=0,s=be;try{var l=Lr;for(be=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Lr=null,_u=!1}catch(d){throw Lr!==null&&(Lr=Lr.slice(r+1)),$s(Hi,fi),d}finally{be=s,ef=!1}}return null}var co=[],ho=0,wu=null,Eu=0,xn=[],An=0,ts=null,Fr=1,jr="";function ns(r,s){co[ho++]=Eu,co[ho++]=wu,wu=r,Eu=s}function wg(r,s,l){xn[An++]=Fr,xn[An++]=jr,xn[An++]=ts,ts=r;var h=Fr;r=jr;var d=32-qt(h)-1;h&=~(1<<d),l+=1;var y=32-qt(s)+d;if(30<y){var T=d-d%5;y=(h&(1<<T)-1).toString(32),h>>=T,d-=T,Fr=1<<32-qt(s)+d|l<<d|h,jr=y+r}else Fr=1<<y|l<<d|h,jr=r}function tf(r){r.return!==null&&(ns(r,1),wg(r,1,0))}function nf(r){for(;r===wu;)wu=co[--ho],co[ho]=null,Eu=co[--ho],co[ho]=null;for(;r===ts;)ts=xn[--An],xn[An]=null,jr=xn[--An],xn[An]=null,Fr=xn[--An],xn[An]=null}var pn=null,mn=null,Je=!1,Qn=null;function Eg(r,s){var l=kn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Tg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,pn=r,mn=ui(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,pn=r,mn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ts!==null?{id:Fr,overflow:jr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=kn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,pn=r,mn=null,!0):!1;default:return!1}}function rf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function sf(r){if(Je){var s=mn;if(s){var l=s;if(!Tg(r,s)){if(rf(r))throw Error(n(418));s=ui(l.nextSibling);var h=pn;s&&Tg(r,s)?Eg(h,l):(r.flags=r.flags&-4097|2,Je=!1,pn=r)}}else{if(rf(r))throw Error(n(418));r.flags=r.flags&-4097|2,Je=!1,pn=r}}}function Sg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pn=r}function Tu(r){if(r!==pn)return!1;if(!Je)return Sg(r),Je=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Wh(r.type,r.memoizedProps)),s&&(s=mn)){if(rf(r))throw Ig(),Error(n(418));for(;s;)Eg(r,s),s=ui(s.nextSibling)}if(Sg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){mn=ui(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}mn=null}}else mn=pn?ui(r.stateNode.nextSibling):null;return!0}function Ig(){for(var r=mn;r;)r=ui(r.nextSibling)}function fo(){mn=pn=null,Je=!1}function of(r){Qn===null?Qn=[r]:Qn.push(r)}var IT=Z.ReactCurrentBatchConfig;function ba(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,r));var d=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(T){var R=d.refs;T===null?delete R[y]:R[y]=T},s._stringRef=y,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function Su(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function xg(r){var s=r._init;return s(r._payload)}function Ag(r){function s(B,F){if(r){var q=B.deletions;q===null?(B.deletions=[F],B.flags|=16):q.push(F)}}function l(B,F){if(!r)return null;for(;F!==null;)s(B,F),F=F.sibling;return null}function h(B,F){for(B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function d(B,F){return B=wi(B,F),B.index=0,B.sibling=null,B}function y(B,F,q){return B.index=q,r?(q=B.alternate,q!==null?(q=q.index,q<F?(B.flags|=2,F):q):(B.flags|=2,F)):(B.flags|=1048576,F)}function T(B){return r&&B.alternate===null&&(B.flags|=2),B}function R(B,F,q,ue){return F===null||F.tag!==6?(F=Xf(q,B.mode,ue),F.return=B,F):(F=d(F,q),F.return=B,F)}function V(B,F,q,ue){var Ee=q.type;return Ee===D?se(B,F,q.props.children,ue,q.key):F!==null&&(F.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===G&&xg(Ee)===F.type)?(ue=d(F,q.props),ue.ref=ba(B,F,q),ue.return=B,ue):(ue=Gu(q.type,q.key,q.props,null,B.mode,ue),ue.ref=ba(B,F,q),ue.return=B,ue)}function Q(B,F,q,ue){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=Jf(q,B.mode,ue),F.return=B,F):(F=d(F,q.children||[]),F.return=B,F)}function se(B,F,q,ue,Ee){return F===null||F.tag!==7?(F=cs(q,B.mode,ue,Ee),F.return=B,F):(F=d(F,q),F.return=B,F)}function oe(B,F,q){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Xf(""+F,B.mode,q),F.return=B,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case le:return q=Gu(F.type,F.key,F.props,null,B.mode,q),q.ref=ba(B,null,F),q.return=B,q;case ce:return F=Jf(F,B.mode,q),F.return=B,F;case G:var ue=F._init;return oe(B,ue(F._payload),q)}if(Cr(F)||ne(F))return F=cs(F,B.mode,q,null),F.return=B,F;Su(B,F)}return null}function re(B,F,q,ue){var Ee=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Ee!==null?null:R(B,F,""+q,ue);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case le:return q.key===Ee?V(B,F,q,ue):null;case ce:return q.key===Ee?Q(B,F,q,ue):null;case G:return Ee=q._init,re(B,F,Ee(q._payload),ue)}if(Cr(q)||ne(q))return Ee!==null?null:se(B,F,q,ue,null);Su(B,q)}return null}function pe(B,F,q,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return B=B.get(q)||null,R(F,B,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case le:return B=B.get(ue.key===null?q:ue.key)||null,V(F,B,ue,Ee);case ce:return B=B.get(ue.key===null?q:ue.key)||null,Q(F,B,ue,Ee);case G:var Se=ue._init;return pe(B,F,q,Se(ue._payload),Ee)}if(Cr(ue)||ne(ue))return B=B.get(q)||null,se(F,B,ue,Ee,null);Su(F,ue)}return null}function ve(B,F,q,ue){for(var Ee=null,Se=null,Ie=F,Ae=F=0,Rt=null;Ie!==null&&Ae<q.length;Ae++){Ie.index>Ae?(Rt=Ie,Ie=null):Rt=Ie.sibling;var $e=re(B,Ie,q[Ae],ue);if($e===null){Ie===null&&(Ie=Rt);break}r&&Ie&&$e.alternate===null&&s(B,Ie),F=y($e,F,Ae),Se===null?Ee=$e:Se.sibling=$e,Se=$e,Ie=Rt}if(Ae===q.length)return l(B,Ie),Je&&ns(B,Ae),Ee;if(Ie===null){for(;Ae<q.length;Ae++)Ie=oe(B,q[Ae],ue),Ie!==null&&(F=y(Ie,F,Ae),Se===null?Ee=Ie:Se.sibling=Ie,Se=Ie);return Je&&ns(B,Ae),Ee}for(Ie=h(B,Ie);Ae<q.length;Ae++)Rt=pe(Ie,B,Ae,q[Ae],ue),Rt!==null&&(r&&Rt.alternate!==null&&Ie.delete(Rt.key===null?Ae:Rt.key),F=y(Rt,F,Ae),Se===null?Ee=Rt:Se.sibling=Rt,Se=Rt);return r&&Ie.forEach(function(Ei){return s(B,Ei)}),Je&&ns(B,Ae),Ee}function we(B,F,q,ue){var Ee=ne(q);if(typeof Ee!="function")throw Error(n(150));if(q=Ee.call(q),q==null)throw Error(n(151));for(var Se=Ee=null,Ie=F,Ae=F=0,Rt=null,$e=q.next();Ie!==null&&!$e.done;Ae++,$e=q.next()){Ie.index>Ae?(Rt=Ie,Ie=null):Rt=Ie.sibling;var Ei=re(B,Ie,$e.value,ue);if(Ei===null){Ie===null&&(Ie=Rt);break}r&&Ie&&Ei.alternate===null&&s(B,Ie),F=y(Ei,F,Ae),Se===null?Ee=Ei:Se.sibling=Ei,Se=Ei,Ie=Rt}if($e.done)return l(B,Ie),Je&&ns(B,Ae),Ee;if(Ie===null){for(;!$e.done;Ae++,$e=q.next())$e=oe(B,$e.value,ue),$e!==null&&(F=y($e,F,Ae),Se===null?Ee=$e:Se.sibling=$e,Se=$e);return Je&&ns(B,Ae),Ee}for(Ie=h(B,Ie);!$e.done;Ae++,$e=q.next())$e=pe(Ie,B,Ae,$e.value,ue),$e!==null&&(r&&$e.alternate!==null&&Ie.delete($e.key===null?Ae:$e.key),F=y($e,F,Ae),Se===null?Ee=$e:Se.sibling=$e,Se=$e);return r&&Ie.forEach(function(rS){return s(B,rS)}),Je&&ns(B,Ae),Ee}function at(B,F,q,ue){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case le:e:{for(var Ee=q.key,Se=F;Se!==null;){if(Se.key===Ee){if(Ee=q.type,Ee===D){if(Se.tag===7){l(B,Se.sibling),F=d(Se,q.props.children),F.return=B,B=F;break e}}else if(Se.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===G&&xg(Ee)===Se.type){l(B,Se.sibling),F=d(Se,q.props),F.ref=ba(B,Se,q),F.return=B,B=F;break e}l(B,Se);break}else s(B,Se);Se=Se.sibling}q.type===D?(F=cs(q.props.children,B.mode,ue,q.key),F.return=B,B=F):(ue=Gu(q.type,q.key,q.props,null,B.mode,ue),ue.ref=ba(B,F,q),ue.return=B,B=ue)}return T(B);case ce:e:{for(Se=q.key;F!==null;){if(F.key===Se)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){l(B,F.sibling),F=d(F,q.children||[]),F.return=B,B=F;break e}else{l(B,F);break}else s(B,F);F=F.sibling}F=Jf(q,B.mode,ue),F.return=B,B=F}return T(B);case G:return Se=q._init,at(B,F,Se(q._payload),ue)}if(Cr(q))return ve(B,F,q,ue);if(ne(q))return we(B,F,q,ue);Su(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,F!==null&&F.tag===6?(l(B,F.sibling),F=d(F,q),F.return=B,B=F):(l(B,F),F=Xf(q,B.mode,ue),F.return=B,B=F),T(B)):l(B,F)}return at}var po=Ag(!0),Cg=Ag(!1),Iu=ci(null),xu=null,mo=null,af=null;function lf(){af=mo=xu=null}function uf(r){var s=Iu.current;Ye(Iu),r._currentValue=s}function cf(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function go(r,s){xu=r,af=mo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(en=!0),r.firstContext=null)}function Cn(r){var s=r._currentValue;if(af!==r)if(r={context:r,memoizedValue:s,next:null},mo===null){if(xu===null)throw Error(n(308));mo=r,xu.dependencies={lanes:0,firstContext:r}}else mo=mo.next=r;return s}var rs=null;function hf(r){rs===null?rs=[r]:rs.push(r)}function Rg(r,s,l,h){var d=s.interleaved;return d===null?(l.next=l,hf(s)):(l.next=d.next,d.next=l),s.interleaved=l,zr(r,h)}function zr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var di=!1;function ff(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ur(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function pi(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(je&2)!==0){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,zr(r,l)}return d=h.interleaved,d===null?(s.next=s,hf(h)):(s.next=d.next,d.next=s),h.interleaved=s,zr(r,l)}function Au(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,ri(r,l)}}function kg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var d=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?d=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?d=y=s:y=y.next=s}else d=y=s;l={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Cu(r,s,l,h){var d=r.updateQueue;di=!1;var y=d.firstBaseUpdate,T=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var V=R,Q=V.next;V.next=null,T===null?y=Q:T.next=Q,T=V;var se=r.alternate;se!==null&&(se=se.updateQueue,R=se.lastBaseUpdate,R!==T&&(R===null?se.firstBaseUpdate=Q:R.next=Q,se.lastBaseUpdate=V))}if(y!==null){var oe=d.baseState;T=0,se=Q=V=null,R=y;do{var re=R.lane,pe=R.eventTime;if((h&re)===re){se!==null&&(se=se.next={eventTime:pe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ve=r,we=R;switch(re=s,pe=l,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){oe=ve.call(pe,oe,re);break e}oe=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,re=typeof ve=="function"?ve.call(pe,oe,re):ve,re==null)break e;oe=ee({},oe,re);break e;case 2:di=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,re=d.effects,re===null?d.effects=[R]:re.push(R))}else pe={eventTime:pe,lane:re,tag:R.tag,payload:R.payload,callback:R.callback,next:null},se===null?(Q=se=pe,V=oe):se=se.next=pe,T|=re;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;re=R,R=re.next,re.next=null,d.lastBaseUpdate=re,d.shared.pending=null}}while(!0);if(se===null&&(V=oe),d.baseState=V,d.firstBaseUpdate=Q,d.lastBaseUpdate=se,s=d.shared.interleaved,s!==null){d=s;do T|=d.lane,d=d.next;while(d!==s)}else y===null&&(d.shared.lanes=0);os|=T,r.lanes=T,r.memoizedState=oe}}function Ng(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=l,typeof d!="function")throw Error(n(191,d));d.call(h)}}}var Va={},hr=ci(Va),Ma=ci(Va),Oa=ci(Va);function is(r){if(r===Va)throw Error(n(174));return r}function df(r,s){switch(Ke(Oa,s),Ke(Ma,r),Ke(hr,Va),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:vt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=vt(s,r)}Ye(hr),Ke(hr,s)}function yo(){Ye(hr),Ye(Ma),Ye(Oa)}function Dg(r){is(Oa.current);var s=is(hr.current),l=vt(s,r.type);s!==l&&(Ke(Ma,r),Ke(hr,l))}function pf(r){Ma.current===r&&(Ye(hr),Ye(Ma))}var nt=ci(0);function Ru(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var mf=[];function gf(){for(var r=0;r<mf.length;r++)mf[r]._workInProgressVersionPrimary=null;mf.length=0}var Pu=Z.ReactCurrentDispatcher,yf=Z.ReactCurrentBatchConfig,ss=0,rt=null,wt=null,At=null,ku=!1,La=!1,Fa=0,xT=0;function Lt(){throw Error(n(321))}function vf(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Hn(r[l],s[l]))return!1;return!0}function _f(r,s,l,h,d,y){if(ss=y,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Pu.current=r===null||r.memoizedState===null?PT:kT,r=l(h,d),La){y=0;do{if(La=!1,Fa=0,25<=y)throw Error(n(301));y+=1,At=wt=null,s.updateQueue=null,Pu.current=NT,r=l(h,d)}while(La)}if(Pu.current=bu,s=wt!==null&&wt.next!==null,ss=0,At=wt=rt=null,ku=!1,s)throw Error(n(300));return r}function wf(){var r=Fa!==0;return Fa=0,r}function fr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?rt.memoizedState=At=r:At=At.next=r,At}function Rn(){if(wt===null){var r=rt.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=At===null?rt.memoizedState:At.next;if(s!==null)At=s,wt=r;else{if(r===null)throw Error(n(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},At===null?rt.memoizedState=At=r:At=At.next=r}return At}function ja(r,s){return typeof s=="function"?s(r):s}function Ef(r){var s=Rn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=wt,d=h.baseQueue,y=l.pending;if(y!==null){if(d!==null){var T=d.next;d.next=y.next,y.next=T}h.baseQueue=d=y,l.pending=null}if(d!==null){y=d.next,h=h.baseState;var R=T=null,V=null,Q=y;do{var se=Q.lane;if((ss&se)===se)V!==null&&(V=V.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),h=Q.hasEagerState?Q.eagerState:r(h,Q.action);else{var oe={lane:se,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};V===null?(R=V=oe,T=h):V=V.next=oe,rt.lanes|=se,os|=se}Q=Q.next}while(Q!==null&&Q!==y);V===null?T=h:V.next=R,Hn(h,s.memoizedState)||(en=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=V,l.lastRenderedState=h}if(r=l.interleaved,r!==null){d=r;do y=d.lane,rt.lanes|=y,os|=y,d=d.next;while(d!==r)}else d===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Tf(r){var s=Rn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var h=l.dispatch,d=l.pending,y=s.memoizedState;if(d!==null){l.pending=null;var T=d=d.next;do y=r(y,T.action),T=T.next;while(T!==d);Hn(y,s.memoizedState)||(en=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function bg(){}function Vg(r,s){var l=rt,h=Rn(),d=s(),y=!Hn(h.memoizedState,d);if(y&&(h.memoizedState=d,en=!0),h=h.queue,Sf(Lg.bind(null,l,h,r),[r]),h.getSnapshot!==s||y||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,za(9,Og.bind(null,l,h,d,s),void 0,null),Ct===null)throw Error(n(349));(ss&30)!==0||Mg(l,s,d)}return d}function Mg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Og(r,s,l,h){s.value=l,s.getSnapshot=h,Fg(s)&&jg(r)}function Lg(r,s,l){return l(function(){Fg(s)&&jg(r)})}function Fg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Hn(r,l)}catch{return!0}}function jg(r){var s=zr(r,1);s!==null&&Yn(s,r,1,-1)}function zg(r){var s=fr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:r},s.queue=r,r=r.dispatch=RT.bind(null,rt,r),[s.memoizedState,r]}function za(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function Ug(){return Rn().memoizedState}function Nu(r,s,l,h){var d=fr();rt.flags|=r,d.memoizedState=za(1|s,l,void 0,h===void 0?null:h)}function Du(r,s,l,h){var d=Rn();h=h===void 0?null:h;var y=void 0;if(wt!==null){var T=wt.memoizedState;if(y=T.destroy,h!==null&&vf(h,T.deps)){d.memoizedState=za(s,l,y,h);return}}rt.flags|=r,d.memoizedState=za(1|s,l,y,h)}function $g(r,s){return Nu(8390656,8,r,s)}function Sf(r,s){return Du(2048,8,r,s)}function Bg(r,s){return Du(4,2,r,s)}function qg(r,s){return Du(4,4,r,s)}function Hg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Qg(r,s,l){return l=l!=null?l.concat([r]):null,Du(4,4,Hg.bind(null,s,r),l)}function If(){}function Gg(r,s){var l=Rn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&vf(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function Kg(r,s){var l=Rn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&vf(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function Wg(r,s,l){return(ss&21)===0?(r.baseState&&(r.baseState=!1,en=!0),r.memoizedState=l):(Hn(l,s)||(l=Ki(),rt.lanes|=l,os|=l,r.baseState=!0),s)}function AT(r,s){var l=be;be=l!==0&&4>l?l:4,r(!0);var h=yf.transition;yf.transition={};try{r(!1),s()}finally{be=l,yf.transition=h}}function Yg(){return Rn().memoizedState}function CT(r,s,l){var h=vi(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Xg(r))Jg(s,l);else if(l=Rg(r,s,l,h),l!==null){var d=Gt();Yn(l,r,h,d),Zg(l,s,h)}}function RT(r,s,l){var h=vi(r),d={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xg(r))Jg(s,d);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,R=y(T,l);if(d.hasEagerState=!0,d.eagerState=R,Hn(R,T)){var V=s.interleaved;V===null?(d.next=d,hf(s)):(d.next=V.next,V.next=d),s.interleaved=d;return}}catch{}finally{}l=Rg(r,s,d,h),l!==null&&(d=Gt(),Yn(l,r,h,d),Zg(l,s,h))}}function Xg(r){var s=r.alternate;return r===rt||s!==null&&s===rt}function Jg(r,s){La=ku=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Zg(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,ri(r,l)}}var bu={readContext:Cn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},PT={readContext:Cn,useCallback:function(r,s){return fr().memoizedState=[r,s===void 0?null:s],r},useContext:Cn,useEffect:$g,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Nu(4194308,4,Hg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Nu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Nu(4,2,r,s)},useMemo:function(r,s){var l=fr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=fr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=CT.bind(null,rt,r),[h.memoizedState,r]},useRef:function(r){var s=fr();return r={current:r},s.memoizedState=r},useState:zg,useDebugValue:If,useDeferredValue:function(r){return fr().memoizedState=r},useTransition:function(){var r=zg(!1),s=r[0];return r=AT.bind(null,r[1]),fr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=rt,d=fr();if(Je){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Ct===null)throw Error(n(349));(ss&30)!==0||Mg(h,s,l)}d.memoizedState=l;var y={value:l,getSnapshot:s};return d.queue=y,$g(Lg.bind(null,h,y,r),[r]),h.flags|=2048,za(9,Og.bind(null,h,y,l,s),void 0,null),l},useId:function(){var r=fr(),s=Ct.identifierPrefix;if(Je){var l=jr,h=Fr;l=(h&~(1<<32-qt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=Fa++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=xT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},kT={readContext:Cn,useCallback:Gg,useContext:Cn,useEffect:Sf,useImperativeHandle:Qg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Kg,useReducer:Ef,useRef:Ug,useState:function(){return Ef(ja)},useDebugValue:If,useDeferredValue:function(r){var s=Rn();return Wg(s,wt.memoizedState,r)},useTransition:function(){var r=Ef(ja)[0],s=Rn().memoizedState;return[r,s]},useMutableSource:bg,useSyncExternalStore:Vg,useId:Yg,unstable_isNewReconciler:!1},NT={readContext:Cn,useCallback:Gg,useContext:Cn,useEffect:Sf,useImperativeHandle:Qg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Kg,useReducer:Tf,useRef:Ug,useState:function(){return Tf(ja)},useDebugValue:If,useDeferredValue:function(r){var s=Rn();return wt===null?s.memoizedState=r:Wg(s,wt.memoizedState,r)},useTransition:function(){var r=Tf(ja)[0],s=Rn().memoizedState;return[r,s]},useMutableSource:bg,useSyncExternalStore:Vg,useId:Yg,unstable_isNewReconciler:!1};function Gn(r,s){if(r&&r.defaultProps){s=ee({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function xf(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:ee({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Vu={isMounted:function(r){return(r=r._reactInternals)?Fn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=Gt(),d=vi(r),y=Ur(h,d);y.payload=s,l!=null&&(y.callback=l),s=pi(r,y,d),s!==null&&(Yn(s,r,d,h),Au(s,r,d))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=Gt(),d=vi(r),y=Ur(h,d);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=pi(r,y,d),s!==null&&(Yn(s,r,d,h),Au(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Gt(),h=vi(r),d=Ur(l,h);d.tag=2,s!=null&&(d.callback=s),s=pi(r,d,h),s!==null&&(Yn(s,r,h,l),Au(s,r,h))}};function ey(r,s,l,h,d,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,T):s.prototype&&s.prototype.isPureReactComponent?!Aa(l,h)||!Aa(d,y):!0}function ty(r,s,l){var h=!1,d=hi,y=s.contextType;return typeof y=="object"&&y!==null?y=Cn(y):(d=Zt(s)?es:Ot.current,h=s.contextTypes,y=(h=h!=null)?uo(r,d):hi),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Vu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=y),s}function ny(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Vu.enqueueReplaceState(s,s.state,null)}function Af(r,s,l,h){var d=r.stateNode;d.props=l,d.state=r.memoizedState,d.refs={},ff(r);var y=s.contextType;typeof y=="object"&&y!==null?d.context=Cn(y):(y=Zt(s)?es:Ot.current,d.context=uo(r,y)),d.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(xf(r,s,y,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Vu.enqueueReplaceState(d,d.state,null),Cu(r,l,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function vo(r,s){try{var l="",h=s;do l+=Te(h),h=h.return;while(h);var d=l}catch(y){d=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:d,digest:null}}function Cf(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Rf(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var DT=typeof WeakMap=="function"?WeakMap:Map;function ry(r,s,l){l=Ur(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Uu||(Uu=!0,Bf=h),Rf(r,s)},l}function iy(r,s,l){l=Ur(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;l.payload=function(){return h(d)},l.callback=function(){Rf(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Rf(r,s),typeof h!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function sy(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new DT;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(l)||(d.add(l),r=QT.bind(null,r,s,l),s.then(r,r))}function oy(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ay(r,s,l,h,d){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Ur(-1,1),s.tag=2,pi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var bT=Z.ReactCurrentOwner,en=!1;function Qt(r,s,l,h){s.child=r===null?Cg(s,null,l,h):po(s,r.child,l,h)}function ly(r,s,l,h,d){l=l.render;var y=s.ref;return go(s,d),h=_f(r,s,l,h,y,d),l=wf(),r!==null&&!en?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,$r(r,s,d)):(Je&&l&&tf(s),s.flags|=1,Qt(r,s,h,d),s.child)}function uy(r,s,l,h,d){if(r===null){var y=l.type;return typeof y=="function"&&!Yf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,cy(r,s,y,h,d)):(r=Gu(l.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&d)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Aa,l(T,h)&&r.ref===s.ref)return $r(r,s,d)}return s.flags|=1,r=wi(y,h),r.ref=s.ref,r.return=s,s.child=r}function cy(r,s,l,h,d){if(r!==null){var y=r.memoizedProps;if(Aa(y,h)&&r.ref===s.ref)if(en=!1,s.pendingProps=h=y,(r.lanes&d)!==0)(r.flags&131072)!==0&&(en=!0);else return s.lanes=r.lanes,$r(r,s,d)}return Pf(r,s,l,h,d)}function hy(r,s,l){var h=s.pendingProps,d=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(wo,gn),gn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(wo,gn),gn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Ke(wo,gn),gn|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,Ke(wo,gn),gn|=h;return Qt(r,s,d,l),s.child}function fy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Pf(r,s,l,h,d){var y=Zt(l)?es:Ot.current;return y=uo(s,y),go(s,d),l=_f(r,s,l,h,y,d),h=wf(),r!==null&&!en?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,$r(r,s,d)):(Je&&h&&tf(s),s.flags|=1,Qt(r,s,l,d),s.child)}function dy(r,s,l,h,d){if(Zt(l)){var y=!0;vu(s)}else y=!1;if(go(s,d),s.stateNode===null)Ou(r,s),ty(s,l,h),Af(s,l,h,d),h=!0;else if(r===null){var T=s.stateNode,R=s.memoizedProps;T.props=R;var V=T.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=Cn(Q):(Q=Zt(l)?es:Ot.current,Q=uo(s,Q));var se=l.getDerivedStateFromProps,oe=typeof se=="function"||typeof T.getSnapshotBeforeUpdate=="function";oe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==h||V!==Q)&&ny(s,T,h,Q),di=!1;var re=s.memoizedState;T.state=re,Cu(s,h,T,d),V=s.memoizedState,R!==h||re!==V||Jt.current||di?(typeof se=="function"&&(xf(s,l,se,h),V=s.memoizedState),(R=di||ey(s,l,R,h,re,V,Q))?(oe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=V),T.props=h,T.state=V,T.context=Q,h=R):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,Pg(r,s),R=s.memoizedProps,Q=s.type===s.elementType?R:Gn(s.type,R),T.props=Q,oe=s.pendingProps,re=T.context,V=l.contextType,typeof V=="object"&&V!==null?V=Cn(V):(V=Zt(l)?es:Ot.current,V=uo(s,V));var pe=l.getDerivedStateFromProps;(se=typeof pe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==oe||re!==V)&&ny(s,T,h,V),di=!1,re=s.memoizedState,T.state=re,Cu(s,h,T,d);var ve=s.memoizedState;R!==oe||re!==ve||Jt.current||di?(typeof pe=="function"&&(xf(s,l,pe,h),ve=s.memoizedState),(Q=di||ey(s,l,Q,h,re,ve,V)||!1)?(se||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,ve,V),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,ve,V)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ve),T.props=h,T.state=ve,T.context=V,h=Q):(typeof T.componentDidUpdate!="function"||R===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),h=!1)}return kf(r,s,l,h,y,d)}function kf(r,s,l,h,d,y){fy(r,s);var T=(s.flags&128)!==0;if(!h&&!T)return d&&vg(s,l,!1),$r(r,s,y);h=s.stateNode,bT.current=s;var R=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&T?(s.child=po(s,r.child,null,y),s.child=po(s,null,R,y)):Qt(r,s,R,y),s.memoizedState=h.state,d&&vg(s,l,!0),s.child}function py(r){var s=r.stateNode;s.pendingContext?gg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&gg(r,s.context,!1),df(r,s.containerInfo)}function my(r,s,l,h,d){return fo(),of(d),s.flags|=256,Qt(r,s,l,h),s.child}var Nf={dehydrated:null,treeContext:null,retryLane:0};function Df(r){return{baseLanes:r,cachePool:null,transitions:null}}function gy(r,s,l){var h=s.pendingProps,d=nt.current,y=!1,T=(s.flags&128)!==0,R;if((R=T)||(R=r!==null&&r.memoizedState===null?!1:(d&2)!==0),R?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),Ke(nt,d&1),r===null)return sf(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,r=h.fallback,y?(h=s.mode,y=s.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Ku(T,h,0,null),r=cs(r,h,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Df(l),s.memoizedState=Nf,r):bf(s,T));if(d=r.memoizedState,d!==null&&(R=d.dehydrated,R!==null))return VT(r,s,T,h,R,d,l);if(y){y=h.fallback,T=s.mode,d=r.child,R=d.sibling;var V={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=V,s.deletions=null):(h=wi(d,V),h.subtreeFlags=d.subtreeFlags&14680064),R!==null?y=wi(R,y):(y=cs(y,T,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,T=r.child.memoizedState,T=T===null?Df(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=r.childLanes&~l,s.memoizedState=Nf,h}return y=r.child,r=y.sibling,h=wi(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function bf(r,s){return s=Ku({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Mu(r,s,l,h){return h!==null&&of(h),po(s,r.child,null,l),r=bf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function VT(r,s,l,h,d,y,T){if(l)return s.flags&256?(s.flags&=-257,h=Cf(Error(n(422))),Mu(r,s,T,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,d=s.mode,h=Ku({mode:"visible",children:h.children},d,0,null),y=cs(y,d,T,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&po(s,r.child,null,T),s.child.memoizedState=Df(T),s.memoizedState=Nf,y);if((s.mode&1)===0)return Mu(r,s,T,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var R=h.dgst;return h=R,y=Error(n(419)),h=Cf(y,h,void 0),Mu(r,s,T,h)}if(R=(T&r.childLanes)!==0,en||R){if(h=Ct,h!==null){switch(T&-T){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(h.suspendedLanes|T))!==0?0:d,d!==0&&d!==y.retryLane&&(y.retryLane=d,zr(r,d),Yn(h,r,d,-1))}return Wf(),h=Cf(Error(n(421))),Mu(r,s,T,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=GT.bind(null,r),d._reactRetry=s,null):(r=y.treeContext,mn=ui(d.nextSibling),pn=s,Je=!0,Qn=null,r!==null&&(xn[An++]=Fr,xn[An++]=jr,xn[An++]=ts,Fr=r.id,jr=r.overflow,ts=s),s=bf(s,h.children),s.flags|=4096,s)}function yy(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),cf(r.return,s,l)}function Vf(r,s,l,h,d){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:d}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=d)}function vy(r,s,l){var h=s.pendingProps,d=h.revealOrder,y=h.tail;if(Qt(r,s,h.children,l),h=nt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&yy(r,l,s);else if(r.tag===19)yy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ke(nt,h),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(l=s.child,d=null;l!==null;)r=l.alternate,r!==null&&Ru(r)===null&&(d=l),l=l.sibling;l=d,l===null?(d=s.child,s.child=null):(d=l.sibling,l.sibling=null),Vf(s,!1,d,l,y);break;case"backwards":for(l=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Ru(r)===null){s.child=d;break}r=d.sibling,d.sibling=l,l=d,d=r}Vf(s,!0,l,null,y);break;case"together":Vf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ou(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function $r(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),os|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=wi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=wi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function MT(r,s,l){switch(s.tag){case 3:py(s),fo();break;case 5:Dg(s);break;case 1:Zt(s.type)&&vu(s);break;case 4:df(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;Ke(Iu,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ke(nt,nt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?gy(r,s,l):(Ke(nt,nt.current&1),r=$r(r,s,l),r!==null?r.sibling:null);Ke(nt,nt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return vy(r,s,l);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ke(nt,nt.current),h)break;return null;case 22:case 23:return s.lanes=0,hy(r,s,l)}return $r(r,s,l)}var _y,Mf,wy,Ey;_y=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Mf=function(){},wy=function(r,s,l,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,is(hr.current);var y=null;switch(l){case"input":d=Li(r,d),h=Li(r,h),y=[];break;case"select":d=ee({},d,{value:void 0}),h=ee({},h,{value:void 0}),y=[];break;case"textarea":d=ta(r,d),h=ta(r,h),y=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=mu)}aa(l,h);var T;l=null;for(Q in d)if(!h.hasOwnProperty(Q)&&d.hasOwnProperty(Q)&&d[Q]!=null)if(Q==="style"){var R=d[Q];for(T in R)R.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?y||(y=[]):(y=y||[]).push(Q,null));for(Q in h){var V=h[Q];if(R=d?.[Q],h.hasOwnProperty(Q)&&V!==R&&(V!=null||R!=null))if(Q==="style")if(R){for(T in R)!R.hasOwnProperty(T)||V&&V.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in V)V.hasOwnProperty(T)&&R[T]!==V[T]&&(l||(l={}),l[T]=V[T])}else l||(y||(y=[]),y.push(Q,l)),l=V;else Q==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,R=R?R.__html:void 0,V!=null&&R!==V&&(y=y||[]).push(Q,V)):Q==="children"?typeof V!="string"&&typeof V!="number"||(y=y||[]).push(Q,""+V):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(V!=null&&Q==="onScroll"&&We("scroll",r),y||R===V||(y=[])):(y=y||[]).push(Q,V))}l&&(y=y||[]).push("style",l);var Q=y;(s.updateQueue=Q)&&(s.flags|=4)}},Ey=function(r,s,l,h){l!==h&&(s.flags|=4)};function Ua(r,s){if(!Je)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ft(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var d=r.child;d!==null;)l|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)l|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function OT(r,s,l){var h=s.pendingProps;switch(nf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return Zt(s.type)&&yu(),Ft(s),null;case 3:return h=s.stateNode,yo(),Ye(Jt),Ye(Ot),gf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Tu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qn!==null&&(Qf(Qn),Qn=null))),Mf(r,s),Ft(s),null;case 5:pf(s);var d=is(Oa.current);if(l=s.type,r!==null&&s.stateNode!=null)wy(r,s,l,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return Ft(s),null}if(r=is(hr.current),Tu(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[cr]=s,h[Na]=y,r=(s.mode&1)!==0,l){case"dialog":We("cancel",h),We("close",h);break;case"iframe":case"object":case"embed":We("load",h);break;case"video":case"audio":for(d=0;d<Ra.length;d++)We(Ra[d],h);break;case"source":We("error",h);break;case"img":case"image":case"link":We("error",h),We("load",h);break;case"details":We("toggle",h);break;case"input":Ns(h,y),We("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},We("invalid",h);break;case"textarea":bs(h,y),We("invalid",h)}aa(l,y),d=null;for(var T in y)if(y.hasOwnProperty(T)){var R=y[T];T==="children"?typeof R=="string"?h.textContent!==R&&(y.suppressHydrationWarning!==!0&&pu(h.textContent,R,r),d=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(y.suppressHydrationWarning!==!0&&pu(h.textContent,R,r),d=["children",""+R]):o.hasOwnProperty(T)&&R!=null&&T==="onScroll"&&We("scroll",h)}switch(l){case"input":Ar(h),zl(h,y,!0);break;case"textarea":Ar(h),na(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=mu)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=yt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=T.createElement(l,{is:h.is}):(r=T.createElement(l),l==="select"&&(T=r,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):r=T.createElementNS(r,l),r[cr]=s,r[Na]=h,_y(r,s,!1,!1),s.stateNode=r;e:{switch(T=la(l,h),l){case"dialog":We("cancel",r),We("close",r),d=h;break;case"iframe":case"object":case"embed":We("load",r),d=h;break;case"video":case"audio":for(d=0;d<Ra.length;d++)We(Ra[d],r);d=h;break;case"source":We("error",r),d=h;break;case"img":case"image":case"link":We("error",r),We("load",r),d=h;break;case"details":We("toggle",r),d=h;break;case"input":Ns(r,h),d=Li(r,h),We("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=ee({},h,{value:void 0}),We("invalid",r);break;case"textarea":bs(r,h),d=ta(r,h),We("invalid",r);break;default:d=h}aa(l,d),R=d;for(y in R)if(R.hasOwnProperty(y)){var V=R[y];y==="style"?sa(r,V):y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&ra(r,V)):y==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&Jr(r,V):typeof V=="number"&&Jr(r,""+V):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?V!=null&&y==="onScroll"&&We("scroll",r):V!=null&&J(r,y,V,T))}switch(l){case"input":Ar(r),zl(r,h,!1);break;case"textarea":Ar(r),na(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ne(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?Rr(r,!!h.multiple,y,!1):h.defaultValue!=null&&Rr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=mu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ft(s),null;case 6:if(r&&s.stateNode!=null)Ey(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(l=is(Oa.current),is(hr.current),Tu(s)){if(h=s.stateNode,l=s.memoizedProps,h[cr]=s,(y=h.nodeValue!==l)&&(r=pn,r!==null))switch(r.tag){case 3:pu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&pu(h.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[cr]=s,s.stateNode=h}return Ft(s),null;case 13:if(Ye(nt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Je&&mn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Ig(),fo(),s.flags|=98560,y=!1;else if(y=Tu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[cr]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ft(s),y=!1}else Qn!==null&&(Qf(Qn),Qn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(nt.current&1)!==0?Et===0&&(Et=3):Wf())),s.updateQueue!==null&&(s.flags|=4),Ft(s),null);case 4:return yo(),Mf(r,s),r===null&&Pa(s.stateNode.containerInfo),Ft(s),null;case 10:return uf(s.type._context),Ft(s),null;case 17:return Zt(s.type)&&yu(),Ft(s),null;case 19:if(Ye(nt),y=s.memoizedState,y===null)return Ft(s),null;if(h=(s.flags&128)!==0,T=y.rendering,T===null)if(h)Ua(y,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(T=Ru(r),T!==null){for(s.flags|=128,Ua(y,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,r=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,r=T.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ke(nt,nt.current&1|2),s.child}r=r.sibling}y.tail!==null&&Ge()>Eo&&(s.flags|=128,h=!0,Ua(y,!1),s.lanes=4194304)}else{if(!h)if(r=Ru(T),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ua(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Je)return Ft(s),null}else 2*Ge()-y.renderingStartTime>Eo&&l!==1073741824&&(s.flags|=128,h=!0,Ua(y,!1),s.lanes=4194304);y.isBackwards?(T.sibling=s.child,s.child=T):(l=y.last,l!==null?l.sibling=T:s.child=T,y.last=T)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Ge(),s.sibling=null,l=nt.current,Ke(nt,h?l&1|2:l&1),s):(Ft(s),null);case 22:case 23:return Kf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(gn&1073741824)!==0&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function LT(r,s){switch(nf(s),s.tag){case 1:return Zt(s.type)&&yu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return yo(),Ye(Jt),Ye(Ot),gf(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return pf(s),null;case 13:if(Ye(nt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));fo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ye(nt),null;case 4:return yo(),null;case 10:return uf(s.type._context),null;case 22:case 23:return Kf(),null;case 24:return null;default:return null}}var Lu=!1,jt=!1,FT=typeof WeakSet=="function"?WeakSet:Set,ge=null;function _o(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){st(r,s,h)}else l.current=null}function Of(r,s,l){try{l()}catch(h){st(r,s,h)}}var Ty=!1;function jT(r,s){if(Gh=oi,r=eg(),jh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var d=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,R=-1,V=-1,Q=0,se=0,oe=r,re=null;t:for(;;){for(var pe;oe!==l||d!==0&&oe.nodeType!==3||(R=T+d),oe!==y||h!==0&&oe.nodeType!==3||(V=T+h),oe.nodeType===3&&(T+=oe.nodeValue.length),(pe=oe.firstChild)!==null;)re=oe,oe=pe;for(;;){if(oe===r)break t;if(re===l&&++Q===d&&(R=T),re===y&&++se===h&&(V=T),(pe=oe.nextSibling)!==null)break;oe=re,re=oe.parentNode}oe=pe}l=R===-1||V===-1?null:{start:R,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kh={focusedElem:r,selectionRange:l},oi=!1,ge=s;ge!==null;)if(s=ge,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ge=r;else for(;ge!==null;){s=ge;try{var ve=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,at=ve.memoizedState,B=s.stateNode,F=B.getSnapshotBeforeUpdate(s.elementType===s.type?we:Gn(s.type,we),at);B.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){st(s,s.return,ue)}if(r=s.sibling,r!==null){r.return=s.return,ge=r;break}ge=s.return}return ve=Ty,Ty=!1,ve}function $a(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var y=d.destroy;d.destroy=void 0,y!==void 0&&Of(s,l,y)}d=d.next}while(d!==h)}}function Fu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Lf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Sy(r){var s=r.alternate;s!==null&&(r.alternate=null,Sy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[cr],delete s[Na],delete s[Jh],delete s[ET],delete s[TT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Iy(r){return r.tag===5||r.tag===3||r.tag===4}function xy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Iy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ff(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=mu));else if(h!==4&&(r=r.child,r!==null))for(Ff(r,s,l),r=r.sibling;r!==null;)Ff(r,s,l),r=r.sibling}function jf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(jf(r,s,l),r=r.sibling;r!==null;)jf(r,s,l),r=r.sibling}var Dt=null,Kn=!1;function mi(r,s,l){for(l=l.child;l!==null;)Ay(r,s,l),l=l.sibling}function Ay(r,s,l){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Qi,l)}catch{}switch(l.tag){case 5:jt||_o(l,s);case 6:var h=Dt,d=Kn;Dt=null,mi(r,s,l),Dt=h,Kn=d,Dt!==null&&(Kn?(r=Dt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Dt.removeChild(l.stateNode));break;case 18:Dt!==null&&(Kn?(r=Dt,l=l.stateNode,r.nodeType===8?Xh(r.parentNode,l):r.nodeType===1&&Xh(r,l),Bn(r)):Xh(Dt,l.stateNode));break;case 4:h=Dt,d=Kn,Dt=l.stateNode.containerInfo,Kn=!0,mi(r,s,l),Dt=h,Kn=d;break;case 0:case 11:case 14:case 15:if(!jt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var y=d,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&Of(l,s,T),d=d.next}while(d!==h)}mi(r,s,l);break;case 1:if(!jt&&(_o(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(R){st(l,s,R)}mi(r,s,l);break;case 21:mi(r,s,l);break;case 22:l.mode&1?(jt=(h=jt)||l.memoizedState!==null,mi(r,s,l),jt=h):mi(r,s,l);break;default:mi(r,s,l)}}function Cy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new FT),s.forEach(function(h){var d=KT.bind(null,r,h);l.has(h)||(l.add(h),h.then(d,d))})}}function Wn(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var d=l[h];try{var y=r,T=s,R=T;e:for(;R!==null;){switch(R.tag){case 5:Dt=R.stateNode,Kn=!1;break e;case 3:Dt=R.stateNode.containerInfo,Kn=!0;break e;case 4:Dt=R.stateNode.containerInfo,Kn=!0;break e}R=R.return}if(Dt===null)throw Error(n(160));Ay(y,T,d),Dt=null,Kn=!1;var V=d.alternate;V!==null&&(V.return=null),d.return=null}catch(Q){st(d,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ry(s,r),s=s.sibling}function Ry(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Wn(s,r),dr(r),h&4){try{$a(3,r,r.return),Fu(3,r)}catch(we){st(r,r.return,we)}try{$a(5,r,r.return)}catch(we){st(r,r.return,we)}}break;case 1:Wn(s,r),dr(r),h&512&&l!==null&&_o(l,l.return);break;case 5:if(Wn(s,r),dr(r),h&512&&l!==null&&_o(l,l.return),r.flags&32){var d=r.stateNode;try{Jr(d,"")}catch(we){st(r,r.return,we)}}if(h&4&&(d=r.stateNode,d!=null)){var y=r.memoizedProps,T=l!==null?l.memoizedProps:y,R=r.type,V=r.updateQueue;if(r.updateQueue=null,V!==null)try{R==="input"&&y.type==="radio"&&y.name!=null&&Zo(d,y),la(R,T);var Q=la(R,y);for(T=0;T<V.length;T+=2){var se=V[T],oe=V[T+1];se==="style"?sa(d,oe):se==="dangerouslySetInnerHTML"?ra(d,oe):se==="children"?Jr(d,oe):J(d,se,oe,Q)}switch(R){case"input":ea(d,y);break;case"textarea":Vs(d,y);break;case"select":var re=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!y.multiple;var pe=y.value;pe!=null?Rr(d,!!y.multiple,pe,!1):re!==!!y.multiple&&(y.defaultValue!=null?Rr(d,!!y.multiple,y.defaultValue,!0):Rr(d,!!y.multiple,y.multiple?[]:"",!1))}d[Na]=y}catch(we){st(r,r.return,we)}}break;case 6:if(Wn(s,r),dr(r),h&4){if(r.stateNode===null)throw Error(n(162));d=r.stateNode,y=r.memoizedProps;try{d.nodeValue=y}catch(we){st(r,r.return,we)}}break;case 3:if(Wn(s,r),dr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Bn(s.containerInfo)}catch(we){st(r,r.return,we)}break;case 4:Wn(s,r),dr(r);break;case 13:Wn(s,r),dr(r),d=r.child,d.flags&8192&&(y=d.memoizedState!==null,d.stateNode.isHidden=y,!y||d.alternate!==null&&d.alternate.memoizedState!==null||($f=Ge())),h&4&&Cy(r);break;case 22:if(se=l!==null&&l.memoizedState!==null,r.mode&1?(jt=(Q=jt)||se,Wn(s,r),jt=Q):Wn(s,r),dr(r),h&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!se&&(r.mode&1)!==0)for(ge=r,se=r.child;se!==null;){for(oe=ge=se;ge!==null;){switch(re=ge,pe=re.child,re.tag){case 0:case 11:case 14:case 15:$a(4,re,re.return);break;case 1:_o(re,re.return);var ve=re.stateNode;if(typeof ve.componentWillUnmount=="function"){h=re,l=re.return;try{s=h,ve.props=s.memoizedProps,ve.state=s.memoizedState,ve.componentWillUnmount()}catch(we){st(h,l,we)}}break;case 5:_o(re,re.return);break;case 22:if(re.memoizedState!==null){Ny(oe);continue}}pe!==null?(pe.return=re,ge=pe):Ny(oe)}se=se.sibling}e:for(se=null,oe=r;;){if(oe.tag===5){if(se===null){se=oe;try{d=oe.stateNode,Q?(y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(R=oe.stateNode,V=oe.memoizedProps.style,T=V!=null&&V.hasOwnProperty("display")?V.display:null,R.style.display=ia("display",T))}catch(we){st(r,r.return,we)}}}else if(oe.tag===6){if(se===null)try{oe.stateNode.nodeValue=Q?"":oe.memoizedProps}catch(we){st(r,r.return,we)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===r)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===r)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===r)break e;se===oe&&(se=null),oe=oe.return}se===oe&&(se=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Wn(s,r),dr(r),h&4&&Cy(r);break;case 21:break;default:Wn(s,r),dr(r)}}function dr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Iy(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(Jr(d,""),h.flags&=-33);var y=xy(r);jf(r,y,d);break;case 3:case 4:var T=h.stateNode.containerInfo,R=xy(r);Ff(r,R,T);break;default:throw Error(n(161))}}catch(V){st(r,r.return,V)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function zT(r,s,l){ge=r,Py(r)}function Py(r,s,l){for(var h=(r.mode&1)!==0;ge!==null;){var d=ge,y=d.child;if(d.tag===22&&h){var T=d.memoizedState!==null||Lu;if(!T){var R=d.alternate,V=R!==null&&R.memoizedState!==null||jt;R=Lu;var Q=jt;if(Lu=T,(jt=V)&&!Q)for(ge=d;ge!==null;)T=ge,V=T.child,T.tag===22&&T.memoizedState!==null?Dy(d):V!==null?(V.return=T,ge=V):Dy(d);for(;y!==null;)ge=y,Py(y),y=y.sibling;ge=d,Lu=R,jt=Q}ky(r)}else(d.subtreeFlags&8772)!==0&&y!==null?(y.return=d,ge=y):ky(r)}}function ky(r){for(;ge!==null;){var s=ge;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:jt||Fu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!jt)if(l===null)h.componentDidMount();else{var d=s.elementType===s.type?l.memoizedProps:Gn(s.type,l.memoizedProps);h.componentDidUpdate(d,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Ng(s,y,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Ng(s,T,l)}break;case 5:var R=s.stateNode;if(l===null&&s.flags&4){l=R;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var se=Q.memoizedState;if(se!==null){var oe=se.dehydrated;oe!==null&&Bn(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}jt||s.flags&512&&Lf(s)}catch(re){st(s,s.return,re)}}if(s===r){ge=null;break}if(l=s.sibling,l!==null){l.return=s.return,ge=l;break}ge=s.return}}function Ny(r){for(;ge!==null;){var s=ge;if(s===r){ge=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ge=l;break}ge=s.return}}function Dy(r){for(;ge!==null;){var s=ge;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Fu(4,s)}catch(V){st(s,l,V)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(V){st(s,d,V)}}var y=s.return;try{Lf(s)}catch(V){st(s,y,V)}break;case 5:var T=s.return;try{Lf(s)}catch(V){st(s,T,V)}}}catch(V){st(s,s.return,V)}if(s===r){ge=null;break}var R=s.sibling;if(R!==null){R.return=s.return,ge=R;break}ge=s.return}}var UT=Math.ceil,ju=Z.ReactCurrentDispatcher,zf=Z.ReactCurrentOwner,Pn=Z.ReactCurrentBatchConfig,je=0,Ct=null,dt=null,bt=0,gn=0,wo=ci(0),Et=0,Ba=null,os=0,zu=0,Uf=0,qa=null,tn=null,$f=0,Eo=1/0,Br=null,Uu=!1,Bf=null,gi=null,$u=!1,yi=null,Bu=0,Ha=0,qf=null,qu=-1,Hu=0;function Gt(){return(je&6)!==0?Ge():qu!==-1?qu:qu=Ge()}function vi(r){return(r.mode&1)===0?1:(je&2)!==0&&bt!==0?bt&-bt:IT.transition!==null?(Hu===0&&(Hu=Ki()),Hu):(r=be,r!==0||(r=window.event,r=r===void 0?16:_a(r.type)),r)}function Yn(r,s,l,h){if(50<Ha)throw Ha=0,qf=null,Error(n(185));ni(r,l,h),((je&2)===0||r!==Ct)&&(r===Ct&&((je&2)===0&&(zu|=l),Et===4&&_i(r,bt)),nn(r,h),l===1&&je===0&&(s.mode&1)===0&&(Eo=Ge()+500,_u&&fi()))}function nn(r,s){var l=r.callbackNode;Nr(r,s);var h=Gi(r,r===Ct?bt:0);if(h===0)l!==null&&pa(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&pa(l),s===1)r.tag===0?ST(Vy.bind(null,r)):_g(Vy.bind(null,r)),_T(function(){(je&6)===0&&fi()}),l=null;else{switch(ii(h)){case 1:l=Hi;break;case 4:l=Zr;break;case 16:l=Tn;break;case 536870912:l=Hl;break;default:l=Tn}l=$y(l,by.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function by(r,s){if(qu=-1,Hu=0,(je&6)!==0)throw Error(n(327));var l=r.callbackNode;if(To()&&r.callbackNode!==l)return null;var h=Gi(r,r===Ct?bt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=Qu(r,h);else{s=h;var d=je;je|=2;var y=Oy();(Ct!==r||bt!==s)&&(Br=null,Eo=Ge()+500,ls(r,s));do try{qT();break}catch(R){My(r,R)}while(!0);lf(),ju.current=y,je=d,dt!==null?s=0:(Ct=null,bt=0,s=Et)}if(s!==0){if(s===2&&(d=hn(r),d!==0&&(h=d,s=Hf(r,d))),s===1)throw l=Ba,ls(r,0),_i(r,h),nn(r,Ge()),l;if(s===6)_i(r,h);else{if(d=r.current.alternate,(h&30)===0&&!$T(d)&&(s=Qu(r,h),s===2&&(y=hn(r),y!==0&&(h=y,s=Hf(r,y))),s===1))throw l=Ba,ls(r,0),_i(r,h),nn(r,Ge()),l;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:us(r,tn,Br);break;case 3:if(_i(r,h),(h&130023424)===h&&(s=$f+500-Ge(),10<s)){if(Gi(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){Gt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=Yh(us.bind(null,r,tn,Br),s);break}us(r,tn,Br);break;case 4:if(_i(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var T=31-qt(h);y=1<<T,T=s[T],T>d&&(d=T),h&=~y}if(h=d,h=Ge()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*UT(h/1960))-h,10<h){r.timeoutHandle=Yh(us.bind(null,r,tn,Br),h);break}us(r,tn,Br);break;case 5:us(r,tn,Br);break;default:throw Error(n(329))}}}return nn(r,Ge()),r.callbackNode===l?by.bind(null,r):null}function Hf(r,s){var l=qa;return r.current.memoizedState.isDehydrated&&(ls(r,s).flags|=256),r=Qu(r,s),r!==2&&(s=tn,tn=l,s!==null&&Qf(s)),r}function Qf(r){tn===null?tn=r:tn.push.apply(tn,r)}function $T(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var d=l[h],y=d.getSnapshot;d=d.value;try{if(!Hn(y(),d))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _i(r,s){for(s&=~Uf,s&=~zu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-qt(s),h=1<<l;r[l]=-1,s&=~h}}function Vy(r){if((je&6)!==0)throw Error(n(327));To();var s=Gi(r,0);if((s&1)===0)return nn(r,Ge()),null;var l=Qu(r,s);if(r.tag!==0&&l===2){var h=hn(r);h!==0&&(s=h,l=Hf(r,h))}if(l===1)throw l=Ba,ls(r,0),_i(r,s),nn(r,Ge()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,us(r,tn,Br),nn(r,Ge()),null}function Gf(r,s){var l=je;je|=1;try{return r(s)}finally{je=l,je===0&&(Eo=Ge()+500,_u&&fi())}}function as(r){yi!==null&&yi.tag===0&&(je&6)===0&&To();var s=je;je|=1;var l=Pn.transition,h=be;try{if(Pn.transition=null,be=1,r)return r()}finally{be=h,Pn.transition=l,je=s,(je&6)===0&&fi()}}function Kf(){gn=wo.current,Ye(wo)}function ls(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,vT(l)),dt!==null)for(l=dt.return;l!==null;){var h=l;switch(nf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&yu();break;case 3:yo(),Ye(Jt),Ye(Ot),gf();break;case 5:pf(h);break;case 4:yo();break;case 13:Ye(nt);break;case 19:Ye(nt);break;case 10:uf(h.type._context);break;case 22:case 23:Kf()}l=l.return}if(Ct=r,dt=r=wi(r.current,null),bt=gn=s,Et=0,Ba=null,Uf=zu=os=0,tn=qa=null,rs!==null){for(s=0;s<rs.length;s++)if(l=rs[s],h=l.interleaved,h!==null){l.interleaved=null;var d=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=d,h.next=T}l.pending=h}rs=null}return r}function My(r,s){do{var l=dt;try{if(lf(),Pu.current=bu,ku){for(var h=rt.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}ku=!1}if(ss=0,At=wt=rt=null,La=!1,Fa=0,zf.current=null,l===null||l.return===null){Et=1,Ba=s,dt=null;break}e:{var y=r,T=l.return,R=l,V=s;if(s=bt,R.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var Q=V,se=R,oe=se.tag;if((se.mode&1)===0&&(oe===0||oe===11||oe===15)){var re=se.alternate;re?(se.updateQueue=re.updateQueue,se.memoizedState=re.memoizedState,se.lanes=re.lanes):(se.updateQueue=null,se.memoizedState=null)}var pe=oy(T);if(pe!==null){pe.flags&=-257,ay(pe,T,R,y,s),pe.mode&1&&sy(y,Q,s),s=pe,V=Q;var ve=s.updateQueue;if(ve===null){var we=new Set;we.add(V),s.updateQueue=we}else ve.add(V);break e}else{if((s&1)===0){sy(y,Q,s),Wf();break e}V=Error(n(426))}}else if(Je&&R.mode&1){var at=oy(T);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),ay(at,T,R,y,s),of(vo(V,R));break e}}y=V=vo(V,R),Et!==4&&(Et=2),qa===null?qa=[y]:qa.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var B=ry(y,V,s);kg(y,B);break e;case 1:R=V;var F=y.type,q=y.stateNode;if((y.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(gi===null||!gi.has(q)))){y.flags|=65536,s&=-s,y.lanes|=s;var ue=iy(y,R,s);kg(y,ue);break e}}y=y.return}while(y!==null)}Fy(l)}catch(Ee){s=Ee,dt===l&&l!==null&&(dt=l=l.return);continue}break}while(!0)}function Oy(){var r=ju.current;return ju.current=bu,r===null?bu:r}function Wf(){(Et===0||Et===3||Et===2)&&(Et=4),Ct===null||(os&268435455)===0&&(zu&268435455)===0||_i(Ct,bt)}function Qu(r,s){var l=je;je|=2;var h=Oy();(Ct!==r||bt!==s)&&(Br=null,ls(r,s));do try{BT();break}catch(d){My(r,d)}while(!0);if(lf(),je=l,ju.current=h,dt!==null)throw Error(n(261));return Ct=null,bt=0,Et}function BT(){for(;dt!==null;)Ly(dt)}function qT(){for(;dt!==null&&!Bl();)Ly(dt)}function Ly(r){var s=Uy(r.alternate,r,gn);r.memoizedProps=r.pendingProps,s===null?Fy(r):dt=s,zf.current=null}function Fy(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=OT(l,s,gn),l!==null){dt=l;return}}else{if(l=LT(l,s),l!==null){l.flags&=32767,dt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,dt=null;return}}if(s=s.sibling,s!==null){dt=s;return}dt=s=r}while(s!==null);Et===0&&(Et=5)}function us(r,s,l){var h=be,d=Pn.transition;try{Pn.transition=null,be=1,HT(r,s,l,h)}finally{Pn.transition=d,be=h}return null}function HT(r,s,l,h){do To();while(yi!==null);if((je&6)!==0)throw Error(n(327));l=r.finishedWork;var d=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(He(r,y),r===Ct&&(dt=Ct=null,bt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||$u||($u=!0,$y(Tn,function(){return To(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Pn.transition,Pn.transition=null;var T=be;be=1;var R=je;je|=4,zf.current=null,jT(r,l),Ry(l,r),hT(Kh),oi=!!Gh,Kh=Gh=null,r.current=l,zT(l),Nh(),je=R,be=T,Pn.transition=y}else r.current=l;if($u&&($u=!1,yi=r,Bu=d),y=r.pendingLanes,y===0&&(gi=null),Ql(l.stateNode),nn(r,Ge()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)d=s[l],h(d.value,{componentStack:d.stack,digest:d.digest});if(Uu)throw Uu=!1,r=Bf,Bf=null,r;return(Bu&1)!==0&&r.tag!==0&&To(),y=r.pendingLanes,(y&1)!==0?r===qf?Ha++:(Ha=0,qf=r):Ha=0,fi(),null}function To(){if(yi!==null){var r=ii(Bu),s=Pn.transition,l=be;try{if(Pn.transition=null,be=16>r?16:r,yi===null)var h=!1;else{if(r=yi,yi=null,Bu=0,(je&6)!==0)throw Error(n(331));var d=je;for(je|=4,ge=r.current;ge!==null;){var y=ge,T=y.child;if((ge.flags&16)!==0){var R=y.deletions;if(R!==null){for(var V=0;V<R.length;V++){var Q=R[V];for(ge=Q;ge!==null;){var se=ge;switch(se.tag){case 0:case 11:case 15:$a(8,se,y)}var oe=se.child;if(oe!==null)oe.return=se,ge=oe;else for(;ge!==null;){se=ge;var re=se.sibling,pe=se.return;if(Sy(se),se===Q){ge=null;break}if(re!==null){re.return=pe,ge=re;break}ge=pe}}}var ve=y.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var at=we.sibling;we.sibling=null,we=at}while(we!==null)}}ge=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,ge=T;else e:for(;ge!==null;){if(y=ge,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:$a(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,ge=B;break e}ge=y.return}}var F=r.current;for(ge=F;ge!==null;){T=ge;var q=T.child;if((T.subtreeFlags&2064)!==0&&q!==null)q.return=T,ge=q;else e:for(T=F;ge!==null;){if(R=ge,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Fu(9,R)}}catch(Ee){st(R,R.return,Ee)}if(R===T){ge=null;break e}var ue=R.sibling;if(ue!==null){ue.return=R.return,ge=ue;break e}ge=R.return}}if(je=d,fi(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Qi,r)}catch{}h=!0}return h}finally{be=l,Pn.transition=s}}return!1}function jy(r,s,l){s=vo(l,s),s=ry(r,s,1),r=pi(r,s,1),s=Gt(),r!==null&&(ni(r,1,s),nn(r,s))}function st(r,s,l){if(r.tag===3)jy(r,r,l);else for(;s!==null;){if(s.tag===3){jy(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(gi===null||!gi.has(h))){r=vo(l,r),r=iy(s,r,1),s=pi(s,r,1),r=Gt(),s!==null&&(ni(s,1,r),nn(s,r));break}}s=s.return}}function QT(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=Gt(),r.pingedLanes|=r.suspendedLanes&l,Ct===r&&(bt&l)===l&&(Et===4||Et===3&&(bt&130023424)===bt&&500>Ge()-$f?ls(r,0):Uf|=l),nn(r,s)}function zy(r,s){s===0&&((r.mode&1)===0?s=1:(s=qs,qs<<=1,(qs&130023424)===0&&(qs=4194304)));var l=Gt();r=zr(r,s),r!==null&&(ni(r,s,l),nn(r,l))}function GT(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),zy(r,l)}function KT(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(l=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),zy(r,l)}var Uy;Uy=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Jt.current)en=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return en=!1,MT(r,s,l);en=(r.flags&131072)!==0}else en=!1,Je&&(s.flags&1048576)!==0&&wg(s,Eu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Ou(r,s),r=s.pendingProps;var d=uo(s,Ot.current);go(s,l),d=_f(null,s,h,r,d,l);var y=wf();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zt(h)?(y=!0,vu(s)):y=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ff(s),d.updater=Vu,s.stateNode=d,d._reactInternals=s,Af(s,h,r,l),s=kf(null,s,h,!0,y,l)):(s.tag=0,Je&&y&&tf(s),Qt(null,s,d,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Ou(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=YT(h),r=Gn(h,r),d){case 0:s=Pf(null,s,h,r,l);break e;case 1:s=dy(null,s,h,r,l);break e;case 11:s=ly(null,s,h,r,l);break e;case 14:s=uy(null,s,h,Gn(h.type,r),l);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Gn(h,d),Pf(r,s,h,d,l);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Gn(h,d),dy(r,s,h,d,l);case 3:e:{if(py(s),r===null)throw Error(n(387));h=s.pendingProps,y=s.memoizedState,d=y.element,Pg(r,s),Cu(s,h,null,l);var T=s.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){d=vo(Error(n(423)),s),s=my(r,s,h,l,d);break e}else if(h!==d){d=vo(Error(n(424)),s),s=my(r,s,h,l,d);break e}else for(mn=ui(s.stateNode.containerInfo.firstChild),pn=s,Je=!0,Qn=null,l=Cg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(fo(),h===d){s=$r(r,s,l);break e}Qt(r,s,h,l)}s=s.child}return s;case 5:return Dg(s),r===null&&sf(s),h=s.type,d=s.pendingProps,y=r!==null?r.memoizedProps:null,T=d.children,Wh(h,d)?T=null:y!==null&&Wh(h,y)&&(s.flags|=32),fy(r,s),Qt(r,s,T,l),s.child;case 6:return r===null&&sf(s),null;case 13:return gy(r,s,l);case 4:return df(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=po(s,null,h,l):Qt(r,s,h,l),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Gn(h,d),ly(r,s,h,d,l);case 7:return Qt(r,s,s.pendingProps,l),s.child;case 8:return Qt(r,s,s.pendingProps.children,l),s.child;case 12:return Qt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,y=s.memoizedProps,T=d.value,Ke(Iu,h._currentValue),h._currentValue=T,y!==null)if(Hn(y.value,T)){if(y.children===d.children&&!Jt.current){s=$r(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var R=y.dependencies;if(R!==null){T=y.child;for(var V=R.firstContext;V!==null;){if(V.context===h){if(y.tag===1){V=Ur(-1,l&-l),V.tag=2;var Q=y.updateQueue;if(Q!==null){Q=Q.shared;var se=Q.pending;se===null?V.next=V:(V.next=se.next,se.next=V),Q.pending=V}}y.lanes|=l,V=y.alternate,V!==null&&(V.lanes|=l),cf(y.return,l,s),R.lanes|=l;break}V=V.next}}else if(y.tag===10)T=y.type===s.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(n(341));T.lanes|=l,R=T.alternate,R!==null&&(R.lanes|=l),cf(T,l,s),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===s){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Qt(r,s,d.children,l),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,go(s,l),d=Cn(d),h=h(d),s.flags|=1,Qt(r,s,h,l),s.child;case 14:return h=s.type,d=Gn(h,s.pendingProps),d=Gn(h.type,d),uy(r,s,h,d,l);case 15:return cy(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Gn(h,d),Ou(r,s),s.tag=1,Zt(h)?(r=!0,vu(s)):r=!1,go(s,l),ty(s,h,d),Af(s,h,d,l),kf(null,s,h,!0,r,l);case 19:return vy(r,s,l);case 22:return hy(r,s,l)}throw Error(n(156,s.tag))};function $y(r,s){return $s(r,s)}function WT(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(r,s,l,h){return new WT(r,s,l,h)}function Yf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function YT(r){if(typeof r=="function")return Yf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===U)return 14}return 2}function wi(r,s){var l=r.alternate;return l===null?(l=kn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Gu(r,s,l,h,d,y){var T=2;if(h=r,typeof r=="function")Yf(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case D:return cs(l.children,d,y,s);case x:T=8,d|=8;break;case A:return r=kn(12,l,s,d|2),r.elementType=A,r.lanes=y,r;case C:return r=kn(13,l,s,d),r.elementType=C,r.lanes=y,r;case z:return r=kn(19,l,s,d),r.elementType=z,r.lanes=y,r;case ie:return Ku(l,d,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case b:T=10;break e;case N:T=9;break e;case j:T=11;break e;case U:T=14;break e;case G:T=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=kn(T,l,s,d),s.elementType=r,s.type=h,s.lanes=y,s}function cs(r,s,l,h){return r=kn(7,r,h,s),r.lanes=l,r}function Ku(r,s,l,h){return r=kn(22,r,h,s),r.elementType=ie,r.lanes=l,r.stateNode={isHidden:!1},r}function Xf(r,s,l){return r=kn(6,r,null,s),r.lanes=l,r}function Jf(r,s,l){return s=kn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function XT(r,s,l,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ti(0),this.expirationTimes=ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Zf(r,s,l,h,d,y,T,R,V){return r=new XT(r,s,l,R,V),s===1?(s=1,y===!0&&(s|=8)):s=0,y=kn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ff(y),r}function JT(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function By(r){if(!r)return hi;r=r._reactInternals;e:{if(Fn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(Zt(l))return yg(r,l,s)}return s}function qy(r,s,l,h,d,y,T,R,V){return r=Zf(l,h,!0,r,d,y,T,R,V),r.context=By(null),l=r.current,h=Gt(),d=vi(l),y=Ur(h,d),y.callback=s??null,pi(l,y,d),r.current.lanes=d,ni(r,d,h),nn(r,h),r}function Wu(r,s,l,h){var d=s.current,y=Gt(),T=vi(d);return l=By(l),s.context===null?s.context=l:s.pendingContext=l,s=Ur(y,T),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=pi(d,s,T),r!==null&&(Yn(r,d,T,y),Au(r,d,T)),T}function Yu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Hy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function ed(r,s){Hy(r,s),(r=r.alternate)&&Hy(r,s)}function ZT(){return null}var Qy=typeof reportError=="function"?reportError:function(r){console.error(r)};function td(r){this._internalRoot=r}Xu.prototype.render=td.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Wu(r,s,null,null)},Xu.prototype.unmount=td.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;as(function(){Wu(null,r,null,null)}),s[Or]=null}};function Xu(r){this._internalRoot=r}Xu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Xl();r={blockedOn:null,target:r,priority:s};for(var l=0;l<or.length&&s!==0&&s<or[l].priority;l++);or.splice(l,0,r),l===0&&eu(r)}};function nd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ju(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Gy(){}function eS(r,s,l,h,d){if(d){if(typeof h=="function"){var y=h;h=function(){var Q=Yu(T);y.call(Q)}}var T=qy(s,h,r,0,null,!1,!1,"",Gy);return r._reactRootContainer=T,r[Or]=T.current,Pa(r.nodeType===8?r.parentNode:r),as(),T}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var R=h;h=function(){var Q=Yu(V);R.call(Q)}}var V=Zf(r,0,!1,null,null,!1,!1,"",Gy);return r._reactRootContainer=V,r[Or]=V.current,Pa(r.nodeType===8?r.parentNode:r),as(function(){Wu(s,V,l,h)}),V}function Zu(r,s,l,h,d){var y=l._reactRootContainer;if(y){var T=y;if(typeof d=="function"){var R=d;d=function(){var V=Yu(T);R.call(V)}}Wu(s,T,r,d)}else T=eS(l,s,r,d,h);return Yu(T)}Wl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ei(s.pendingLanes);l!==0&&(ri(s,l|1),nn(s,Ge()),(je&6)===0&&(Eo=Ge()+500,fi()))}break;case 13:as(function(){var h=zr(r,1);if(h!==null){var d=Gt();Yn(h,r,1,d)}}),ed(r,1)}},Hs=function(r){if(r.tag===13){var s=zr(r,134217728);if(s!==null){var l=Gt();Yn(s,r,134217728,l)}ed(r,134217728)}},Yl=function(r){if(r.tag===13){var s=vi(r),l=zr(r,s);if(l!==null){var h=Gt();Yn(l,r,s,h)}ed(r,s)}},Xl=function(){return be},Jl=function(r,s){var l=be;try{return be=r,s()}finally{be=l}},Os=function(r,s,l){switch(s){case"input":if(ea(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var d=gu(h);if(!d)throw Error(n(90));ks(h),ea(h,d)}}}break;case"textarea":Vs(r,l);break;case"select":s=l.value,s!=null&&Rr(r,!!l.multiple,s,!1)}},Ui=Gf,ca=as;var tS={usingClientEntryPoint:!1,Events:[Da,ao,gu,ir,ua,Gf]},Qa={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nS={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=da(r),r===null?null:r.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||ZT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{Qi=ec.inject(nS),cn=ec}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tS,rn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nd(s))throw Error(n(200));return JT(r,s,null,l)},rn.createRoot=function(r,s){if(!nd(r))throw Error(n(299));var l=!1,h="",d=Qy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=Zf(r,1,!1,null,null,l,!1,h,d),r[Or]=s.current,Pa(r.nodeType===8?r.parentNode:r),new td(s)},rn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=da(s),r=r===null?null:r.stateNode,r},rn.flushSync=function(r){return as(r)},rn.hydrate=function(r,s,l){if(!Ju(s))throw Error(n(200));return Zu(null,r,s,!0,l)},rn.hydrateRoot=function(r,s,l){if(!nd(r))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,d=!1,y="",T=Qy;if(l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=qy(s,null,r,1,l??null,d,!1,y,T),r[Or]=s.current,Pa(r),h)for(r=0;r<h.length;r++)l=h[r],d=l._getVersion,d=d(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,d]:s.mutableSourceEagerHydrationData.push(l,d);return new Xu(s)},rn.render=function(r,s,l){if(!Ju(s))throw Error(n(200));return Zu(null,r,s,!1,l)},rn.unmountComponentAtNode=function(r){if(!Ju(r))throw Error(n(40));return r._reactRootContainer?(as(function(){Zu(null,null,r,!1,function(){r._reactRootContainer=null,r[Or]=null})}),!0):!1},rn.unstable_batchedUpdates=Gf,rn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!Ju(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Zu(r,s,l,!1,h)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var t0;function k_(){if(t0)return sd.exports;t0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sd.exports=hS(),sd.exports}var n0;function fS(){if(n0)return tc;n0=1;var t=k_();return tc.createRoot=t.createRoot,tc.hydrateRoot=t.hydrateRoot,tc}var dS=fS(),ih=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sh=typeof window>"u"||"Deno"in globalThis;function Xn(){}function pS(t,e){return typeof t=="function"?t(e):t}function mS(t){return typeof t=="number"&&t>=0&&t!==1/0}function gS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Nd(t,e){return typeof t=="function"?t(e):t}function yS(t,e){return typeof t=="function"?t(e):t}function r0(t,e){const{type:n="all",exact:i,fetchStatus:o,predicate:a,queryKey:c,stale:f}=t;if(c){if(i){if(e.queryHash!==Lp(c,e.options))return!1}else if(!pl(e.queryKey,c))return!1}if(n!=="all"){const p=e.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||o&&o!==e.state.fetchStatus||a&&!a(e))}function i0(t,e){const{exact:n,status:i,predicate:o,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(dl(e.options.mutationKey)!==dl(a))return!1}else if(!pl(e.options.mutationKey,a))return!1}return!(i&&e.state.status!==i||o&&!o(e))}function Lp(t,e){return(e?.queryKeyHashFn||dl)(t)}function dl(t){return JSON.stringify(t,(e,n)=>Dd(n)?Object.keys(n).sort().reduce((i,o)=>(i[o]=n[o],i),{}):n)}function pl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>pl(t[n],e[n])):!1}function N_(t,e){if(t===e)return t;const n=s0(t)&&s0(e);if(n||Dd(t)&&Dd(e)){const i=n?t:Object.keys(t),o=i.length,a=n?e:Object.keys(e),c=a.length,f=n?[]:{},p=new Set(i);let m=0;for(let v=0;v<c;v++){const w=n?v:a[v];(!n&&p.has(w)||n)&&t[w]===void 0&&e[w]===void 0?(f[w]=void 0,m++):(f[w]=N_(t[w],e[w]),f[w]===t[w]&&t[w]!==void 0&&m++)}return o===c&&m===o?t:f}return e}function s0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Dd(t){if(!o0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!o0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function o0(t){return Object.prototype.toString.call(t)==="[object Object]"}function vS(t){return new Promise(e=>{setTimeout(e,t)})}function _S(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?N_(t,e):e}function wS(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function ES(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var Fp=Symbol();function D_(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Fp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var TS=class extends ih{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!sh&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},b_=new TS,SS=class extends ih{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!sh&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Pc=new SS;function IS(){let t,e;const n=new Promise((o,a)=>{t=o,e=a});n.status="pending",n.catch(()=>{});function i(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{i({status:"fulfilled",value:o}),t(o)},n.reject=o=>{i({status:"rejected",reason:o}),e(o)},n}function xS(t){return Math.min(1e3*2**t,3e4)}function V_(t){return(t??"online")==="online"?Pc.isOnline():!0}var M_=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function ld(t){return t instanceof M_}function O_(t){let e=!1,n=0,i=!1,o;const a=IS(),c=L=>{i||(E(new M_(L)),t.abort?.())},f=()=>{e=!0},p=()=>{e=!1},m=()=>b_.isFocused()&&(t.networkMode==="always"||Pc.isOnline())&&t.canRun(),v=()=>V_(t.networkMode)&&t.canRun(),w=L=>{i||(i=!0,t.onSuccess?.(L),o?.(),a.resolve(L))},E=L=>{i||(i=!0,t.onError?.(L),o?.(),a.reject(L))},I=()=>new Promise(L=>{o=k=>{(i||m())&&L(k)},t.onPause?.()}).then(()=>{o=void 0,i||t.onContinue?.()}),P=()=>{if(i)return;let L;const k=n===0?t.initialPromise:void 0;try{L=k??t.fn()}catch(H){L=Promise.reject(H)}Promise.resolve(L).then(w).catch(H=>{if(i)return;const X=t.retry??(sh?0:3),J=t.retryDelay??xS,Z=typeof J=="function"?J(n,H):J,le=X===!0||typeof X=="number"&&n<X||typeof X=="function"&&X(n,H);if(e||!le){E(H);return}n++,t.onFail?.(n,H),vS(Z).then(()=>m()?void 0:I()).then(()=>{e?E(H):P()})})};return{promise:a,cancel:c,continue:()=>(o?.(),a),cancelRetry:f,continueRetry:p,canStart:v,start:()=>(v()?P():I().then(P),a)}}var AS=t=>setTimeout(t,0);function CS(){let t=[],e=0,n=f=>{f()},i=f=>{f()},o=AS;const a=f=>{e?t.push(f):o(()=>{n(f)})},c=()=>{const f=t;t=[],f.length&&o(()=>{i(()=>{f.forEach(p=>{n(p)})})})};return{batch:f=>{let p;e++;try{p=f()}finally{e--,e||c()}return p},batchCalls:f=>(...p)=>{a(()=>{f(...p)})},schedule:a,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{o=f}}}var Kt=CS(),L_=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mS(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(sh?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},RS=class extends L_{#e;#t;#n;#i;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=kS(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const i=_S(this.state.data,e,this.options);return this.#s({data:i,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),i}setState(e,n){this.#s({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>yS(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Nd(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!gS(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(v=>v.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,o=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#a=!0,i.signal)})},a=()=>{const m=D_(this.options,n),w=(()=>{const E={client:this.#i,queryKey:this.queryKey,meta:this.meta};return o(E),E})();return this.#a=!1,this.options.persister?this.options.persister(m,w,this):m(w)},f=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:a};return o(m),m})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#s({type:"fetch",meta:f.fetchOptions?.meta});const p=m=>{ld(m)&&m.silent||this.#s({type:"error",error:m}),ld(m)||(this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this)),this.scheduleGc()};return this.#r=O_({initialPromise:n?.initialPromise,fn:f.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{if(m===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){p(v);return}this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),this.scheduleGc()},onError:p,onFail:(m,v)=>{this.#s({type:"failed",failureCount:m,error:v})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...PS(i.data,this.options),fetchMeta:e.meta??null};case"success":return this.#t=void 0,{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return ld(o)&&o.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),Kt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function PS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:V_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function kS(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var NS=class extends ih{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const i=e.queryKey,o=e.queryHash??Lp(i,e);let a=this.get(o);return a||(a=new RS({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>r0(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>r0(t,n)):e}notify(t){Kt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},DS=class extends L_{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||bS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#i({type:"continue"})};this.#n=O_({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,c)=>{this.#i({type:"failed",failureCount:a,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const i=this.state.status==="pending",o=!this.#n.canStart();try{if(i)n();else{this.#i({type:"pending",variables:e,isPaused:o}),await this.#t.config.onMutate?.(e,this);const c=await this.options.onMutate?.(e);c!==this.state.context&&this.#i({type:"pending",context:c,variables:e,isPaused:o})}const a=await this.#n.start();return await this.#t.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#i({type:"success",data:a}),a}catch(a){try{throw await this.#t.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#t.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#i({type:"error",error:a})}}finally{this.#t.runNext(this)}}#i(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Kt.batch(()=>{this.#e.forEach(i=>{i.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function bS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var VS=class extends ih{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const i=new DS({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#e.add(t);const e=nc(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=nc(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=nc(t);if(typeof e=="string"){const i=this.#t.get(e)?.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=nc(t);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Kt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>i0(e,n))}findAll(t={}){return this.getAll().filter(e=>i0(t,e))}notify(t){Kt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Kt.batch(()=>Promise.all(t.map(e=>e.continue().catch(Xn))))}};function nc(t){return t.options.scope?.id}function a0(t){return{onFetch:(e,n)=>{const i=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let f={pages:[],pageParams:[]},p=0;const m=async()=>{let v=!1;const w=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},E=D_(e.options,e.fetchOptions),I=async(P,L,k)=>{if(v)return Promise.reject();if(L==null&&P.pages.length)return Promise.resolve(P);const X=(()=>{const ce={client:e.client,queryKey:e.queryKey,pageParam:L,direction:k?"backward":"forward",meta:e.options.meta};return w(ce),ce})(),J=await E(X),{maxPages:Z}=e.options,le=k?ES:wS;return{pages:le(P.pages,J,Z),pageParams:le(P.pageParams,L,Z)}};if(o&&a.length){const P=o==="backward",L=P?MS:l0,k={pages:a,pageParams:c},H=L(i,k);f=await I(k,H,P)}else{const P=t??a.length;do{const L=p===0?c[0]??i.initialPageParam:l0(i,f);if(p>0&&L==null)break;f=await I(f,L),p++}while(p<P)}return f};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=m}}}function l0(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function MS(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var OS=class{#e;#t;#n;#i;#r;#o;#a;#s;constructor(t={}){this.#e=t.queryCache||new NS,this.#t=t.mutationCache||new VS,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=b_.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Pc.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Nd(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(i.queryHash)?.state.data,c=pS(e,a);if(c!==void 0)return this.#e.build(this,i).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return Kt.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Kt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Kt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=Kt.batch(()=>this.#e.findAll(t).map(o=>o.cancel(n)));return Promise.all(i).then(Xn).catch(Xn)}invalidateQueries(t,e={}){return Kt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=Kt.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,n);return n.throwOnError||(a=a.catch(Xn)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(i).then(Xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Nd(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xn).catch(Xn)}fetchInfiniteQuery(t){return t.behavior=a0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xn).catch(Xn)}ensureInfiniteQueryData(t){return t.behavior=a0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Pc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(dl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{pl(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(dl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{pl(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Lp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Fp&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},fe=Op();const LS=sS(fe),FS=iS({__proto__:null,default:LS},[fe]);var jS=fe.createContext(void 0),zS=({client:t,children:e})=>(fe.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),M.jsx(jS.Provider,{value:t,children:e}));k_();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kc.apply(this,arguments)}var Si;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Si||(Si={}));const u0="popstate";function US(t){t===void 0&&(t={});function e(i,o){let{pathname:a,search:c,hash:f}=i.location;return bd("",{pathname:a,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:j_(o)}return BS(e,n,null,t)}function un(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function F_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $S(){return Math.random().toString(36).substr(2,8)}function c0(t,e){return{usr:t.state,key:t.key,idx:e}}function bd(t,e,n,i){return n===void 0&&(n=null),kc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oh(e):e,{state:n,key:e&&e.key||i||$S()})}function j_(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function oh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function BS(t,e,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,f=Si.Pop,p=null,m=v();m==null&&(m=0,c.replaceState(kc({},c.state,{idx:m}),""));function v(){return(c.state||{idx:null}).idx}function w(){f=Si.Pop;let k=v(),H=k==null?null:k-m;m=k,p&&p({action:f,location:L.location,delta:H})}function E(k,H){f=Si.Push;let X=bd(L.location,k,H);m=v()+1;let J=c0(X,m),Z=L.createHref(X);try{c.pushState(J,"",Z)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(Z)}a&&p&&p({action:f,location:L.location,delta:1})}function I(k,H){f=Si.Replace;let X=bd(L.location,k,H);m=v();let J=c0(X,m),Z=L.createHref(X);c.replaceState(J,"",Z),a&&p&&p({action:f,location:L.location,delta:0})}function P(k){let H=o.location.origin!=="null"?o.location.origin:o.location.href,X=typeof k=="string"?k:j_(k);return X=X.replace(/ $/,"%20"),un(H,"No window.location.(origin|href) available to create URL for href: "+X),new URL(X,H)}let L={get action(){return f},get location(){return t(o,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(u0,w),p=k,()=>{o.removeEventListener(u0,w),p=null}},createHref(k){return e(o,k)},createURL:P,encodeLocation(k){let H=P(k);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:E,replace:I,go(k){return c.go(k)}};return L}var h0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(h0||(h0={}));function qS(t,e,n){return n===void 0&&(n="/"),HS(t,e,n)}function HS(t,e,n,i){let o=typeof e=="string"?oh(e):e,a=$_(o.pathname||"/",n);if(a==null)return null;let c=z_(t);QS(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=iI(a);f=tI(c[p],m)}return f}function z_(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(a,c,f)=>{let p={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(un(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let m=ko([i,p.relativePath]),v=n.concat(p);a.children&&a.children.length>0&&(un(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),z_(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:ZS(m,a.index),routesMeta:v})};return t.forEach((a,c)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,c);else for(let p of U_(a.path))o(a,c,p)}),e}function U_(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=U_(i.join("/")),f=[];return f.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&f.push(...c),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function QS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const GS=/^:[\w-]+$/,KS=3,WS=2,YS=1,XS=10,JS=-2,f0=t=>t==="*";function ZS(t,e){let n=t.split("/"),i=n.length;return n.some(f0)&&(i+=JS),e&&(i+=WS),n.filter(o=>!f0(o)).reduce((o,a)=>o+(GS.test(a)?KS:a===""?YS:XS),i)}function eI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function tI(t,e,n){let{routesMeta:i}=t,o={},a="/",c=[];for(let f=0;f<i.length;++f){let p=i[f],m=f===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=nI({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),E=p.route;if(!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:ko([a,w.pathname]),pathnameBase:sI(ko([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=ko([a,w.pathnameBase]))}return c}function nI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=rI(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((m,v,w)=>{let{paramName:E,isOptional:I}=v;if(E==="*"){let L=f[w]||"";c=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const P=f[w];return I&&!P?m[E]=void 0:m[E]=(P||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:t}}function rI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),F_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function iI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return F_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const ko=t=>t.join("/").replace(/\/\/+/g,"/"),sI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function oI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const B_=["post","put","patch","delete"];new Set(B_);const aI=["get",...B_];new Set(aI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Nc.apply(this,arguments)}const lI=fe.createContext(null),uI=fe.createContext(null),q_=fe.createContext(null),ah=fe.createContext(null),lh=fe.createContext({outlet:null,matches:[],isDataRoute:!1}),H_=fe.createContext(null);function jp(){return fe.useContext(ah)!=null}function Q_(){return jp()||un(!1),fe.useContext(ah).location}function cI(t,e){return hI(t,e)}function hI(t,e,n,i){jp()||un(!1);let{navigator:o}=fe.useContext(q_),{matches:a}=fe.useContext(lh),c=a[a.length-1],f=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let m=Q_(),v;if(e){var w;let k=typeof e=="string"?oh(e):e;p==="/"||(w=k.pathname)!=null&&w.startsWith(p)||un(!1),v=k}else v=m;let E=v.pathname||"/",I=E;if(p!=="/"){let k=p.replace(/^\//,"").split("/");I="/"+E.replace(/^\//,"").split("/").slice(k.length).join("/")}let P=qS(t,{pathname:I}),L=gI(P&&P.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:ko([p,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:ko([p,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,i);return e&&L?fe.createElement(ah.Provider,{value:{location:Nc({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Si.Pop}},L):L}function fI(){let t=wI(),e=oI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return fe.createElement(fe.Fragment,null,fe.createElement("h2",null,"Unexpected Application Error!"),fe.createElement("h3",{style:{fontStyle:"italic"}},e),n?fe.createElement("pre",{style:o},n):null,null)}const dI=fe.createElement(fI,null);class pI extends fe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?fe.createElement(lh.Provider,{value:this.props.routeContext},fe.createElement(H_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mI(t){let{routeContext:e,match:n,children:i}=t,o=fe.useContext(lI);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),fe.createElement(lh.Provider,{value:e},i)}function gI(t,e,n,i){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,f=(o=n)==null?void 0:o.errors;if(f!=null){let v=c.findIndex(w=>w.route.id&&f?.[w.route.id]!==void 0);v>=0||un(!1),c=c.slice(0,Math.min(c.length,v+1))}let p=!1,m=-1;if(n&&i&&i.v7_partialHydration)for(let v=0;v<c.length;v++){let w=c[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=v),w.route.id){let{loaderData:E,errors:I}=n,P=w.route.loader&&E[w.route.id]===void 0&&(!I||I[w.route.id]===void 0);if(w.route.lazy||P){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((v,w,E)=>{let I,P=!1,L=null,k=null;n&&(I=f&&w.route.id?f[w.route.id]:void 0,L=w.route.errorElement||dI,p&&(m<0&&E===0?(EI("route-fallback"),P=!0,k=null):m===E&&(P=!0,k=w.route.hydrateFallbackElement||null)));let H=e.concat(c.slice(0,E+1)),X=()=>{let J;return I?J=L:P?J=k:w.route.Component?J=fe.createElement(w.route.Component,null):w.route.element?J=w.route.element:J=v,fe.createElement(mI,{match:w,routeContext:{outlet:v,matches:H,isDataRoute:n!=null},children:J})};return n&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?fe.createElement(pI,{location:n.location,revalidation:n.revalidation,component:L,error:I,children:X(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):X()},null)}var G_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(G_||{});function yI(t){let e=fe.useContext(uI);return e||un(!1),e}function vI(t){let e=fe.useContext(lh);return e||un(!1),e}function _I(t){let e=vI(),n=e.matches[e.matches.length-1];return n.route.id||un(!1),n.route.id}function wI(){var t;let e=fe.useContext(H_),n=yI(G_.UseRouteError),i=_I();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}const d0={};function EI(t,e,n){d0[t]||(d0[t]=!0)}function TI(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Vd(t){un(!1)}function SI(t){let{basename:e="/",children:n=null,location:i,navigationType:o=Si.Pop,navigator:a,static:c=!1,future:f}=t;jp()&&un(!1);let p=e.replace(/^\/*/,"/"),m=fe.useMemo(()=>({basename:p,navigator:a,static:c,future:Nc({v7_relativeSplatPath:!1},f)}),[p,f,a,c]);typeof i=="string"&&(i=oh(i));let{pathname:v="/",search:w="",hash:E="",state:I=null,key:P="default"}=i,L=fe.useMemo(()=>{let k=$_(v,p);return k==null?null:{location:{pathname:k,search:w,hash:E,state:I,key:P},navigationType:o}},[p,v,w,E,I,P,o]);return L==null?null:fe.createElement(q_.Provider,{value:m},fe.createElement(ah.Provider,{children:n,value:L}))}function II(t){let{children:e,location:n}=t;return cI(Md(e),n)}new Promise(()=>{});function Md(t,e){e===void 0&&(e=[]);let n=[];return fe.Children.forEach(t,(i,o)=>{if(!fe.isValidElement(i))return;let a=[...e,o];if(i.type===fe.Fragment){n.push.apply(n,Md(i.props.children,a));return}i.type!==Vd&&un(!1),!i.props.index||!i.props.children||un(!1);let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Md(i.props.children,a)),n.push(c)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const xI="6";try{window.__reactRouterVersion=xI}catch{}const AI="startTransition",p0=FS[AI];function CI(t){let{basename:e,children:n,future:i,window:o}=t,a=fe.useRef();a.current==null&&(a.current=US({window:o,v5Compat:!0}));let c=a.current,[f,p]=fe.useState({action:c.action,location:c.location}),{v7_startTransition:m}=i||{},v=fe.useCallback(w=>{m&&p0?p0(()=>p(w)):p(w)},[p,m]);return fe.useLayoutEffect(()=>c.listen(v),[c,v]),fe.useEffect(()=>TI(i),[i]),fe.createElement(SI,{basename:e,children:n,location:f.location,navigationType:f.action,navigator:c,future:i})}var m0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(m0||(m0={}));var g0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(g0||(g0={}));const RI=()=>{};var y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},PI=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],c=t[n++],f=t[n++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=t[n++],c=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},zp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],c=o+1<t.length,f=c?t[o+1]:0,p=o+2<t.length,m=p?t[o+2]:0,v=a>>2,w=(a&3)<<4|f>>4;let E=(f&15)<<2|m>>6,I=m&63;p||(I=64,c||(E=64)),i.push(n[v],n[w],n[E],n[I])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(K_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const w=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||f==null||m==null||w==null)throw new kI;const E=a<<2|f>>4;if(i.push(E),m!==64){const I=f<<4&240|m>>2;if(i.push(I),w!==64){const P=m<<6&192|w;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NI=function(t){const e=K_(t);return zp.encodeByteArray(e,!0)},Dc=function(t){return NI(t).replace(/\./g,"")},DI=function(t){try{return zp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=()=>W_().__FIREBASE_DEFAULTS__,VI=()=>{if(typeof process>"u"||typeof y0>"u")return;const t=y0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DI(t[1]);return e&&JSON.parse(e)},Up=()=>{try{return RI()||bI()||VI()||MI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OI=t=>Up()?.emulatorHosts?.[t],LI=t=>{const e=OI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Y_=()=>Up()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function FI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Dc(JSON.stringify(n)),Dc(JSON.stringify(c)),""].join(".")}const ol={};function zI(){const t={prod:[],emulator:[]};for(const e of Object.keys(ol))ol[e]?t.emulator.push(e):t.prod.push(e);return t}function UI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let v0=!1;function $I(t,e){if(typeof window>"u"||typeof document>"u"||!$p(window.location.host)||ol[t]===e||ol[t]||v0)return;ol[t]=e;function n(E){return`__firebase__banner__${E}`}const i="__firebase__banner",a=zI().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{v0=!0,c()},E}function v(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=UI(i),I=n("text"),P=document.getElementById(I)||document.createElement("span"),L=n("learnmore"),k=document.getElementById(L)||document.createElement("a"),H=n("preprendIcon"),X=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const J=E.element;f(J),v(k,L);const Z=m();p(X,H),J.append(X,P,k,Z),document.body.appendChild(J)}a?(P.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qI(){const t=Up()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X_(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HI(){return!qI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dl(){try{return typeof indexedDB=="object"}catch{return!1}}function Bp(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function J_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="FirebaseError";class Oi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=QI,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bl.prototype.create)}}class bl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?GI(a,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new Oi(o,f,i)}}function GI(t,e){return t.replace(KI,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const KI=/\{\$([^}]+)}/g;function gl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],c=e[o];if(_0(a)&&_0(c)){if(!gl(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function _0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=1e3,YI=2,XI=14400*1e3,JI=.5;function Od(t,e=WI,n=YI){const i=e*Math.pow(n,t),o=Math.round(JI*i*(Math.random()-.5)*2);return Math.min(XI,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t){return t&&t._delegate?t._delegate:t}class er{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ml;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tx(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&c.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ex(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ex(t){return t===fs?void 0:t}function tx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const rx={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},ix=Le.INFO,sx={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},ox=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=sx[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uh{constructor(e){this.name=e,this._logLevel=ix,this._logHandler=ox,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const ax=(t,e)=>e.some(n=>t instanceof n);let w0,E0;function lx(){return w0||(w0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ux(){return E0||(E0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z_=new WeakMap,Ld=new WeakMap,ew=new WeakMap,ud=new WeakMap,qp=new WeakMap;function cx(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(Ci(t.result)),o()},c=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Z_.set(n,t)}).catch(()=>{}),qp.set(e,t),e}function hx(t){if(Ld.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),o()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});Ld.set(t,e)}let Fd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ld.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ew.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fx(t){Fd=t(Fd)}function dx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(cd(this),e,...n);return ew.set(i,e.sort?e.sort():[e]),Ci(i)}:ux().includes(t)?function(...e){return t.apply(cd(this),e),Ci(Z_.get(this))}:function(...e){return Ci(t.apply(cd(this),e))}}function px(t){return typeof t=="function"?dx(t):(t instanceof IDBTransaction&&hx(t),ax(t,lx())?new Proxy(t,Fd):t)}function Ci(t){if(t instanceof IDBRequest)return cx(t);if(ud.has(t))return ud.get(t);const e=px(t);return e!==t&&(ud.set(t,e),qp.set(e,t)),e}const cd=t=>qp.get(t);function tw(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(t,e),f=Ci(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ci(c.result),p.oldVersion,p.newVersion,Ci(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const mx=["get","getKey","getAll","getAllKeys","count"],gx=["put","add","delete","clear"],hd=new Map;function T0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hd.get(e))return hd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=gx.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||mx.includes(n)))return;const a=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[n](...f),o&&p.done]))[0]};return hd.set(e,a),a}fx(t=>({...t,get:(e,n,i)=>T0(e,n)||t.get(e,n,i),has:(e,n)=>!!T0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vx(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function vx(t){return t.getComponent()?.type==="VERSION"}const jd="@firebase/app",S0="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new uh("@firebase/app"),_x="@firebase/app-compat",wx="@firebase/analytics-compat",Ex="@firebase/analytics",Tx="@firebase/app-check-compat",Sx="@firebase/app-check",Ix="@firebase/auth",xx="@firebase/auth-compat",Ax="@firebase/database",Cx="@firebase/data-connect",Rx="@firebase/database-compat",Px="@firebase/functions",kx="@firebase/functions-compat",Nx="@firebase/installations",Dx="@firebase/installations-compat",bx="@firebase/messaging",Vx="@firebase/messaging-compat",Mx="@firebase/performance",Ox="@firebase/performance-compat",Lx="@firebase/remote-config",Fx="@firebase/remote-config-compat",jx="@firebase/storage",zx="@firebase/storage-compat",Ux="@firebase/firestore",$x="@firebase/ai",Bx="@firebase/firestore-compat",qx="firebase",Hx="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="[DEFAULT]",Qx={[jd]:"fire-core",[_x]:"fire-core-compat",[Ex]:"fire-analytics",[wx]:"fire-analytics-compat",[Sx]:"fire-app-check",[Tx]:"fire-app-check-compat",[Ix]:"fire-auth",[xx]:"fire-auth-compat",[Ax]:"fire-rtdb",[Cx]:"fire-data-connect",[Rx]:"fire-rtdb-compat",[Px]:"fire-fn",[kx]:"fire-fn-compat",[Nx]:"fire-iid",[Dx]:"fire-iid-compat",[bx]:"fire-fcm",[Vx]:"fire-fcm-compat",[Mx]:"fire-perf",[Ox]:"fire-perf-compat",[Lx]:"fire-rc",[Fx]:"fire-rc-compat",[jx]:"fire-gcs",[zx]:"fire-gcs-compat",[Ux]:"fire-fst",[Bx]:"fire-fst-compat",[$x]:"fire-vertex","fire-js":"fire-js",[qx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,Gx=new Map,Ud=new Map;function I0(t,e){try{t.container.addComponent(e)}catch(n){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tr(t){const e=t.name;if(Ud.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;Ud.set(e,t);for(const n of bc.values())I0(n,t);for(const n of Gx.values())I0(n,t);return!0}function As(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kx(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new bl("app","Firebase",Wx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=Hx;function nw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:zd,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Ri.create("bad-app-name",{appName:String(o)});if(n||(n=Y_()),!n)throw Ri.create("no-options");const a=bc.get(o);if(a){if(gl(n,a.options)&&gl(i,a.config))return a;throw Ri.create("duplicate-app",{appName:o})}const c=new nx(o);for(const p of Ud.values())c.addComponent(p);const f=new Yx(n,i,c);return bc.set(o,f),f}function Hp(t=zd){const e=bc.get(t);if(!e&&t===zd&&Y_())return nw();if(!e)throw Ri.create("no-app",{appName:t});return e}function Zn(t,e,n){let i=Qx[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(c.join(" "));return}Tr(new er(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="firebase-heartbeat-database",Zx=1,yl="firebase-heartbeat-store";let fd=null;function rw(){return fd||(fd=tw(Jx,Zx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ri.create("idb-open",{originalErrorMessage:t.message})})),fd}async function eA(t){try{const n=(await rw()).transaction(yl),i=await n.objectStore(yl).get(iw(t));return await n.done,i}catch(e){if(e instanceof Oi)Kr.warn(e.message);else{const n=Ri.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(n.message)}}}async function x0(t,e){try{const i=(await rw()).transaction(yl,"readwrite");await i.objectStore(yl).put(e,iw(t)),await i.done}catch(n){if(n instanceof Oi)Kr.warn(n.message);else{const i=Ri.create("idb-set",{originalErrorMessage:n?.message});Kr.warn(i.message)}}}function iw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=1024,nA=30;class rA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=A0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>nA){const o=oA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Kr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=A0(),{heartbeatsToSend:n,unsentEntries:i}=iA(this._heartbeatsCache.heartbeats),o=Dc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Kr.warn(e),""}}}function A0(){return new Date().toISOString().substring(0,10)}function iA(t,e=tA){const n=[];let i=t.slice();for(const o of t){const a=n.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),C0(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),C0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class sA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dl()?Bp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function C0(t){return Dc(JSON.stringify({version:2,heartbeats:t})).length}function oA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t){Tr(new er("platform-logger",e=>new yx(e),"PRIVATE")),Tr(new er("heartbeat",e=>new rA(e),"PRIVATE")),Zn(jd,S0,t),Zn(jd,S0,"esm2020"),Zn("fire-js","")}aA("");var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pi,sw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,x){function A(){}A.prototype=x.prototype,D.D=x.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(b,N,j){for(var C=Array(arguments.length-2),z=2;z<arguments.length;z++)C[z-2]=arguments[z];return x.prototype[N].apply(b,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,x,A){A||(A=0);var b=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)b[N]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(N=0;16>N;++N)b[N]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=D.g[0],A=D.g[1],N=D.g[2];var j=D.g[3],C=x+(j^A&(N^j))+b[0]+3614090360&4294967295;x=A+(C<<7&4294967295|C>>>25),C=j+(N^x&(A^N))+b[1]+3905402710&4294967295,j=x+(C<<12&4294967295|C>>>20),C=N+(A^j&(x^A))+b[2]+606105819&4294967295,N=j+(C<<17&4294967295|C>>>15),C=A+(x^N&(j^x))+b[3]+3250441966&4294967295,A=N+(C<<22&4294967295|C>>>10),C=x+(j^A&(N^j))+b[4]+4118548399&4294967295,x=A+(C<<7&4294967295|C>>>25),C=j+(N^x&(A^N))+b[5]+1200080426&4294967295,j=x+(C<<12&4294967295|C>>>20),C=N+(A^j&(x^A))+b[6]+2821735955&4294967295,N=j+(C<<17&4294967295|C>>>15),C=A+(x^N&(j^x))+b[7]+4249261313&4294967295,A=N+(C<<22&4294967295|C>>>10),C=x+(j^A&(N^j))+b[8]+1770035416&4294967295,x=A+(C<<7&4294967295|C>>>25),C=j+(N^x&(A^N))+b[9]+2336552879&4294967295,j=x+(C<<12&4294967295|C>>>20),C=N+(A^j&(x^A))+b[10]+4294925233&4294967295,N=j+(C<<17&4294967295|C>>>15),C=A+(x^N&(j^x))+b[11]+2304563134&4294967295,A=N+(C<<22&4294967295|C>>>10),C=x+(j^A&(N^j))+b[12]+1804603682&4294967295,x=A+(C<<7&4294967295|C>>>25),C=j+(N^x&(A^N))+b[13]+4254626195&4294967295,j=x+(C<<12&4294967295|C>>>20),C=N+(A^j&(x^A))+b[14]+2792965006&4294967295,N=j+(C<<17&4294967295|C>>>15),C=A+(x^N&(j^x))+b[15]+1236535329&4294967295,A=N+(C<<22&4294967295|C>>>10),C=x+(N^j&(A^N))+b[1]+4129170786&4294967295,x=A+(C<<5&4294967295|C>>>27),C=j+(A^N&(x^A))+b[6]+3225465664&4294967295,j=x+(C<<9&4294967295|C>>>23),C=N+(x^A&(j^x))+b[11]+643717713&4294967295,N=j+(C<<14&4294967295|C>>>18),C=A+(j^x&(N^j))+b[0]+3921069994&4294967295,A=N+(C<<20&4294967295|C>>>12),C=x+(N^j&(A^N))+b[5]+3593408605&4294967295,x=A+(C<<5&4294967295|C>>>27),C=j+(A^N&(x^A))+b[10]+38016083&4294967295,j=x+(C<<9&4294967295|C>>>23),C=N+(x^A&(j^x))+b[15]+3634488961&4294967295,N=j+(C<<14&4294967295|C>>>18),C=A+(j^x&(N^j))+b[4]+3889429448&4294967295,A=N+(C<<20&4294967295|C>>>12),C=x+(N^j&(A^N))+b[9]+568446438&4294967295,x=A+(C<<5&4294967295|C>>>27),C=j+(A^N&(x^A))+b[14]+3275163606&4294967295,j=x+(C<<9&4294967295|C>>>23),C=N+(x^A&(j^x))+b[3]+4107603335&4294967295,N=j+(C<<14&4294967295|C>>>18),C=A+(j^x&(N^j))+b[8]+1163531501&4294967295,A=N+(C<<20&4294967295|C>>>12),C=x+(N^j&(A^N))+b[13]+2850285829&4294967295,x=A+(C<<5&4294967295|C>>>27),C=j+(A^N&(x^A))+b[2]+4243563512&4294967295,j=x+(C<<9&4294967295|C>>>23),C=N+(x^A&(j^x))+b[7]+1735328473&4294967295,N=j+(C<<14&4294967295|C>>>18),C=A+(j^x&(N^j))+b[12]+2368359562&4294967295,A=N+(C<<20&4294967295|C>>>12),C=x+(A^N^j)+b[5]+4294588738&4294967295,x=A+(C<<4&4294967295|C>>>28),C=j+(x^A^N)+b[8]+2272392833&4294967295,j=x+(C<<11&4294967295|C>>>21),C=N+(j^x^A)+b[11]+1839030562&4294967295,N=j+(C<<16&4294967295|C>>>16),C=A+(N^j^x)+b[14]+4259657740&4294967295,A=N+(C<<23&4294967295|C>>>9),C=x+(A^N^j)+b[1]+2763975236&4294967295,x=A+(C<<4&4294967295|C>>>28),C=j+(x^A^N)+b[4]+1272893353&4294967295,j=x+(C<<11&4294967295|C>>>21),C=N+(j^x^A)+b[7]+4139469664&4294967295,N=j+(C<<16&4294967295|C>>>16),C=A+(N^j^x)+b[10]+3200236656&4294967295,A=N+(C<<23&4294967295|C>>>9),C=x+(A^N^j)+b[13]+681279174&4294967295,x=A+(C<<4&4294967295|C>>>28),C=j+(x^A^N)+b[0]+3936430074&4294967295,j=x+(C<<11&4294967295|C>>>21),C=N+(j^x^A)+b[3]+3572445317&4294967295,N=j+(C<<16&4294967295|C>>>16),C=A+(N^j^x)+b[6]+76029189&4294967295,A=N+(C<<23&4294967295|C>>>9),C=x+(A^N^j)+b[9]+3654602809&4294967295,x=A+(C<<4&4294967295|C>>>28),C=j+(x^A^N)+b[12]+3873151461&4294967295,j=x+(C<<11&4294967295|C>>>21),C=N+(j^x^A)+b[15]+530742520&4294967295,N=j+(C<<16&4294967295|C>>>16),C=A+(N^j^x)+b[2]+3299628645&4294967295,A=N+(C<<23&4294967295|C>>>9),C=x+(N^(A|~j))+b[0]+4096336452&4294967295,x=A+(C<<6&4294967295|C>>>26),C=j+(A^(x|~N))+b[7]+1126891415&4294967295,j=x+(C<<10&4294967295|C>>>22),C=N+(x^(j|~A))+b[14]+2878612391&4294967295,N=j+(C<<15&4294967295|C>>>17),C=A+(j^(N|~x))+b[5]+4237533241&4294967295,A=N+(C<<21&4294967295|C>>>11),C=x+(N^(A|~j))+b[12]+1700485571&4294967295,x=A+(C<<6&4294967295|C>>>26),C=j+(A^(x|~N))+b[3]+2399980690&4294967295,j=x+(C<<10&4294967295|C>>>22),C=N+(x^(j|~A))+b[10]+4293915773&4294967295,N=j+(C<<15&4294967295|C>>>17),C=A+(j^(N|~x))+b[1]+2240044497&4294967295,A=N+(C<<21&4294967295|C>>>11),C=x+(N^(A|~j))+b[8]+1873313359&4294967295,x=A+(C<<6&4294967295|C>>>26),C=j+(A^(x|~N))+b[15]+4264355552&4294967295,j=x+(C<<10&4294967295|C>>>22),C=N+(x^(j|~A))+b[6]+2734768916&4294967295,N=j+(C<<15&4294967295|C>>>17),C=A+(j^(N|~x))+b[13]+1309151649&4294967295,A=N+(C<<21&4294967295|C>>>11),C=x+(N^(A|~j))+b[4]+4149444226&4294967295,x=A+(C<<6&4294967295|C>>>26),C=j+(A^(x|~N))+b[11]+3174756917&4294967295,j=x+(C<<10&4294967295|C>>>22),C=N+(x^(j|~A))+b[2]+718787259&4294967295,N=j+(C<<15&4294967295|C>>>17),C=A+(j^(N|~x))+b[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+j&4294967295}i.prototype.u=function(D,x){x===void 0&&(x=D.length);for(var A=x-this.blockSize,b=this.B,N=this.h,j=0;j<x;){if(N==0)for(;j<=A;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<x;)if(b[N++]=D.charCodeAt(j++),N==this.blockSize){o(this,b),N=0;break}}else for(;j<x;)if(b[N++]=D[j++],N==this.blockSize){o(this,b),N=0;break}}this.h=N,this.o+=x},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;var A=8*this.o;for(x=D.length-8;x<D.length;++x)D[x]=A&255,A/=256;for(this.u(D),D=Array(16),x=A=0;4>x;++x)for(var b=0;32>b;b+=8)D[A++]=this.g[x]>>>b&255;return D};function a(D,x){var A=f;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=x(D)}function c(D,x){this.h=x;for(var A=[],b=!0,N=D.length-1;0<=N;N--){var j=D[N]|0;b&&j==x||(A[N]=j,b=!1)}this.g=A}var f={};function p(D){return-128<=D&&128>D?a(D,function(x){return new c([x|0],0>x?-1:0)}):new c([D|0],0>D?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return k(m(-D));for(var x=[],A=1,b=0;D>=A;b++)x[b]=D/A|0,A*=4294967296;return new c(x,0)}function v(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return k(v(D.substring(1),x));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=m(Math.pow(x,8)),b=w,N=0;N<D.length;N+=8){var j=Math.min(8,D.length-N),C=parseInt(D.substring(N,N+j),x);8>j?(j=m(Math.pow(x,j)),b=b.j(j).add(m(C))):(b=b.j(A),b=b.add(m(C)))}return b}var w=p(0),E=p(1),I=p(16777216);t=c.prototype,t.m=function(){if(L(this))return-k(this).m();for(var D=0,x=1,A=0;A<this.g.length;A++){var b=this.i(A);D+=(0<=b?b:4294967296+b)*x,x*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(P(this))return"0";if(L(this))return"-"+k(this).toString(D);for(var x=m(Math.pow(D,6)),A=this,b="";;){var N=Z(A,x).g;A=H(A,N.j(x));var j=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=N,P(A))return j+b;for(;6>j.length;)j="0"+j;b=j+b}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function P(D){if(D.h!=0)return!1;for(var x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function L(D){return D.h==-1}t.l=function(D){return D=H(this,D),L(D)?-1:P(D)?0:1};function k(D){for(var x=D.g.length,A=[],b=0;b<x;b++)A[b]=~D.g[b];return new c(A,~D.h).add(E)}t.abs=function(){return L(this)?k(this):this},t.add=function(D){for(var x=Math.max(this.g.length,D.g.length),A=[],b=0,N=0;N<=x;N++){var j=b+(this.i(N)&65535)+(D.i(N)&65535),C=(j>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);b=C>>>16,j&=65535,C&=65535,A[N]=C<<16|j}return new c(A,A[A.length-1]&-2147483648?-1:0)};function H(D,x){return D.add(k(x))}t.j=function(D){if(P(this)||P(D))return w;if(L(this))return L(D)?k(this).j(k(D)):k(k(this).j(D));if(L(D))return k(this.j(k(D)));if(0>this.l(I)&&0>D.l(I))return m(this.m()*D.m());for(var x=this.g.length+D.g.length,A=[],b=0;b<2*x;b++)A[b]=0;for(b=0;b<this.g.length;b++)for(var N=0;N<D.g.length;N++){var j=this.i(b)>>>16,C=this.i(b)&65535,z=D.i(N)>>>16,U=D.i(N)&65535;A[2*b+2*N]+=C*U,X(A,2*b+2*N),A[2*b+2*N+1]+=j*U,X(A,2*b+2*N+1),A[2*b+2*N+1]+=C*z,X(A,2*b+2*N+1),A[2*b+2*N+2]+=j*z,X(A,2*b+2*N+2)}for(b=0;b<x;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=x;b<2*x;b++)A[b]=0;return new c(A,0)};function X(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function J(D,x){this.g=D,this.h=x}function Z(D,x){if(P(x))throw Error("division by zero");if(P(D))return new J(w,w);if(L(D))return x=Z(k(D),x),new J(k(x.g),k(x.h));if(L(x))return x=Z(D,k(x)),new J(k(x.g),x.h);if(30<D.g.length){if(L(D)||L(x))throw Error("slowDivide_ only works with positive integers.");for(var A=E,b=x;0>=b.l(D);)A=le(A),b=le(b);var N=ce(A,1),j=ce(b,1);for(b=ce(b,2),A=ce(A,2);!P(b);){var C=j.add(b);0>=C.l(D)&&(N=N.add(A),j=C),b=ce(b,1),A=ce(A,1)}return x=H(D,N.j(x)),new J(N,x)}for(N=w;0<=D.l(x);){for(A=Math.max(1,Math.floor(D.m()/x.m())),b=Math.ceil(Math.log(A)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),j=m(A),C=j.j(x);L(C)||0<C.l(D);)A-=b,j=m(A),C=j.j(x);P(j)&&(j=E),N=N.add(j),D=H(D,C)}return new J(N,D)}t.A=function(D){return Z(this,D).h},t.and=function(D){for(var x=Math.max(this.g.length,D.g.length),A=[],b=0;b<x;b++)A[b]=this.i(b)&D.i(b);return new c(A,this.h&D.h)},t.or=function(D){for(var x=Math.max(this.g.length,D.g.length),A=[],b=0;b<x;b++)A[b]=this.i(b)|D.i(b);return new c(A,this.h|D.h)},t.xor=function(D){for(var x=Math.max(this.g.length,D.g.length),A=[],b=0;b<x;b++)A[b]=this.i(b)^D.i(b);return new c(A,this.h^D.h)};function le(D){for(var x=D.g.length+1,A=[],b=0;b<x;b++)A[b]=D.i(b)<<1|D.i(b-1)>>>31;return new c(A,D.h)}function ce(D,x){var A=x>>5;x%=32;for(var b=D.g.length-A,N=[],j=0;j<b;j++)N[j]=0<x?D.i(j+A)>>>x|D.i(j+A+1)<<32-x:D.i(j+A);return new c(N,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,sw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,Pi=c}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ow,Ya,aw,_c,$d,lw,uw,cw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof rc=="object"&&rc];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(u,g){if(g)e:{var _=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var $=u[S];if(!($ in _))break e;_=_[$]}u=u[u.length-1],S=_[u],g=g(S),g!=S&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function a(u,g){u instanceof String&&(u+="");var _=0,S=!1,$={next:function(){if(!S&&_<u.length){var W=_++;return{value:g(W,u[W]),done:!1}}return S=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(u){return u||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function v(u,g,_){return u.call.apply(u.bind,arguments)}function w(u,g,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,S),u.apply(g,$)}}return function(){return u.apply(g,arguments)}}function E(u,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,E.apply(null,arguments)}function I(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function P(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,$,W){for(var he=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)he[qe-2]=arguments[qe];return g.prototype[$].apply(S,he)}}function L(u){const g=u.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=u[S];return _}return[]}function k(u,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const $=u.length||0,W=S.length||0;u.length=$+W;for(let he=0;he<W;he++)u[$+he]=S[he]}else u.push(S)}}class H{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function X(u){return/^[\s\xa0]*$/.test(u)}function J(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function Z(u){return Z[" "](u),u}Z[" "]=function(){};var le=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function ce(u,g,_){for(const S in u)g.call(_,u[S],S,u)}function D(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function x(u){const g={};for(const _ in u)g[_]=u[_];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,g){let _,S;for(let $=1;$<arguments.length;$++){S=arguments[$];for(_ in S)u[_]=S[_];for(let W=0;W<A.length;W++)_=A[W],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function N(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function j(u){f.setTimeout(()=>{throw u},0)}function C(){var u=ne;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class z{constructor(){this.h=this.g=null}add(g,_){const S=U.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var U=new H(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Y=!1,ne=new z,ee=()=>{const u=f.Promise.resolve(void 0);ie=()=>{u.then(O)}};var O=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){j(_)}var g=U;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}Y=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return u}();function Te(u,g){if(de.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(le){e:{try{Z(g.nodeName);var $=!0;break e}catch{}$=!1}$||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ce[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Te.aa.h.call(this)}}P(Te,de);var Ce={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function Be(u,g,_,S,$){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=$,this.key=++Ne,this.da=this.fa=!1}function It(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ar(u){this.src=u,this.g={},this.h=0}Ar.prototype.add=function(u,g,_,S,$){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var he=Xr(u,g,S,$);return-1<he?(g=u[he],_||(g.fa=!1)):(g=new Be(g,this.src,W,!!S,$),g.fa=_,u.push(g)),g};function ks(u,g){var _=g.type;if(_ in u.g){var S=u.g[_],$=Array.prototype.indexOf.call(S,g,void 0),W;(W=0<=$)&&Array.prototype.splice.call(S,$,1),W&&(It(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Xr(u,g,_,S){for(var $=0;$<u.length;++$){var W=u[$];if(!W.da&&W.listener==g&&W.capture==!!_&&W.ha==S)return $}return-1}var Li="closure_lm_"+(1e6*Math.random()|0),Ns={};function Zo(u,g,_,S,$){if(Array.isArray(g)){for(var W=0;W<g.length;W++)Zo(u,g[W],_,S,$);return null}return _=na(_),u&&u[ke]?u.K(g,_,m(S)?!!S.capture:!1,$):ea(u,g,_,!1,S,$)}function ea(u,g,_,S,$,W){if(!g)throw Error("Invalid event type");var he=m($)?!!$.capture:!!$,qe=bs(u);if(qe||(u[Li]=qe=new Ar(u)),_=qe.add(g,_,S,he,W),_.proxy)return _;if(S=zl(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)_e||($=he),$===void 0&&($=!1),u.addEventListener(g.toString(),S,$);else if(u.attachEvent)u.attachEvent(Rr(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function zl(){function u(_){return g.call(u.src,u.listener,_)}const g=ta;return u}function Ds(u,g,_,S,$){if(Array.isArray(g))for(var W=0;W<g.length;W++)Ds(u,g[W],_,S,$);else S=m(S)?!!S.capture:!!S,_=na(_),u&&u[ke]?(u=u.i,g=String(g).toString(),g in u.g&&(W=u.g[g],_=Xr(W,_,S,$),-1<_&&(It(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete u.g[g],u.h--)))):u&&(u=bs(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Xr(g,_,S,$)),(_=-1<u?g[u]:null)&&Cr(_))}function Cr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ke])ks(g.i,u);else{var _=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(_,S,u.capture):g.detachEvent?g.detachEvent(Rr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=bs(g))?(ks(_,u),_.h==0&&(_.src=null,g[Li]=null)):It(u)}}}function Rr(u){return u in Ns?Ns[u]:Ns[u]="on"+u}function ta(u,g){if(u.da)u=!0;else{g=new Te(g,this);var _=u.listener,S=u.ha||u.src;u.fa&&Cr(u),u=_.call(S,g)}return u}function bs(u){return u=u[Li],u instanceof Ar?u:null}var Vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function na(u){return typeof u=="function"?u:(u[Vs]||(u[Vs]=function(g){return u.handleEvent(g)}),u[Vs])}function yt(){K.call(this),this.i=new Ar(this),this.M=this,this.F=null}P(yt,K),yt.prototype[ke]=!0,yt.prototype.removeEventListener=function(u,g,_,S){Ds(this,u,g,_,S)};function vt(u,g){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new de(g,u);else if(g instanceof de)g.target=g.target||u;else{var $=g;g=new de(S,u),b(g,$)}if($=!0,_)for(var W=_.length-1;0<=W;W--){var he=g.g=_[W];$=Pr(he,S,!0,g)&&$}if(he=g.g=u,$=Pr(he,S,!0,g)&&$,$=Pr(he,S,!1,g)&&$,_)for(W=0;W<_.length;W++)he=g.g=_[W],$=Pr(he,S,!1,g)&&$}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],S=0;S<_.length;S++)It(_[S]);delete u.g[g],u.h--}}this.F=null},yt.prototype.K=function(u,g,_,S){return this.i.add(String(u),g,!1,_,S)},yt.prototype.L=function(u,g,_,S){return this.i.add(String(u),g,!0,_,S)};function Pr(u,g,_,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var $=!0,W=0;W<g.length;++W){var he=g[W];if(he&&!he.da&&he.capture==_){var qe=he.listener,_t=he.ha||he.src;he.fa&&ks(u.i,he),$=qe.call(_t,S)!==!1&&$}}return $&&!S.defaultPrevented}function ra(u,g,_){if(typeof u=="function")_&&(u=E(u,_));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(u,g||0)}function Jr(u){u.g=ra(()=>{u.g=null,u.i&&(u.i=!1,Jr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Fi extends K{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Jr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(u){K.call(this),this.h=u,this.g={}}P(ji,K);var ia=[];function sa(u){ce(u.g,function(g,_){this.g.hasOwnProperty(_)&&Cr(g)},u),u.g={}}ji.prototype.N=function(){ji.aa.N.call(this),sa(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oa=f.JSON.stringify,aa=f.JSON.parse,la=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function zi(){}zi.prototype.h=null;function Ms(u){return u.h||(u.h=u.i())}function Os(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){de.call(this,"d")}P(rr,de);function Ls(){de.call(this,"c")}P(Ls,de);var ir={},ua=null;function Ui(){return ua=ua||new yt}ir.La="serverreachability";function ca(u){de.call(this,ir.La,u)}P(ca,de);function kr(u){const g=Ui();vt(g,new ca(g))}ir.STAT_EVENT="statevent";function ha(u,g){de.call(this,ir.STAT_EVENT,u),this.stat=g}P(ha,de);function ot(u){const g=Ui();vt(g,new ha(g,u))}ir.Ma="timingevent";function Fs(u,g){de.call(this,ir.Ma,u),this.size=g}P(Fs,de);function On(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},g)}function $i(){this.g=!0}$i.prototype.xa=function(){this.g=!1};function Bi(u,g,_,S,$,W){u.info(function(){if(u.g)if(W)for(var he="",qe=W.split("&"),_t=0;_t<qe.length;_t++){var Me=qe[_t].split("=");if(1<Me.length){var xt=Me[0];Me=Me[1];var ft=xt.split("_");he=2<=ft.length&&ft[1]=="type"?he+(xt+"="+Me+"&"):he+(xt+"=redacted&")}}else he=null;else he=W;return"XMLHTTP REQ ("+S+") [attempt "+$+"]: "+g+`
`+_+`
`+he})}function js(u,g,_,S,$,W,he){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+$+"]: "+g+`
`+_+`
`+W+" "+he})}function Ln(u,g,_,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+kh(u,_)+(S?" "+S:"")})}function fa(u,g){u.info(function(){return"TIMEOUT: "+g})}$i.prototype.info=function(){};function kh(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var $=S[1];if(Array.isArray($)&&!(1>$.length)){var W=$[0];if(W!="noop"&&W!="stop"&&W!="close")for(var he=1;he<$.length;he++)$[he]=""}}}}return oa(_)}catch{return g}}var zs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ul={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function qi(){}P(qi,zi),qi.prototype.g=function(){return new XMLHttpRequest},qi.prototype.i=function(){return{}},Fn=new qi;function jn(u,g,_,S){this.j=u,this.i=g,this.l=_,this.R=S||1,this.U=new ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $l}function $l(){this.i=null,this.g="",this.h=!1}var da={},Us={};function $s(u,g,_){u.L=1,u.v=ri(hn(g)),u.m=_,u.P=!0,pa(u,null)}function pa(u,g){u.F=Date.now(),Ge(u),u.A=hn(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),si(_.i,"t",S),u.C=0,_=u.j.J,u.h=new $l,u.g=ou(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Fi(E(u.Y,u,u.g),u.O)),g=u.U,_=u.g,S=u.ca;var $="readystatechange";Array.isArray($)||($&&(ia[0]=$.toString()),$=ia);for(var W=0;W<$.length;W++){var he=Zo(_,$[W],S||g.handleEvent,!1,g.h||g);if(!he)break;g.g[he.key]=he}g=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),kr(),Bi(u.i,u.u,u.A,u.l,u.R,u.m)}jn.prototype.ca=function(u){u=u.target;const g=this.M;g&&Xt(u)==3?g.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)e:{const ft=Xt(this.g);var g=this.g.Ba();const In=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||wa(this.g)))){this.J||ft!=4||g==7||(g==8||0>=In?kr(3):kr(2)),Hi(this);var _=this.g.Z();this.X=_;t:if(Bl(this)){var S=wa(this.g);u="";var $=S.length,W=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),Zr(this);var he="";break t}this.h.i=new f.TextDecoder}for(g=0;g<$;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(W&&g==$-1)});S.length=0,this.h.g+=u,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,js(this.i,this.u,this.A,this.l,this.R,ft,_),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,_t=this.g;if((qe=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(qe)){var Me=qe;break t}}Me=null}if(_=Me)Ln(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ma(this,_);else{this.o=!1,this.s=3,ot(12),Tn(this),Zr(this);break e}}if(this.P){_=!0;let dn;for(;!this.J&&this.C<he.length;)if(dn=Nh(this,he),dn==Us){ft==4&&(this.s=4,ot(14),_=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==da){this.s=4,ot(15),Ln(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else Ln(this.i,this.l,dn,null),ma(this,dn);if(Bl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||he.length!=0||this.h.h||(this.s=1,ot(16),_=!1),this.o=this.o&&_,!_)Ln(this.i,this.l,he,"[Invalid Chunked Response]"),Tn(this),Zr(this);else if(0<he.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Ta(xt),xt.M=!0,ot(11))}}else Ln(this.i,this.l,he,null),ma(this,he);ft==4&&Tn(this),this.o&&!this.J&&(ft==4?Zs(this.j,this):(this.o=!1,Ge(this)))}else Ks(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Tn(this),Zr(this)}}}catch{}finally{}};function Bl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Nh(u,g){var _=u.C,S=g.indexOf(`
`,_);return S==-1?Us:(_=Number(g.substring(_,S)),isNaN(_)?da:(S+=1,S+_>g.length?Us:(g=g.slice(S,S+_),u.C=S+_,g)))}jn.prototype.cancel=function(){this.J=!0,Tn(this)};function Ge(u){u.S=Date.now()+u.I,ql(u,u.I)}function ql(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=On(E(u.ba,u),g)}function Hi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}jn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(fa(this.i,this.A),this.L!=2&&(kr(),ot(17)),Tn(this),this.s=2,Zr(this)):ql(this,this.S-u)};function Zr(u){u.j.G==0||u.J||Zs(u.j,u)}function Tn(u){Hi(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,sa(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function ma(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||qt(_.h,u))){if(!u.K&&qt(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var $=S;if($[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Js(_),qn(_);else break e;Xs(_),ot(18)}}else _.za=$[1],0<_.za-_.T&&37500>$[2]&&_.F&&_.v==0&&!_.C&&(_.C=On(E(_.Za,_),6e3));if(1>=Ql(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mr(_,11)}else if((u.K||_.g==u)&&Js(_),!X(g))for($=_.Da.g.parse(g),g=0;g<$.length;g++){let Me=$[g];if(_.T=Me[0],Me=Me[1],_.G==2)if(Me[0]=="c"){_.K=Me[1],_.ia=Me[2];const xt=Me[3];xt!=null&&(_.la=xt,_.j.info("VER="+_.la));const ft=Me[4];ft!=null&&(_.Aa=ft,_.j.info("SVER="+_.Aa));const In=Me[5];In!=null&&typeof In=="number"&&0<In&&(S=1.5*In,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const dn=u.g;if(dn){const Ji=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ji){var W=S.h;W.g||Ji.indexOf("spdy")==-1&&Ji.indexOf("quic")==-1&&Ji.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ga(W,W.h),W.h=null))}if(S.D){const to=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(S.ya=to,He(S.I,S.D,to))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var he=u;if(S.qa=su(S,S.J?S.ia:null,S.W),he.K){Gl(S.h,he);var qe=he,_t=S.L;_t&&(qe.I=_t),qe.B&&(Hi(qe),Ge(qe)),S.g=he}else Xi(S);0<_.i.length&&lr(_)}else Me[0]!="stop"&&Me[0]!="close"||Mr(_,7);else _.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Mr(_,7):Nt(_):Me[0]!="noop"&&_.l&&_.l.ta(Me),_.v=0)}}kr(4)}catch{}}var Hl=class{constructor(u,g){this.g=u,this.map=g}};function Qi(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ql(u){return u.h?1:u.g?u.g.size:0}function qt(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function ga(u,g){u.g?u.g.add(g):u.h=g}function Gl(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Qi.prototype.cancel=function(){if(this.i=Kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Kl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return L(u.i)}function Bs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],_=u.length,S=0;S<_;S++)g.push(u[S]);return g}g=[],_=0;for(S in u)g[_++]=u[S];return g}function qs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const S in u)g[_++]=S;return g}}}function ei(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=qs(u),S=Bs(u),$=S.length,W=0;W<$;W++)g.call(void 0,S[W],_&&_[W],u)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dh(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),$=null;if(0<=S){var W=u[_].substring(0,S);$=u[_].substring(S+1)}else W=u[_];g(W,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Nr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Nr){this.h=u.h,Ki(this,u.j),this.o=u.o,this.g=u.g,ti(this,u.s),this.l=u.l;var g=u.i,_=new sr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ni(this,_),this.m=u.m}else u&&(g=String(u).match(Gi))?(this.h=!1,Ki(this,g[1]||"",!0),this.o=be(g[2]||""),this.g=be(g[3]||"",!0),ti(this,g[4]),this.l=be(g[5]||"",!0),ni(this,g[6]||"",!0),this.m=be(g[7]||"")):(this.h=!1,this.i=new sr(null,this.h))}Nr.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ii(g,Hs,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ii(g,Hs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ii(_,_.charAt(0)=="/"?Xl:Yl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ii(_,ya)),u.join("")};function hn(u){return new Nr(u)}function Ki(u,g,_){u.j=_?be(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ti(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function ni(u,g,_){g instanceof sr?(u.i=g,or(u.i,u.h)):(_||(g=ii(g,Jl)),u.i=new sr(g,u.h))}function He(u,g,_){u.i.set(g,_)}function ri(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function be(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ii(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Wl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Wl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hs=/[#\/\?@]/g,Yl=/[#\?:]/g,Xl=/[#\?]/g,Jl=/[#\?@]/g,ya=/#/g;function sr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function kt(u){u.g||(u.g=new Map,u.h=0,u.i&&Dh(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=sr.prototype,t.add=function(u,g){kt(this),this.i=null,u=Sn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function zn(u,g){kt(u),g=Sn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Un(u,g){return kt(u),g=Sn(u,g),u.g.has(g)}t.forEach=function(u,g){kt(this),this.g.forEach(function(_,S){_.forEach(function($){u.call(g,$,S,this)},this)},this)},t.na=function(){kt(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const $=u[S];for(let W=0;W<$.length;W++)_.push(g[S])}return _},t.V=function(u){kt(this);let g=[];if(typeof u=="string")Un(this,u)&&(g=g.concat(this.g.get(Sn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},t.set=function(u,g){return kt(this),this.i=null,u=Sn(this,u),Un(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function si(u,g,_){zn(u,g),0<_.length&&(u.i=null,u.g.set(Sn(u,g),L(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const W=encodeURIComponent(String(S)),he=this.V(S);for(S=0;S<he.length;S++){var $=W;he[S]!==""&&($+="="+encodeURIComponent(String(he[S]))),u.push($)}}return this.i=u.join("&")};function Sn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function or(u,g){g&&!u.j&&(kt(u),u.i=null,u.g.forEach(function(_,S){var $=S.toLowerCase();S!=$&&(zn(this,S),si(this,$,_))},u)),u.j=g}function bh(u,g){const _=new $i;if(f.Image){const S=new Image;S.onload=I(Yt,_,"TestLoadImage: loaded",!0,g,S),S.onerror=I(Yt,_,"TestLoadImage: error",!1,g,S),S.onabort=I(Yt,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=I(Yt,_,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function Zl(u,g){const _=new $i,S=new AbortController,$=setTimeout(()=>{S.abort(),Yt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(W=>{clearTimeout($),W.ok?Yt(_,"TestPingServer: ok",!0,g):Yt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout($),Yt(_,"TestPingServer: error",!1,g)})}function Yt(u,g,_,S,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),S(_)}catch{}}function Vh(){this.g=new la}function eu(u,g,_){const S=_||"";try{ei(u,function($,W){let he=$;m($)&&(he=oa($)),g.push(S+W+"="+encodeURIComponent(he))})}catch($){throw g.push(S+"type="+encodeURIComponent("_badmap")),$}}function Dr(u){this.l=u.Ub||null,this.j=u.eb||!1}P(Dr,zi),Dr.prototype.g=function(){return new Wi(this.l,this.j)},Dr.prototype.i=function(u){return function(){return u}}({});function Wi(u,g){yt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Wi,yt),t=Wi.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Bn(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function tu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?$n(this):Bn(this),this.readyState==3&&tu(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},t.Qa=function(u){this.g&&(this.response=u,$n(this))},t.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Bn(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function br(u){let g="";return ce(u,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function oi(u,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=br(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):He(u,g,_))}function Xe(u){yt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Xe,yt);var Mh=/^https?$/i,va=["POST","PUT"];t=Xe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?Ms(this.o):Ms(Fn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(W){Yi(this,W);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var $ in S)_.set($,S[$]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const W of S.keys())_.set(W,S.get(W));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),$=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(va,g,void 0))||S||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,he]of _)this.g.setRequestHeader(W,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gs(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){Yi(this,W)}};function Yi(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Qs(u),fn(u)}function Qs(u){u.A||(u.A=!0,vt(u,"complete"),vt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,vt(this,"complete"),vt(this,"abort"),fn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_a(this):this.bb())},t.bb=function(){_a(this)};function _a(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Xt(u)!=4||u.Z()!=2)){if(u.u&&Xt(u)==4)ra(u.Ea,0,u);else if(vt(u,"readystatechange"),Xt(u)==4){u.h=!1;try{const he=u.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=he===0){var $=String(u.D).match(Gi)[1]||null;!$&&f.self&&f.self.location&&($=f.self.location.protocol.slice(0,-1)),S=!Mh.test($?$.toLowerCase():"")}_=S}if(_)vt(u,"complete"),vt(u,"success");else{u.m=6;try{var W=2<Xt(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",Qs(u)}}finally{fn(u)}}}}function fn(u,g){if(u.g){Gs(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||vt(u,"ready");try{_.onreadystatechange=S}catch{}}}function Gs(u){u.I&&(f.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Xt(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),aa(g)}};function wa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ks(u){const g={};u=(u.g&&2<=Xt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(X(u[S]))continue;var _=N(u[S]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=g[$]||[];g[$]=W,W.push(_)}D(g,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Ea(u){this.Aa=0,this.i=[],this.j=new $i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ar("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ar("baseRetryDelayMs",5e3,u),this.cb=ar("retryDelaySeedMs",1e4,u),this.Wa=ar("forwardChannelMaxRetries",2,u),this.wa=ar("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Qi(u&&u.concurrentRequestLimit),this.Da=new Vh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ea.prototype,t.la=8,t.G=1,t.connect=function(u,g,_,S){ot(0),this.W=u,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=su(this,null,this.W),lr(this)};function Nt(u){if(Ws(u),u.G==3){var g=u.U++,_=hn(u.I);if(He(_,"SID",u.K),He(_,"RID",g),He(_,"TYPE","terminate"),Vr(u,_),g=new jn(u,u.j,g),g.L=2,g.v=ri(hn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.v,_=!0),_||(g.g=ou(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ge(g)}iu(u)}function qn(u){u.g&&(Ta(u),u.g.cancel(),u.g=null)}function Ws(u){qn(u),u.u&&(f.clearTimeout(u.u),u.u=null),Js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function lr(u){if(!cn(u.h)&&!u.s){u.s=!0;var g=u.Ga;ie||ee(),Y||(ie(),Y=!0),ne.add(g,u),u.B=0}}function Oh(u,g){return Ql(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=On(E(u.Ga,u,g),ru(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const $=new jn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=x(W),b(W,this.S)):W=this.S),this.m!==null||this.O||($.H=W,W=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ai(this,$,g),_=hn(this.I),He(_,"RID",u),He(_,"CVER",22),this.D&&He(_,"X-HTTP-Session-Id",this.D),Vr(this,_),W&&(this.O?g="headers="+encodeURIComponent(String(br(W)))+"&"+g:this.m&&oi(_,this.m,W)),ga(this.h,$),this.Ua&&He(_,"TYPE","init"),this.P?(He(_,"$req",g),He(_,"SID","null"),$.T=!0,$s($,_,null)):$s($,_,g),this.G=2}}else this.G==3&&(u?Ys(this,u):this.i.length==0||cn(this.h)||Ys(this))};function Ys(u,g){var _;g?_=g.l:_=u.U++;const S=hn(u.I);He(S,"SID",u.K),He(S,"RID",_),He(S,"AID",u.T),Vr(u,S),u.m&&u.o&&oi(S,u.m,u.o),_=new jn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=ai(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ga(u.h,_),$s(_,S,g)}function Vr(u,g){u.H&&ce(u.H,function(_,S){He(g,S,_)}),u.l&&ei({},function(_,S){He(g,S,_)})}function ai(u,g,_){_=Math.min(u.i.length,_);var S=u.l?E(u.l.Na,u.l,u):null;e:{var $=u.i;let W=-1;for(;;){const he=["count="+_];W==-1?0<_?(W=$[0].g,he.push("ofs="+W)):W=0:he.push("ofs="+W);let qe=!0;for(let _t=0;_t<_;_t++){let Me=$[_t].g;const xt=$[_t].map;if(Me-=W,0>Me)W=Math.max(0,$[_t].g-100),qe=!1;else try{eu(xt,he,"req"+Me+"_")}catch{S&&S(xt)}}if(qe){S=he.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,S}function Xi(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ie||ee(),Y||(ie(),Y=!0),ne.add(g,u),u.v=0}}function Xs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=On(E(u.Fa,u),ru(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=On(E(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),qn(this),nu(this))};function Ta(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function nu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=hn(u.qa);He(g,"RID","rpc"),He(g,"SID",u.K),He(g,"AID",u.T),He(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(g,"TO",u.ja),He(g,"TYPE","xmlhttp"),Vr(u,g),u.m&&u.o&&oi(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ri(hn(g)),_.m=null,_.P=!0,pa(_,u)}t.Za=function(){this.C!=null&&(this.C=null,qn(this),Xs(this),ot(19))};function Js(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Zs(u,g){var _=null;if(u.g==g){Js(u),Ta(u),u.g=null;var S=2}else if(qt(u.h,g))_=g.D,Gl(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var $=u.B;S=Ui(),vt(S,new Fs(S,_)),lr(u)}else Xi(u);else if($=g.s,$==3||$==0&&0<g.X||!(S==1&&Oh(u,g)||S==2&&Xs(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),$){case 1:Mr(u,5);break;case 4:Mr(u,10);break;case 3:Mr(u,6);break;default:Mr(u,2)}}}function ru(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Mr(u,g){if(u.j.info("Error code "+g),g==2){var _=E(u.fb,u),S=u.Xa;const $=!S;S=new Nr(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ki(S,"https"),ri(S),$?bh(S.toString(),_):Zl(S.toString(),_)}else ot(2);u.G=0,u.l&&u.l.sa(g),iu(u),Ws(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function iu(u){if(u.G=0,u.ka=[],u.l){const g=Kl(u.h);(g.length!=0||u.i.length!=0)&&(k(u.ka,g),k(u.ka,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.ra()}}function su(u,g,_){var S=_ instanceof Nr?hn(_):new Nr(_);if(S.g!="")g&&(S.g=g+"."+S.g),ti(S,S.s);else{var $=f.location;S=$.protocol,g=g?g+"."+$.hostname:$.hostname,$=+$.port;var W=new Nr(null);S&&Ki(W,S),g&&(W.g=g),$&&ti(W,$),_&&(W.l=_),S=W}return _=u.D,g=u.ya,_&&g&&He(S,_,g),He(S,"VER",u.la),Vr(u,S),S}function ou(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Xe(new Dr({eb:_})):new Xe(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sa(){}t=Sa.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function eo(){}eo.prototype.g=function(u,g){return new Ht(u,g)};function Ht(u,g){yt.call(this),this.g=new Ea(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!X(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!X(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ur(this)}P(Ht,yt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Nt(this.g)},Ht.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=oa(u),u=_);g.i.push(new Hl(g.Ya++,u)),g.G==3&&lr(g)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Ht.aa.N.call(this)};function au(u){rr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}P(au,rr);function lu(){Ls.call(this),this.status=1}P(lu,Ls);function ur(u){this.g=u}P(ur,Sa),ur.prototype.ua=function(){vt(this.g,"a")},ur.prototype.ta=function(u){vt(this.g,new au(u))},ur.prototype.sa=function(u){vt(this.g,new lu)},ur.prototype.ra=function(){vt(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,cw=function(){return new eo},uw=function(){return Ui()},lw=ir,$d={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,_c=zs,Ul.COMPLETE="complete",aw=Ul,Os.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Ya=Os,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,ow=Xe}).apply(typeof rc<"u"?rc:typeof self<"u"?self:typeof window<"u"?window:{});const P0="@firebase/firestore",k0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new uh("@firebase/firestore");function So(){return ws.logLevel}function me(t,...e){if(ws.logLevel<=Le.DEBUG){const n=e.map(Qp);ws.debug(`Firestore (${Ko}): ${t}`,...n)}}function Wr(t,...e){if(ws.logLevel<=Le.ERROR){const n=e.map(Qp);ws.error(`Firestore (${Ko}): ${t}`,...n)}}function Lo(t,...e){if(ws.logLevel<=Le.WARN){const n=e.map(Qp);ws.warn(`Firestore (${Ko}): ${t}`,...n)}}function Qp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,hw(t,i,n)}function hw(t,e,n){let i=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Wr(i),new Error(i)}function it(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||hw(e,o,i)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class uA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cA{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let a=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gs,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gs)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(it(typeof i.accessToken=="string",31837,{l:i}),new fw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new Ut(e)}}class hA{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fA{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new hA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class N0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kx(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const i=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new N0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new N0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=pA(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%62))}return i}}function Ve(t,e){return t<e?-1:t>e?1:0}function Bd(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),a=e.charAt(i);if(o!==a)return dd(o)===dd(a)?Ve(o,a):dd(o)?1:-1}return Ve(t.length,e.length)}const mA=55296,gA=57343;function dd(t){const e=t.charCodeAt(0);return e>=mA&&e<=gA}function Fo(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="__name__";class pr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Pe(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=pr.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Ve(e.length,n.length)}static compareSegments(e,n){const i=pr.isNumericId(e),o=pr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?pr.extractNumericId(e).compare(pr.extractNumericId(n)):Bd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pi.fromString(e.substring(4,e.length-2))}}class Ze extends pr{construct(e,n,i){return new Ze(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const yA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends pr{construct(e,n,i){return new Bt(e,n,i)}static isValidIdentifier(e){return yA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D0}static keyField(){return new Bt([D0])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ye(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ye(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(a(),o++)}if(a(),c)throw new ye(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(Ze.fromString(e))}static fromName(e){return new xe(Ze.fromString(e).popFirst(5))}static empty(){return new xe(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new Ze(e.slice()))}}function vA(t,e,n,i){if(e===!0&&i===!0)throw new ye(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function b0(t){if(xe.isDocumentKey(t))throw new ye(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ch(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe(12329,{type:typeof t})}function qd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ch(t);throw new ye(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Vl(t,e){if(!pw(t))throw new ye(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(o&&typeof c!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(a!==void 0&&c!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new ye(ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=-62135596800,M0=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*M0);return new et(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<V0)throw new ye(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vl(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:gt("string",et._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new et(0,0))}static max(){return new Re(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=-1;function _A(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(i===1e9?new et(n+1,0):new et(n,i));return new ki(o,xe.empty(),e)}function wA(t){return new ki(t.readTime,t.key,vl)}class ki{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ki(Re.min(),xe.empty(),vl)}static max(){return new ki(Re.max(),xe.empty(),vl)}}function EA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==TA)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,i)=>{n(e)})}static reject(e){return new te((n,i)=>{i(e)})}static waitFor(e){return new te((n,i)=>{let o=0,a=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++a,c&&a===o&&n()},p=>i(p))}),c=!0,a===o&&n()})}static or(e){let n=te.resolve(!1);for(const i of e)n=n.next(o=>o?te.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,a)=>{i.push(n.call(this,o,a))}),this.waitFor(i)}static mapArray(e,n){return new te((i,o)=>{const a=e.length,c=new Array(a);let f=0;for(let p=0;p<a;p++){const m=p;n(e[m]).next(v=>{c[m]=v,++f,f===a&&i(c)},v=>o(v))}})}static doWhile(e,n){return new te((i,o)=>{const a=()=>{e()===!0?n().next(()=>{a()},o):i()};a()})}}function IA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=-1;function dh(t){return t==null}function Vc(t){return t===0&&1/t==-1/0}function AA(t){return typeof t=="number"&&Number.isInteger(t)&&!Vc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="";function CA(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=O0(e)),e=RA(t.get(n),e);return O0(e)}function RA(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case mw:n+="";break;default:n+=a}}return n}function O0(t){return t+mw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ic(this.root,e,this.comparator,!0)}}class ic{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??Vt.RED,this.left=o??Vt.EMPTY,this.right=a??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new Vt(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Vt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,i,o,a){return this}insert(e,n,i){return new Vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new F0(this.data.getIterator())}getIteratorFrom(e){return new F0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class F0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Ii([])}unionWith(e){let n=new Tt(Bt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ii(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new yw("Invalid base64 string: "+a):a}}(e);return new Mt(n)}static fromUint8Array(e){const n=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const PA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(t){if(it(!!t,39018),typeof t=="string"){let e=0;const n=PA.exec(t);if(it(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Di(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="server_timestamp",_w="__type__",ww="__previous_value__",Ew="__local_write_time__";function Gp(t){return(t?.mapValue?.fields||{})[_w]?.stringValue===vw}function ph(t){const e=t.mapValue.fields[ww];return Gp(e)?ph(e):e}function _l(t){const e=Ni(t.mapValue.fields[Ew].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n,i,o,a,c,f,p,m,v){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=v}}const Mc="(default)";class wl{constructor(e,n){this.projectId=e,this.database=n||Mc}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database===Mc}isEqual(e){return e instanceof wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="__type__",NA="__max__",sc={mapValue:{}},Sw="__vector__",Oc="value";function bi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gp(t)?4:bA(t)?9007199254740991:DA(t)?10:11:Pe(28295,{value:t})}function Sr(t,e){if(t===e)return!0;const n=bi(t);if(n!==bi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _l(t).isEqual(_l(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Ni(o.timestampValue),f=Ni(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,a){return Di(o.bytesValue).isEqual(Di(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,a){return lt(o.geoPointValue.latitude)===lt(a.geoPointValue.latitude)&&lt(o.geoPointValue.longitude)===lt(a.geoPointValue.longitude)}(t,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return lt(o.integerValue)===lt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=lt(o.doubleValue),f=lt(a.doubleValue);return c===f?Vc(c)===Vc(f):isNaN(c)&&isNaN(f)}return!1}(t,e);case 9:return Fo(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},f=a.mapValue.fields||{};if(L0(c)!==L0(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!Sr(c[p],f[p])))return!1;return!0}(t,e);default:return Pe(52216,{left:t})}}function El(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function jo(t,e){if(t===e)return 0;const n=bi(t),i=bi(e);if(n!==i)return Ve(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(a,c){const f=lt(a.integerValue||a.doubleValue),p=lt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(t,e);case 3:return j0(t.timestampValue,e.timestampValue);case 4:return j0(_l(t),_l(e));case 5:return Bd(t.stringValue,e.stringValue);case 6:return function(a,c){const f=Di(a),p=Di(c);return f.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const v=Ve(f[m],p[m]);if(v!==0)return v}return Ve(f.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,c){const f=Ve(lt(a.latitude),lt(c.latitude));return f!==0?f:Ve(lt(a.longitude),lt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return z0(t.arrayValue,e.arrayValue);case 10:return function(a,c){const f=a.fields||{},p=c.fields||{},m=f[Oc]?.arrayValue,v=p[Oc]?.arrayValue,w=Ve(m?.values?.length||0,v?.values?.length||0);return w!==0?w:z0(m,v)}(t.mapValue,e.mapValue);case 11:return function(a,c){if(a===sc.mapValue&&c===sc.mapValue)return 0;if(a===sc.mapValue)return 1;if(c===sc.mapValue)return-1;const f=a.fields||{},p=Object.keys(f),m=c.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const E=Bd(p[w],v[w]);if(E!==0)return E;const I=jo(f[p[w]],m[v[w]]);if(I!==0)return I}return Ve(p.length,v.length)}(t.mapValue,e.mapValue);default:throw Pe(23264,{he:n})}}function j0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Ni(t),i=Ni(e),o=Ve(n.seconds,i.seconds);return o!==0?o:Ve(n.nanos,i.nanos)}function z0(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=jo(n[o],i[o]);if(a)return a}return Ve(n.length,i.length)}function zo(t){return Hd(t)}function Hd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ni(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Di(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=Hd(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Hd(n.fields[c])}`;return o+"}"}(t.mapValue):Pe(61005,{value:t})}function wc(t){switch(bi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(t);return e?16+wc(e):16;case 5:return 2*t.stringValue.length;case 6:return Di(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+wc(a),0)}(t.arrayValue);case 10:case 11:return function(i){let o=0;return Yo(i.fields,(a,c)=>{o+=a.length+wc(c)}),o}(t.mapValue);default:throw Pe(13486,{value:t})}}function U0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qd(t){return!!t&&"integerValue"in t}function Kp(t){return!!t&&"arrayValue"in t}function $0(t){return!!t&&"nullValue"in t}function B0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pd(t){return!!t&&"mapValue"in t}function DA(t){return(t?.mapValue?.fields||{})[Tw]?.stringValue===Sw}function al(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Yo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=al(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=al(t.arrayValue.values[n]);return e}return{...t}}function bA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===NA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!pd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(n)}setAll(e){let n=Bt.emptyPath(),i={},o=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=f.popLast()}c?i[f.lastSegment()]=al(c):o.push(f.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());pd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];pd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Yo(n,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new mr(al(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,i,o,a,c,f){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new $t(e,0,Re.min(),Re.min(),Re.min(),mr.empty(),0)}static newFoundDocument(e,n,i,o){return new $t(e,1,n,Re.min(),i,o,0)}static newNoDocument(e,n){return new $t(e,2,n,Re.min(),Re.min(),mr.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,Re.min(),Re.min(),mr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this.position=e,this.inclusive=n}}function q0(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],c=t.position[o];if(a.field.isKeyField()?i=xe.comparator(xe.fromName(c.referenceValue),n.key):i=jo(c,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function H0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n="asc"){this.field=e,this.dir=n}}function VA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{}class mt extends Iw{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new OA(e,n,i):n==="array-contains"?new jA(e,i):n==="in"?new zA(e,i):n==="not-in"?new UA(e,i):n==="array-contains-any"?new $A(e,i):new mt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new LA(e,i):new FA(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jo(n,this.value)):n!==null&&bi(this.value)===bi(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends Iw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new tr(e,n)}matches(e){return xw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xw(t){return t.op==="and"}function Aw(t){return MA(t)&&xw(t)}function MA(t){for(const e of t.filters)if(e instanceof tr)return!1;return!0}function Gd(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+zo(t.value);if(Aw(t))return t.filters.map(e=>Gd(e)).join(",");{const e=t.filters.map(n=>Gd(n)).join(",");return`${t.op}(${e})`}}function Cw(t,e){return t instanceof mt?function(i,o){return o instanceof mt&&i.op===o.op&&i.field.isEqual(o.field)&&Sr(i.value,o.value)}(t,e):t instanceof tr?function(i,o){return o instanceof tr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,f)=>a&&Cw(c,o.filters[f]),!0):!1}(t,e):void Pe(19439)}function Rw(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${zo(n.value)}`}(t):t instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map(Rw).join(" ,")+"}"}(t):"Filter"}class OA extends mt{constructor(e,n,i){super(e,n,i),this.key=xe.fromName(i.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class LA extends mt{constructor(e,n){super(e,"in",n),this.keys=Pw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FA extends mt{constructor(e,n){super(e,"not-in",n),this.keys=Pw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Pw(t,e){return(e.arrayValue?.values||[]).map(n=>xe.fromName(n.referenceValue))}class jA extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kp(n)&&El(n.arrayValue,this.value)}}class zA extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&El(this.value.arrayValue,n)}}class UA extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!El(this.value.arrayValue,n)}}class $A extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>El(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n=null,i=[],o=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=f,this.Te=null}}function Q0(t,e=null,n=[],i=[],o=null,a=null,c=null){return new BA(t,e,n,i,o,a,c)}function Wp(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Gd(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>zo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>zo(i)).join(",")),e.Te=n}return e.Te}function Yp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Cw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!H0(t.startAt,e.startAt)&&H0(t.endAt,e.endAt)}function Kd(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n=null,i=[],o=[],a=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qA(t,e,n,i,o,a,c,f){return new Xo(t,e,n,i,o,a,c,f)}function kw(t){return new Xo(t)}function G0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Nw(t){return t.collectionGroup!==null}function ll(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Tt(Bt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Tl(a,i))}),n.has(Bt.keyField().canonicalString())||e.Ie.push(new Tl(Bt.keyField(),i))}return e.Ie}function vr(t){const e=Fe(t);return e.Ee||(e.Ee=HA(e,ll(t))),e.Ee}function HA(t,e){if(t.limitType==="F")return Q0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Tl(o.field,a)});const n=t.endAt?new Lc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Lc(t.startAt.position,t.startAt.inclusive):null;return Q0(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Wd(t,e){const n=t.filters.concat([e]);return new Xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yd(t,e,n){return new Xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mh(t,e){return Yp(vr(t),vr(e))&&t.limitType===e.limitType}function Dw(t){return`${Wp(vr(t))}|lt:${t.limitType}`}function Io(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>Rw(o)).join(", ")}]`),dh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>zo(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>zo(o)).join(",")),`Target(${i})`}(vr(t))}; limitType=${t.limitType})`}function gh(t,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):xe.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(t,e)&&function(i,o){for(const a of ll(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(c,f,p){const m=q0(c,f,p);return c.inclusive?m<=0:m<0}(i.startAt,ll(i),o)||i.endAt&&!function(c,f,p){const m=q0(c,f,p);return c.inclusive?m>=0:m>0}(i.endAt,ll(i),o))}(t,e)}function QA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bw(t){return(e,n)=>{let i=!1;for(const o of ll(t)){const a=GA(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function GA(t,e,n){const i=t.field.isKeyField()?xe.comparator(e.key,n.key):function(a,c,f){const p=c.data.field(a),m=f.data.field(a);return p!==null&&m!==null?jo(p,m):Pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,(n,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return gw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=new ht(xe.comparator);function Vi(){return KA}const Vw=new ht(xe.comparator);function Xa(...t){let e=Vw;for(const n of t)e=e.insert(n.key,n);return e}function WA(t){let e=Vw;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ds(){return ul()}function Mw(){return ul()}function ul(){return new Cs(t=>t.toString(),(t,e)=>t.isEqual(e))}const YA=new Tt(xe.comparator);function Ue(...t){let e=YA;for(const n of t)e=e.add(n);return e}const XA=new Tt(Ve);function JA(){return XA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function Ow(t){return{integerValue:""+t}}function ZA(t,e){return AA(e)?Ow(e):Xp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this._=void 0}}function eC(t,e,n){return t instanceof Xd?function(o,a){const c={fields:{[_w]:{stringValue:vw},[Ew]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Gp(a)&&(a=ph(a)),a&&(c.fields[ww]=a),{mapValue:c}}(n,e):t instanceof Fc?Lw(t,e):t instanceof jc?Fw(t,e):function(o,a){const c=nC(o,a),f=K0(c)+K0(o.Ae);return Qd(c)&&Qd(o.Ae)?Ow(f):Xp(o.serializer,f)}(t,e)}function tC(t,e,n){return t instanceof Fc?Lw(t,e):t instanceof jc?Fw(t,e):n}function nC(t,e){return t instanceof Jd?function(i){return Qd(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Xd extends yh{}class Fc extends yh{constructor(e){super(),this.elements=e}}function Lw(t,e){const n=jw(e);for(const i of t.elements)n.some(o=>Sr(o,i))||n.push(i);return{arrayValue:{values:n}}}class jc extends yh{constructor(e){super(),this.elements=e}}function Fw(t,e){let n=jw(e);for(const i of t.elements)n=n.filter(o=>!Sr(o,i));return{arrayValue:{values:n}}}class Jd extends yh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function K0(t){return lt(t.integerValue||t.doubleValue)}function jw(t){return Kp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rC(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof Fc&&o instanceof Fc||i instanceof jc&&o instanceof jc?Fo(i.elements,o.elements,Sr):i instanceof Jd&&o instanceof Jd?Sr(i.Ae,o.Ae):i instanceof Xd&&o instanceof Xd}(t.transform,e.transform)}class ys{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ys}static exists(e){return new ys(void 0,e)}static updateTime(e){return new ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jp{}function zw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sC(t.key,ys.none()):new Zp(t.key,t.data,ys.none());{const n=t.data,i=mr.empty();let o=new Tt(Bt.comparator);for(let a of e.fields)if(!o.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new vh(t.key,i,new Ii(o.toArray()),ys.none())}}function iC(t,e,n){t instanceof Zp?function(o,a,c){const f=o.value.clone(),p=Y0(o.fieldTransforms,a,c.transformResults);f.setAll(p),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):t instanceof vh?function(o,a,c){if(!Ec(o.precondition,a))return void a.convertToUnknownDocument(c.version);const f=Y0(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(Uw(o)),p.setAll(f),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function cl(t,e,n,i){return t instanceof Zp?function(a,c,f,p){if(!Ec(a.precondition,c))return f;const m=a.value.clone(),v=X0(a.fieldTransforms,p,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof vh?function(a,c,f,p){if(!Ec(a.precondition,c))return f;const m=X0(a.fieldTransforms,p,c),v=c.data;return v.setAll(Uw(a)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(t,e,n,i):function(a,c,f){return Ec(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(t,e,n)}function W0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Fo(i,o,(a,c)=>rC(a,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zp extends Jp{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vh extends Jp{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Uw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Y0(t,e,n){const i=new Map;it(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const a=t[o],c=a.transform,f=e.data.field(a.field);i.set(a.field,tC(c,f,n[o]))}return i}function X0(t,e,n){const i=new Map;for(const o of t){const a=o.transform,c=n.data.field(o.field);i.set(o.field,eC(a,c,e))}return i}class sC extends Jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&iC(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=cl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=cl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Mw();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=n.has(o.key)?null:f;const p=zw(c,f);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(n,i)=>W0(n,i))&&Fo(this.baseMutations,e.baseMutations,(n,i)=>W0(n,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Oe;function $w(t){if(t===void 0)return Wr("GRPC error has no .code"),ae.UNKNOWN;switch(t){case pt.OK:return ae.OK;case pt.CANCELLED:return ae.CANCELLED;case pt.UNKNOWN:return ae.UNKNOWN;case pt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case pt.INTERNAL:return ae.INTERNAL;case pt.UNAVAILABLE:return ae.UNAVAILABLE;case pt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case pt.NOT_FOUND:return ae.NOT_FOUND;case pt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case pt.ABORTED:return ae.ABORTED;case pt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case pt.DATA_LOSS:return ae.DATA_LOSS;default:return Pe(39323,{code:t})}}(Oe=pt||(pt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new Pi([4294967295,4294967295],0);function J0(t){const e=uC().encode(t),n=new sw;return n.update(e),new Uint8Array(n.digest())}function Z0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Pi([n,i],0),new Pi([o,a],0)]}class em{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ja(`Invalid padding: ${n}`);if(i<0)throw new Ja(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ja(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ja(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Pi.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Pi.fromNumber(i)));return o.compare(cC)===1&&(o=new Pi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=J0(e),[i,o]=Z0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(i,o,a);if(!this.we(c))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new em(a,o,n);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.ge===0)return;const n=J0(e),[i,o]=Z0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(i,o,a);this.Se(c)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Ml.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new _h(Re.min(),o,new ht(Ve),Vi(),Ue())}}class Ml{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ml(i,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class Bw{constructor(e,n){this.targetId=e,this.Ce=n}}class qw{constructor(e,n,i=Mt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class ev{constructor(){this.ve=0,this.Fe=tv(),this.Me=Mt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),i=Ue();return this.Fe.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Pe(38017,{changeType:a})}}),new Ml(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=tv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vi(),this.Je=oc(),this.He=oc(),this.Ye=new ht(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const a=o.target;if(Kd(a))if(i===0){const c=new xe(a.path);this.et(n,c,$t.newNoDocument(c,Re.min()))}else it(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const f=this.ut(e),p=f?this.ct(f,e,c):1;if(p!==0){this.it(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let c,f;try{c=Di(i).toUint8Array()}catch(p){if(p instanceof yw)return Lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new em(c,o,a)}catch(p){return Lo(p instanceof Ja?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach(a=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.et(n,a,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((a,c)=>{const f=this.ot(c);if(f){if(a.current&&Kd(f.target)){const p=new xe(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,$t.newNoDocument(p,e))}a.Be&&(n.set(c,a.ke()),a.qe())}});let i=Ue();this.He.forEach((a,c)=>{let f=!0;c.forEachWhile(p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(a))}),this.je.forEach((a,c)=>c.setReadTime(e));const o=new _h(e,n,this.Ye,this.je,i);return this.je=Vi(),this.Je=oc(),this.He=oc(),this.Ye=new ht(Ve),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ev,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ev),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oc(){return new ht(xe.comparator)}function tv(){return new ht(xe.comparator)}const fC={asc:"ASCENDING",desc:"DESCENDING"},dC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pC={and:"AND",or:"OR"};class mC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zd(t,e){return t.useProto3Json||dh(e)?e:{value:e}}function ep(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function No(t){return it(!!t,49232),Re.fromTimestamp(function(n){const i=Ni(n);return new et(i.seconds,i.nanos)}(t))}function Qw(t,e){return tp(t,e).canonicalString()}function tp(t,e){const n=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Gw(t){const e=Ze.fromString(t);return it(Jw(e),10190,{key:e.toString()}),e}function md(t,e){const n=Gw(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(Ww(n))}function Kw(t,e){return Qw(t.databaseId,e)}function gC(t){const e=Gw(t);return e.length===4?Ze.emptyPath():Ww(e)}function nv(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ww(t){return it(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function yC(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Pe(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(it(v===void 0||typeof v=="string",58123),Mt.fromBase64String(v||"")):(it(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Mt.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const v=m.code===void 0?ae.UNKNOWN:$w(m.code);return new ye(v,m.message||"")}(c);n=new qw(i,o,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=md(t,i.document.name),a=No(i.document.updateTime),c=i.document.createTime?No(i.document.createTime):Re.min(),f=new mr({mapValue:{fields:i.document.fields}}),p=$t.newFoundDocument(o,a,c,f),m=i.targetIds||[],v=i.removedTargetIds||[];n=new Tc(m,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=md(t,i.document),a=i.readTime?No(i.readTime):Re.min(),c=$t.newNoDocument(o,a),f=i.removedTargetIds||[];n=new Tc([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=md(t,i.document),a=i.removedTargetIds||[];n=new Tc([],a,o,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new lC(o,a),f=i.targetId;n=new Bw(f,c)}}return n}function vC(t,e){return{documents:[Kw(t,e.path)]}}function _C(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Kw(t,o);const a=function(m){if(m.length!==0)return Xw(tr.create(m,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const c=function(m){if(m.length!==0)return m.map(v=>function(E){return{field:xo(E.field),direction:TC(E.dir)}}(v))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Zd(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:n,parent:o}}function wC(t){let e=gC(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){it(i===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=function(w){const E=Yw(w);return E instanceof tr&&Aw(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(w){return w.map(E=>function(P){return new Tl(Ao(P.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(E))}(n.orderBy));let f=null;n.limit&&(f=function(w){let E;return E=typeof w=="object"?w.value:w,dh(E)?null:E}(n.limit));let p=null;n.startAt&&(p=function(w){const E=!!w.before,I=w.values||[];return new Lc(I,E)}(n.startAt));let m=null;return n.endAt&&(m=function(w){const E=!w.before,I=w.values||[];return new Lc(I,E)}(n.endAt)),qA(e,o,c,a,f,"F",p,m)}function EC(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Yw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ao(n.unaryFilter.field);return mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Ao(n.unaryFilter.field);return mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ao(n.unaryFilter.field);return mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ao(n.unaryFilter.field);return mt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return mt.create(Ao(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(i=>Yw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(n.compositeFilter.op))}(t):Pe(30097,{filter:t})}function TC(t){return fC[t]}function SC(t){return dC[t]}function IC(t){return pC[t]}function xo(t){return{fieldPath:t.canonicalString()}}function Ao(t){return Bt.fromServerFormat(t.fieldPath)}function Xw(t){return t instanceof mt?function(n){if(n.op==="=="){if(B0(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NAN"}};if($0(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B0(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NAN"}};if($0(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(n.field),op:SC(n.op),value:n.value}}}(t):t instanceof tr?function(n){const i=n.getFilters().map(o=>Xw(o));return i.length===1?i[0]:{compositeFilter:{op:IC(n.op),filters:i}}}(t):Pe(54877,{filter:t})}function Jw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,i,o,a=Re.min(),c=Re.min(),f=Mt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.yt=e}}function AC(t){const e=wC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.Cn=new RC}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ki.min())}updateCollectionGroup(e,n,i){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class RC{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Tt(Ze.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Tt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zw=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(Zw,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Uo(0)}static cr(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="LruGarbageCollector",PC=1048576;function sv([t,e],[n,i]){const o=Ve(t,n);return o===0?Ve(e,i):o}class kC{constructor(e){this.Ir=e,this.buffer=new Tt(sv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();sv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NC{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(iv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wo(n)?me(iv,"Ignoring IndexedDB error during garbage collection: ",n):await hh(n)}await this.Vr(3e5)})}}class DC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return te.resolve(fh.ce);const i=new kC(n);return this.mr.forEachTarget(e,o=>i.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>i.Ar(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(rv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rv):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,a,c,f,p,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,f=Date.now(),this.removeTargets(e,i,n))).next(w=>(a=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(m=Date.now(),So()<=Le.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${a} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function bC(t,e){return new DC(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.changes=new Cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?te.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&cl(i.mutation,o,Ii.empty(),et.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ue()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ue()){const o=ds();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(a=>{let c=Xa();return a.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=ds();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ue()))}populateOverlays(e,n,i){const o=[];return i.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,i,o){let a=Vi();const c=ul(),f=function(){return ul()}();return n.forEach((p,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof vh)?a=a.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),cl(v.mutation,m,v.mutation.getFieldMask(),et.now())):c.set(m.key,Ii.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((m,v)=>c.set(m,v)),n.forEach((m,v)=>f.set(m,new MC(v,c.get(m)??null))),f))}recalculateAndSaveOverlays(e,n){const i=ul();let o=new ht((c,f)=>c-f),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(p=>{const m=n.get(p);if(m===null)return;let v=i.get(p)||Ii.empty();v=f.applyToLocalView(m,v),i.set(p,v);const w=(o.get(f.batchId)||Ue()).add(p);o=o.insert(f.batchId,w)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,v=p.value,w=Mw();v.forEach(E=>{if(!a.has(E)){const I=zw(n.get(E),i.get(E));I!==null&&w.set(E,I),a=a.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,w))}return te.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(c){return xe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Nw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):te.resolve(ds());let f=vl,p=a;return c.next(m=>te.forEach(m,(v,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),a.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{p=p.insert(v,E)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,p,m,Ue())).next(v=>({batchId:f,changes:WA(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(i=>{let o=Xa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let c=Xa();return this.indexManager.getCollectionParents(e,a).next(f=>te.forEach(f,p=>{const m=function(w,E){return new Xo(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(v=>{v.forEach((w,E)=>{c=c.insert(w,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o))).next(c=>{a.forEach((p,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,$t.newInvalidDocument(v)))});let f=Xa();return c.forEach((p,m)=>{const v=a.get(p);v!==void 0&&cl(v.mutation,m,Ii.empty(),et.now()),gh(n,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:No(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:AC(o.bundledQuery),readTime:No(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.overlays=new ht(xe.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ds();return te.forEach(n,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,a)=>{this.St(e,n,a)}),te.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(i)),te.resolve()}getOverlaysForCollection(e,n,i){const o=ds(),a=n.length+1,c=new xe(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new ht((m,v)=>m-v);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let v=a.get(m.largestBatchId);v===null&&(v=ds(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=ds(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=o)););return te.resolve(f)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new aC(n,i));let a=this.qr.get(n);a===void 0&&(a=Ue(),this.qr.set(n,a)),this.qr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this.Qr=new Tt(Pt.$r),this.Ur=new Tt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Pt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new xe(new Ze([])),i=new Pt(n,e),o=new Pt(n,e+1),a=[];return this.Ur.forEachInRange([i,o],c=>{this.Gr(c),a.push(c.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new Ze([])),i=new Pt(n,e),o=new Pt(n,e+1);let a=Ue();return this.Ur.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const n=new Pt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(Pt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new oC(a,n,i,o);this.mutationQueue.push(c);for(const f of o)this.Zr=this.Zr.add(new Pt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return te.resolve(c)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),a=o<0?0:o;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?xA:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,o],c=>{const f=this.Xr(c.Yr);a.push(f)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Tt(Ve);return n.forEach(o=>{const a=new Pt(o,0),c=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],f=>{i=i.add(f.Yr)})}),te.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;xe.isDocumentKey(a)||(a=a.child(""));const c=new Pt(new xe(a),0);let f=new Tt(Ve);return this.Zr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(f=f.add(p.Yr)),!0)},c),te.resolve(this.ti(f))}ti(e){const n=[];return e.forEach(i=>{const o=this.Xr(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){it(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return te.forEach(n.mutations,o=>{const a=new Pt(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new Pt(n,0),o=this.Zr.firstAfterOrEqual(i);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.ri=e,this.docs=function(){return new ht(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return te.resolve(i?i.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let i=Vi();return n.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():$t.newInvalidDocument(o))}),te.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=Vi();const c=n.path,f=new xe(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||EA(wA(v),i)<=0||(o.has(v.key)||gh(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,n,i,o){Pe(9500)}ii(e,n){return te.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new $C(this)}getSize(e){return te.resolve(this.size)}}class $C extends VC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)}),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.persistence=e,this.si=new Cs(n=>Wp(n),Yp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new tm,this.targetCount=0,this.ai=Uo.ur()}forEachTarget(e,n){return this.si.forEach((i,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.si.forEach((c,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),te.waitFor(a).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return te.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),te.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return te.resolve(i)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.ui={},this.overlays={},this.ci=new fh(0),this.li=!1,this.li=!0,this.hi=new jC,this.referenceDelegate=e(this),this.Pi=new BC(this),this.indexManager=new CC,this.remoteDocumentCache=function(o){return new UC(o)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new xC(n),this.Ii=new LC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new zC(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const o=new qC(this.ci.next());return this.referenceDelegate.Ei(),i(o).next(a=>this.referenceDelegate.di(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ai(e,n){return te.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class qC extends SA{constructor(e){super(),this.currentSequenceNumber=e}}class nm{constructor(e){this.persistence=e,this.Ri=new tm,this.Vi=null}static mi(e){return new nm(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),te.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(a=>this.fi.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,i=>{const o=xe.fromPath(i);return this.gi(e,o).next(a=>{a||n.removeEntry(o,Re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zc{constructor(e,n){this.persistence=e,this.pi=new Cs(i=>CA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=bC(this,n)}static mi(e,n){return new zc(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return te.forEach(this.pi,(i,o)=>this.br(e,i,o).next(a=>a?te.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,c=>this.br(e,c,n).next(f=>{f||(i++,a.removeEntry(c,Re.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wc(e.data.value)),n}br(e,n,i){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Ue(),o=Ue();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new rm(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return HI()?8:IA(BI())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.ys(e,n).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.ws(e,n,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new HC;return this.Ss(e,n,c).next(f=>{if(a.result=f,this.Vs)return this.bs(e,n,c,f.size)})}).next(()=>a.result)}bs(e,n,i,o){return i.documentReadCount<this.fs?(So()<=Le.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(So()<=Le.DEBUG&&me("QueryEngine","Query:",Io(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(So()<=Le.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):te.resolve())}ys(e,n){if(G0(n))return te.resolve(null);let i=vr(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Yd(n,null,"F"),i=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Ue(...a);return this.ps.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.Ds(n,f);return this.Cs(n,m,c,p.readTime)?this.ys(e,Yd(n,null,"F")):this.vs(e,m,n,p)}))})))}ws(e,n,i,o){return G0(n)||o.isEqual(Re.min())?te.resolve(null):this.ps.getDocuments(e,i).next(a=>{const c=this.Ds(n,a);return this.Cs(n,c,i,o)?te.resolve(null):(So()<=Le.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(n)),this.vs(e,c,n,_A(o,vl)).next(f=>f))})}Ds(e,n){let i=new Tt(bw(e));return n.forEach((o,a)=>{gh(e,a)&&(i=i.add(a))}),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,n,i){return So()<=Le.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Io(n)),this.ps.getDocumentsMatchingQuery(e,n,ki.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next(a=>(n.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="LocalStore",GC=3e8;class KC{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Ve),this.xs=new Cs(a=>Wp(a),Yp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function WC(t,e,n,i){return new KC(t,e,n,i)}async function t1(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],f=[];let p=Ue();for(const m of o){c.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of a){f.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(i,p).next(m=>({Ls:m,removedBatchIds:c,addedBatchIds:f}))})})}function n1(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function YC(t,e){const n=Fe(t),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const f=[];e.targetChanges.forEach((v,w)=>{const E=o.get(w);if(!E)return;f.push(n.Pi.removeMatchingKeys(a,v.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(a,v.addedDocuments,w)));let I=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(Mt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,i)),o=o.insert(w,I),function(L,k,H){return L.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=GC?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(E,I,v)&&f.push(n.Pi.updateTargetData(a,I))});let p=Vi(),m=Ue();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(XC(a,c,e.documentUpdates).next(v=>{p=v.ks,m=v.qs})),!i.isEqual(Re.min())){const v=n.Pi.getLastRemoteSnapshotVersion(a).next(w=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(v)}return te.waitFor(f).next(()=>c.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,p,m)).next(()=>p)}).then(a=>(n.Ms=o,a))}function XC(t,e,n){let i=Ue(),o=Ue();return n.forEach(a=>i=i.add(a)),e.getEntries(t,i).next(a=>{let c=Vi();return n.forEach((f,p)=>{const m=a.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):me(im,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{ks:c,qs:o}})}function JC(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Pi.getTargetData(i,e).next(a=>a?(o=a,te.resolve(o)):n.Pi.allocateTargetId(i).next(c=>(o=new xi(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function np(t,e,n){const i=Fe(t),o=i.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Wo(c))throw c;me(im,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function ov(t,e,n){const i=Fe(t);let o=Re.min(),a=Ue();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,v){const w=Fe(p),E=w.xs.get(v);return E!==void 0?te.resolve(w.Ms.get(E)):w.Pi.getTargetData(m,v)}(i,c,vr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next(p=>{a=p})}).next(()=>i.Fs.getDocumentsMatchingQuery(c,e,n?o:Re.min(),n?a:Ue())).next(f=>(ZC(i,QA(e),f),{documents:f,Qs:a})))}function ZC(t,e,n){let i=t.Os.get(e)||Re.min();n.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),t.Os.set(e,i)}class av{constructor(){this.activeTargetIds=JA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e2{constructor(){this.Mo=new av,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new av,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="ConnectivityMonitor";class uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(lv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(lv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function rp(){return ac===null?ac=function(){return 268435456+Math.round(2147483648*Math.random())}():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="RestConnection",n2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Mc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,a){const c=rp(),f=this.zo(e,n.toUriEncodedString());me(gd,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,a);const{host:m}=new URL(f),v=$p(m);return this.Jo(e,f,p,i,v).then(w=>(me(gd,`Received RPC '${e}' ${c}: `,w),w),w=>{throw Lo(gd,`RPC '${e}' ${c} failed with error: `,w,"url: ",f,"request:",i),w})}Ho(e,n,i,o,a,c){return this.Go(e,n,i,o,a)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}zo(e,n){const i=n2[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class s2 extends r2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,a){const c=rp();return new Promise((f,p)=>{const m=new ow;m.setWithCredentials(!0),m.listenOnce(aw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case _c.NO_ERROR:const w=m.getResponseJson();me(zt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case _c.TIMEOUT:me(zt,`RPC '${e}' ${c} timed out`),p(new ye(ae.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const E=m.getStatus();if(me(zt,`RPC '${e}' ${c} failed with status:`,E,"response text:",m.getResponseText()),E>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const P=I?.error;if(P&&P.status&&P.message){const L=function(H){const X=H.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(X)>=0?X:ae.UNKNOWN}(P.status);p(new ye(L,P.message))}else p(new ye(ae.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new ye(ae.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{me(zt,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(o);me(zt,`RPC '${e}' ${c} sending request:`,o),m.send(n,"POST",v,i,15)})}T_(e,n,i){const o=rp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=cw(),f=uw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const v=a.join("");me(zt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const w=c.createWebChannel(v,p);this.I_(w);let E=!1,I=!1;const P=new i2({Yo:k=>{I?me(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(E||(me(zt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),me(zt,`RPC '${e}' stream ${o} sending:`,k),w.send(k))},Zo:()=>w.close()}),L=(k,H,X)=>{k.listen(H,J=>{try{X(J)}catch(Z){setTimeout(()=>{throw Z},0)}})};return L(w,Ya.EventType.OPEN,()=>{I||(me(zt,`RPC '${e}' stream ${o} transport opened.`),P.o_())}),L(w,Ya.EventType.CLOSE,()=>{I||(I=!0,me(zt,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(w))}),L(w,Ya.EventType.ERROR,k=>{I||(I=!0,Lo(zt,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),P.a_(new ye(ae.UNAVAILABLE,"The operation could not be completed")))}),L(w,Ya.EventType.MESSAGE,k=>{if(!I){const H=k.data[0];it(!!H,16349);const X=H,J=X?.error||X[0]?.error;if(J){me(zt,`RPC '${e}' stream ${o} received error:`,J);const Z=J.status;let le=function(x){const A=pt[x];if(A!==void 0)return $w(A)}(Z),ce=J.message;le===void 0&&(le=ae.INTERNAL,ce="Unknown error status: "+Z+" with message "+J.message),I=!0,P.a_(new ye(le,ce)),w.close()}else me(zt,`RPC '${e}' stream ${o} received:`,H),P.u_(H)}}),L(f,lw.STAT_EVENT,k=>{k.stat===$d.PROXY?me(zt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===$d.NOPROXY&&me(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){return new mC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,i=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="PersistentStream";class o2{constructor(e,n,i,o,a,c,f,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new r1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.D_===n&&this.G_(i,o)},i=>{e(()=>{const o=new ye(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{i(()=>this.z_(o))}),this.stream.onMessage(o=>{i(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return me(cv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(me(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a2 extends o2{constructor(e,n,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,c),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yC(this.serializer,e),i=function(a){if(!("targetChange"in a))return Re.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?No(c.readTime):Re.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=nv(this.serializer),n.addTarget=function(a,c){let f;const p=c.target;if(f=Kd(p)?{documents:vC(a,p)}:{query:_C(a,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Hw(a,c.resumeToken);const m=Zd(a,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Re.min())>0){f.readTime=ep(a,c.snapshotVersion.toTimestamp());const m=Zd(a,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=EC(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=nv(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{}class u2 extends l2{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Go(e,tp(n,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(ae.UNKNOWN,a.toString())})}Ho(e,n,i,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Ho(e,tp(n,i),o,c,f,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(ae.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class c2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="RemoteStore";class h2{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(c=>{i.enqueueAndForget(async()=>{Ll(this)&&(me($o,"Restarting streams for network reachability change."),await async function(p){const m=Fe(p);m.Ea.add(4),await Ol(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Eh(m)}(this))})}),this.Ra=new c2(i,o)}}async function Eh(t){if(Ll(t))for(const e of t.da)await e(!0)}async function Ol(t){for(const e of t.da)await e(!1)}function i1(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),lm(n)?am(n):Jo(n).O_()&&om(n,e))}function sm(t,e){const n=Fe(t),i=Jo(n);n.Ia.delete(e),i.O_()&&s1(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ll(n)&&n.Ra.set("Unknown"))}function om(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(t).Y_(e)}function s1(t,e){t.Va.Ue(e),Jo(t).Z_(e)}function am(t){t.Va=new hC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Jo(t).start(),t.Ra.ua()}function lm(t){return Ll(t)&&!Jo(t).x_()&&t.Ia.size>0}function Ll(t){return Fe(t).Ea.size===0}function o1(t){t.Va=void 0}async function f2(t){t.Ra.set("Online")}async function d2(t){t.Ia.forEach((e,n)=>{om(t,e)})}async function p2(t,e){o1(t),lm(t)?(t.Ra.ha(e),am(t)):t.Ra.set("Unknown")}async function m2(t,e,n){if(t.Ra.set("Online"),e instanceof qw&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const f of a.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ia.delete(f),o.Va.removeTarget(f))}(t,e)}catch(i){me($o,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await hv(t,i)}else if(e instanceof Tc?t.Va.Ze(e):e instanceof Bw?t.Va.st(e):t.Va.tt(e),!n.isEqual(Re.min()))try{const i=await n1(t.localStore);n.compareTo(i)>=0&&await function(a,c){const f=a.Va.Tt(c);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=a.Ia.get(m);v&&a.Ia.set(m,v.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,m)=>{const v=a.Ia.get(p);if(!v)return;a.Ia.set(p,v.withResumeToken(Mt.EMPTY_BYTE_STRING,v.snapshotVersion)),s1(a,p);const w=new xi(v.target,p,m,v.sequenceNumber);om(a,w)}),a.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(i){me($o,"Failed to raise snapshot:",i),await hv(t,i)}}async function hv(t,e,n){if(!Wo(e))throw e;t.Ea.add(1),await Ol(t),t.Ra.set("Offline"),n||(n=()=>n1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me($o,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Eh(t)})}async function fv(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),me($o,"RemoteStore received new credentials");const i=Ll(n);n.Ea.add(3),await Ol(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Eh(n)}async function g2(t,e){const n=Fe(t);e?(n.Ea.delete(2),await Eh(n)):e||(n.Ea.add(2),await Ol(n),n.Ra.set("Unknown"))}function Jo(t){return t.ma||(t.ma=function(n,i,o){const a=Fe(n);return a.sa(),new a2(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{Xo:f2.bind(null,t),t_:d2.bind(null,t),r_:p2.bind(null,t),H_:m2.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),lm(t)?am(t):t.Ra.set("Unknown")):(await t.ma.stop(),o1(t))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const c=Date.now()+i,f=new um(e,n,c,o,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a1(t,e){if(Wr("AsyncQueue",`${e}: ${t}`),Wo(t))return new ye(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{static emptySet(e){return new Do(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||xe.comparator(n.key,i.key):(n,i)=>xe.comparator(n.key,i.key),this.keyedMap=Xa(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Do;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this.ga=new ht(xe.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class Bo{constructor(e,n,i,o,a,c,f,p,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,o,a){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new Bo(e,n,Do.emptySet(n),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class v2{constructor(){this.queries=pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Fe(n),a=o.queries;o.queries=pv(),a.forEach((c,f)=>{for(const p of f.Sa)p.onError(i)})})(this,new ye(ae.ABORTED,"Firestore shutting down"))}}function pv(){return new Cs(t=>Dw(t),mh)}async function _2(t,e){const n=Fe(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.ba()&&e.Da()&&(i=2):(a=new y2,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(o,!0);break;case 1:a.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const f=a1(c,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&cm(n)}async function w2(t,e){const n=Fe(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function E2(t,e){const n=Fe(t);let i=!1;for(const o of e){const a=o.query,c=n.queries.get(a);if(c){for(const f of c.Sa)f.Fa(o)&&(i=!0);c.wa=o}}i&&cm(n)}function T2(t,e,n){const i=Fe(t),o=i.queries.get(e);if(o)for(const a of o.Sa)a.onError(n);i.queries.delete(e)}function cm(t){t.Ca.forEach(e=>{e.next()})}var ip,mv;(mv=ip||(ip={})).Ma="default",mv.Cache="cache";class S2{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Bo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.key=e}}class u1{constructor(e){this.key=e}}class I2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=bw(e),this.tu=new Do(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new dv,o=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const E=o.get(v),I=gh(this.query,w)?w:null,P=!!E&&this.mutatedKeys.has(E.key),L=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let k=!1;E&&I?E.data.isEqual(I.data)?P!==L&&(i.track({type:3,doc:I}),k=!0):this.su(E,I)||(i.track({type:2,doc:I}),k=!0,(p&&this.eu(I,p)>0||m&&this.eu(I,m)<0)&&(f=!0)):!E&&I?(i.track({type:0,doc:I}),k=!0):E&&!I&&(i.track({type:1,doc:E}),k=!0,(p||m)&&(f=!0)),k&&(I?(c=c.add(I),a=L?a.add(v):a.delete(v)):(c=c.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:f,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((v,w)=>function(I,P){const L=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:k})}};return L(I)-L(P)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(i),o=o??!1;const f=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new Bo(this.query,e.tu,a,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new u1(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new l1(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hm="SyncEngine";class x2{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class A2{constructor(e){this.key=e,this.hu=!1}}class C2{constructor(e,n,i,o,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Cs(f=>Dw(f),mh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(xe.comparator),this.Au=new Map,this.Ru=new tm,this.Vu={},this.mu=new Map,this.fu=Uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R2(t,e,n=!0){const i=p1(t);let o;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await c1(i,e,n,!0),o}async function P2(t,e){const n=p1(t);await c1(n,e,!0,!1)}async function c1(t,e,n,i){const o=await JC(t.localStore,vr(e)),a=o.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let f;return i&&(f=await k2(t,e,a,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&i1(t.remoteStore,o),f}async function k2(t,e,n,i,o){t.pu=(w,E,I)=>async function(L,k,H,X){let J=k.view.ru(H);J.Cs&&(J=await ov(L.localStore,k.query,!1).then(({documents:D})=>k.view.ru(D,J)));const Z=X&&X.targetChanges.get(k.targetId),le=X&&X.targetMismatches.get(k.targetId)!=null,ce=k.view.applyChanges(J,L.isPrimaryClient,Z,le);return yv(L,k.targetId,ce.au),ce.snapshot}(t,w,E,I);const a=await ov(t.localStore,e,!0),c=new I2(e,a.Qs),f=c.ru(a.documents),p=Ml.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),m=c.applyChanges(f,t.isPrimaryClient,p);yv(t,n,m.au);const v=new x2(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function N2(t,e,n){const i=Fe(t),o=i.Tu.get(e),a=i.Iu.get(o.targetId);if(a.length>1)return i.Iu.set(o.targetId,a.filter(c=>!mh(c,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await np(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&sm(i.remoteStore,o.targetId),sp(i,o.targetId)}).catch(hh)):(sp(i,o.targetId),await np(i.localStore,o.targetId,!0))}async function D2(t,e){const n=Fe(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),sm(n.remoteStore,i.targetId))}async function h1(t,e){const n=Fe(t);try{const i=await YC(n.localStore,e);e.targetChanges.forEach((o,a)=>{const c=n.Au.get(a);c&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?it(c.hu,14607):o.removedDocuments.size>0&&(it(c.hu,42227),c.hu=!1))}),await d1(n,i,e)}catch(i){await hh(i)}}function gv(t,e,n){const i=Fe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach((a,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const p=Fe(c);p.onlineState=f;let m=!1;p.queries.forEach((v,w)=>{for(const E of w.Sa)E.va(f)&&(m=!0)}),m&&cm(p)}(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function b2(t,e,n){const i=Fe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),a=o&&o.key;if(a){let c=new ht(xe.comparator);c=c.insert(a,$t.newNoDocument(a,Re.min()));const f=Ue().add(a),p=new _h(Re.min(),new Map,new ht(Ve),c,f);await h1(i,p),i.du=i.du.remove(a),i.Au.delete(e),fm(i)}else await np(i.localStore,e,!1).then(()=>sp(i,e,n)).catch(hh)}function sp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||f1(t,i)})}function f1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(sm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),fm(t))}function yv(t,e,n){for(const i of n)i instanceof l1?(t.Ru.addReference(i.key,e),V2(t,i)):i instanceof u1?(me(hm,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||f1(t,i.key)):Pe(19791,{wu:i})}function V2(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(me(hm,"New document in limbo: "+n),t.Eu.add(i),fm(t))}function fm(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(Ze.fromString(e)),i=t.fu.next();t.Au.set(i,new A2(n)),t.du=t.du.insert(n,i),i1(t.remoteStore,new xi(vr(kw(n.path)),i,"TargetPurposeLimboResolution",fh.ce))}}async function d1(t,e,n){const i=Fe(t),o=[],a=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach((f,p)=>{c.push(i.pu(p,e,n).then(m=>{if((m||n)&&i.isPrimaryClient){const v=m?!m.fromCache:n?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(m){o.push(m);const v=rm.As(p.targetId,m);a.push(v)}}))}),await Promise.all(c),i.Pu.H_(o),await async function(p,m){const v=Fe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(m,E=>te.forEach(E.Es,I=>v.persistence.referenceDelegate.addReference(w,E.targetId,I)).next(()=>te.forEach(E.ds,I=>v.persistence.referenceDelegate.removeReference(w,E.targetId,I)))))}catch(w){if(!Wo(w))throw w;me(im,"Failed to update sequence numbers: "+w)}for(const w of m){const E=w.targetId;if(!w.fromCache){const I=v.Ms.get(E),P=I.snapshotVersion,L=I.withLastLimboFreeSnapshotVersion(P);v.Ms=v.Ms.insert(E,L)}}}(i.localStore,a))}async function M2(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){me(hm,"User change. New user:",e.toKey());const i=await t1(n.localStore,e);n.currentUser=e,function(a,c){a.mu.forEach(f=>{f.forEach(p=>{p.reject(new ye(ae.CANCELLED,c))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await d1(n,i.Ls)}}function O2(t,e){const n=Fe(t),i=n.Au.get(e);if(i&&i.hu)return Ue().add(i.key);{let o=Ue();const a=n.Iu.get(e);if(!a)return o;for(const c of a){const f=n.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function p1(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=h1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b2.bind(null,e),e.Pu.H_=E2.bind(null,e.eventManager),e.Pu.yu=T2.bind(null,e.eventManager),e}class Uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return WC(this.persistence,new QC,e.initialUser,this.serializer)}Cu(e){return new e1(nm.mi,this.serializer)}Du(e){return new e2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uc.provider={build:()=>new Uc};class L2 extends Uc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){it(this.persistence.referenceDelegate instanceof zc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new NC(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new e1(i=>zc.mi(i,n),this.serializer)}}class op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>gv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=M2.bind(null,this.syncEngine),await g2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new v2}()}createDatastore(e){const n=wh(e.databaseInfo.databaseId),i=function(a){return new s2(a)}(e.databaseInfo);return function(a,c,f,p){return new u2(a,c,f,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,a,c,f){return new h2(i,o,a,c,f)}(this.localStore,this.datastore,e.asyncQueue,n=>gv(this.syncEngine,n,0),function(){return uv.v()?new uv:new t2}())}createSyncEngine(e,n){return function(o,a,c,f,p,m,v){const w=new C2(o,a,c,f,p,m);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const i=Fe(n);me($o,"RemoteStore shutting down."),i.Ea.add(5),await Ol(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}op.provider={build:()=>new op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="FirestoreClient";class j2{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Ut.UNAUTHENTICATED,this.clientId=dw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{me(Mi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(me(Mi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=a1(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function vd(t,e){t.asyncQueue.verifyOperationInProgress(),me(Mi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await t1(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function vv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await z2(t);me(Mi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>fv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>fv(e.remoteStore,o)),t._onlineComponents=e}async function z2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Mi,"Using user provided OfflineComponentProvider");try{await vd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Lo("Error using user provided cache. Falling back to memory cache: "+n),await vd(t,new Uc)}}else me(Mi,"Using default OfflineComponentProvider"),await vd(t,new L2(void 0));return t._offlineComponents}async function U2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Mi,"Using user provided OnlineComponentProvider"),await vv(t,t._uninitializedComponentsProvider._online)):(me(Mi,"Using default OnlineComponentProvider"),await vv(t,new op))),t._onlineComponents}async function $2(t){const e=await U2(t),n=e.eventManager;return n.onListen=R2.bind(null,e.syncEngine),n.onUnlisten=N2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=D2.bind(null,e.syncEngine),n}function B2(t,e,n={}){const i=new gs;return t.asyncQueue.enqueueAndForget(async()=>function(a,c,f,p,m){const v=new F2({next:E=>{v.Nu(),c.enqueueAndForget(()=>w2(a,w)),E.fromCache&&p.source==="server"?m.reject(new ye(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new S2(f,v,{includeMetadataChanges:!0,qa:!0});return _2(a,w)}(await $2(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="firestore.googleapis.com",wv=!0;class Ev{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g1,this.ssl=wv}else this.host=e.host,this.ssl=e.ssl??wv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PC)throw new ye(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m1(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dm{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new lA;switch(i.type){case"firstParty":return new fA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=_v.get(n);i&&(me("ComponentProvider","Removing Datastore"),_v.delete(n),i.terminate())}(this),Promise.resolve()}}function q2(t,e,n,i={}){t=qd(t,dm);const o=$p(e),a=t._getSettings(),c={...a,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;o&&(FI(`https://${f}`),$I("Firestore",!0)),a.host!==g1&&a.host!==f&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:f,ssl:o,emulatorOptions:i};if(!gl(p,c)&&(t._setSettings(p),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=Ut.MOCK_USER;else{m=jI(i.mockUserToken,t._app?.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new ye(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ut(w)}t._authCredentials=new uA(new fw(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class Wt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Vl(n,Wt._jsonSchema))return new Wt(e,i||null,new xe(Ze.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:gt("string",Wt._jsonSchemaVersion),referencePath:gt("string")};class bo extends Rs{constructor(e,n,i){super(e,n,kw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new xe(e))}withConverter(e){return new bo(this.firestore,e,this._path)}}function H2(t,e,...n){if(t=_s(t),t instanceof dm){const i=Ze.fromString(e,...n);return b0(i),new bo(t,null,i)}{if(!(t instanceof Wt||t instanceof bo))throw new ye(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ze.fromString(e,...n));return b0(i),new bo(t.firestore,null,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="AsyncQueue";class Sv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new r1(this,"async_queue_retry"),this._c=()=>{const i=yd();i&&me(Tv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=yd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new gs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wo(e))throw e;me(Tv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Wr("INTERNAL UNHANDLED ERROR: ",Iv(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=um.createAndSchedule(this,e,n,i,a=>this.hc(a));return this.tc.push(o),o}uc(){this.nc&&Pe(47125,{Pc:Iv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Iv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class y1 extends dm{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new Sv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sv(e),this._firestoreClient=void 0,await e}}}function Q2(t,e){const n=typeof t=="object"?t:Hp(),i=typeof t=="string"?t:Mc,o=As(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=LI("firestore");a&&q2(o,...a)}return o}function G2(t){if(t._terminated)throw new ye(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||K2(t),t._firestoreClient}function K2(t){const e=t._freezeSettings(),n=function(o,a,c,f){return new kA(o,a,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,m1(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new j2(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Mt.fromBase64String(e))}catch(n){throw new ye(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nn(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vl(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:gt("string",Nn._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(Vl(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:gt("string",_r._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vl(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new wr(e.vectorValues);throw new ye(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:gt("string",wr._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=/^__.*__$/;function w1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:t})}}class pm{constructor(e,n,i,o,a,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ap(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(w1(this.Ac)&&W2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Y2{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||wh(e)}Cc(e,n,i,o=!1){return new pm({Ac:e,methodName:n,Dc:i,path:Bt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function X2(t){const e=t._freezeSettings(),n=wh(t._databaseId);return new Y2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function J2(t,e,n,i=!1){return mm(n,t.Cc(i?4:3,e))}function mm(t,e){if(E1(t=_s(t)))return eR("Unsupported field value:",e,t),Z2(t,e);if(t instanceof _1)return function(i,o){if(!w1(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const f of i){let p=mm(f,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(t,e)}return function(i,o){if((i=_s(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=et.fromDate(i);return{timestampValue:ep(o.serializer,a)}}if(i instanceof et){const a=new et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ep(o.serializer,a)}}if(i instanceof _r)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Nn)return{bytesValue:Hw(o.serializer,i._byteString)};if(i instanceof Wt){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Qw(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof wr)return function(c,f){return{mapValue:{fields:{[Tw]:{stringValue:Sw},[Oc]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.Sc("VectorValues must only contain numeric values.");return Xp(f.serializer,m)})}}}}}}(i,o);throw o.Sc(`Unsupported field value: ${ch(i)}`)}(t,e)}function Z2(t,e){const n={};return gw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(t,(i,o)=>{const a=mm(o,e.mc(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function E1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof _r||t instanceof Nn||t instanceof Wt||t instanceof _1||t instanceof wr)}function eR(t,e,n){if(!E1(n)||!pw(n)){const i=ch(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}const tR=new RegExp("[~\\*/\\[\\]]");function nR(t,e,n){if(e.search(tR)>=0)throw ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new v1(...e.split("."))._internalPath}catch{throw ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ap(t,e,n,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ye(ae.INVALID_ARGUMENT,f+t+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rR extends T1{data(){return super.data()}}function gm(t,e){return typeof e=="string"?nR(t,e):e instanceof v1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ym{}class S1 extends ym{}function sR(t,e,...n){let i=[];e instanceof ym&&i.push(e),i=i.concat(n),function(a){const c=a.filter(p=>p instanceof _m).length,f=a.filter(p=>p instanceof vm).length;if(c>1||c>0&&f>0)throw new ye(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)t=o._apply(t);return t}class vm extends S1{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new vm(e,n,i)}_apply(e){const n=this._parse(e);return I1(e._query,n),new Rs(e.firestore,e.converter,Wd(e._query,n))}_parse(e){const n=X2(e.firestore);return function(a,c,f,p,m,v,w){let E;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ye(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Av(w,v);const P=[];for(const L of w)P.push(xv(p,a,L));E={arrayValue:{values:P}}}else E=xv(p,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Av(w,v),E=J2(f,c,w,v==="in"||v==="not-in");return mt.create(m,v,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class _m extends ym{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _m(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,a){let c=o;const f=a.getFlattenedFilters();for(const p of f)I1(c,p),c=Wd(c,p)}(e._query,n),new Rs(e.firestore,e.converter,Wd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wm extends S1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wm(e,n)}_apply(e){const n=function(o,a,c){if(o.startAt!==null)throw new ye(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ye(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tl(a,c)}(e._query,this._field,this._direction);return new Rs(e.firestore,e.converter,function(o,a){const c=o.explicitOrderBy.concat([a]);return new Xo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function oR(t,e="asc"){const n=e,i=gm("orderBy",t);return wm._create(i,n)}function xv(t,e,n){if(typeof(n=_s(n))=="string"){if(n==="")throw new ye(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nw(e)&&n.indexOf("/")!==-1)throw new ye(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ze.fromString(n));if(!xe.isDocumentKey(i))throw new ye(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return U0(t,new xe(i))}if(n instanceof Wt)return U0(t,n._key);throw new ye(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(n)}.`)}function Av(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function I1(t,e){const n=function(o,a){for(const c of o)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ye(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aR{convertValue(e,n="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Yo(e,(o,a)=>{i[o]=this.convertValue(a,n)}),i}convertVectorValue(e){const n=e.fields?.[Oc].arrayValue?.values?.map(i=>lt(i.doubleValue));return new wr(n)}convertGeoPoint(e){return new _r(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ph(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const n=Ni(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ze.fromString(e);it(Jw(i),9688,{name:e});const o=new wl(i.get(1),i.get(3)),a=new xe(i.popFirst(5));return o.isEqual(n)||Wr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}class lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vo extends T1{constructor(e,n,i,o,a,c){super(e,n,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(gm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Vo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vo._jsonSchema={type:gt("string",Vo._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class Sc extends Vo{data(e={}){return super.data(e)}}class Mo{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new lc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Sc(this._firestore,this._userDataWriter,i.key,i,new lc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const p=new Sc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new lc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const p=new Sc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new lc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:lR(f.type),doc:p,oldIndex:m,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:t})}}Mo._jsonSchemaVersion="firestore/querySnapshot/1.0",Mo._jsonSchema={type:gt("string",Mo._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class uR extends aR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function cR(t){t=qd(t,Rs);const e=qd(t.firestore,y1),n=G2(e),i=new uR(e);return iR(t._query),B2(n,t._query).then(o=>new Mo(e,i,t,o))}(function(e,n=!0){(function(o){Ko=o})(Xx),Tr(new er("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),f=new y1(new cA(i.getProvider("auth-internal")),new dA(c,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ye(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(m.options.projectId,v)}(c,o),c);return a={useFetchStreams:n,...a},f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),Zn(P0,k0,e),Zn(P0,k0,"esm2020")})();var hR="firebase",fR="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(hR,fR,"app");const x1="@firebase/installations",Em="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=1e4,C1=`w:${Em}`,R1="FIS_v2",dR="https://firebaseinstallations.googleapis.com/v1",pR=3600*1e3,mR="installations",gR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Es=new bl(mR,gR,yR);function P1(t){return t instanceof Oi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1({projectId:t}){return`${dR}/projects/${t}/installations`}function N1(t){return{token:t.token,requestStatus:2,expiresIn:_R(t.expiresIn),creationTime:Date.now()}}async function D1(t,e){const i=(await e.json()).error;return Es.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function b1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function vR(t,{refreshToken:e}){const n=b1(t);return n.append("Authorization",wR(e)),n}async function V1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function _R(t){return Number(t.replace("s","000"))}function wR(t){return`${R1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=k1(t),o=b1(t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const c={fid:n,authVersion:R1,appId:t.appId,sdkVersion:C1},f={method:"POST",headers:o,body:JSON.stringify(c)},p=await V1(()=>fetch(i,f));if(p.ok){const m=await p.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:N1(m.authToken)}}else throw await D1("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=/^[cdef][\w-]{21}$/,lp="";function IR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=xR(t);return SR.test(n)?n:lp}catch{return lp}}function xR(t){return TR(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new Map;function L1(t,e){const n=Th(t);F1(n,e),AR(n,e)}function F1(t,e){const n=O1.get(t);if(n)for(const i of n)i(e)}function AR(t,e){const n=CR();n&&n.postMessage({key:t,fid:e}),RR()}let ps=null;function CR(){return!ps&&"BroadcastChannel"in self&&(ps=new BroadcastChannel("[Firebase] FID Change"),ps.onmessage=t=>{F1(t.data.key,t.data.fid)}),ps}function RR(){O1.size===0&&ps&&(ps.close(),ps=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="firebase-installations-database",kR=1,Ts="firebase-installations-store";let _d=null;function Tm(){return _d||(_d=tw(PR,kR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ts)}}})),_d}async function $c(t,e){const n=Th(t),o=(await Tm()).transaction(Ts,"readwrite"),a=o.objectStore(Ts),c=await a.get(n);return await a.put(e,n),await o.done,(!c||c.fid!==e.fid)&&L1(t,e.fid),e}async function j1(t){const e=Th(t),i=(await Tm()).transaction(Ts,"readwrite");await i.objectStore(Ts).delete(e),await i.done}async function Sh(t,e){const n=Th(t),o=(await Tm()).transaction(Ts,"readwrite"),a=o.objectStore(Ts),c=await a.get(n),f=e(c);return f===void 0?await a.delete(n):await a.put(f,n),await o.done,f&&(!c||c.fid!==f.fid)&&L1(t,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sm(t){let e;const n=await Sh(t.appConfig,i=>{const o=NR(i),a=DR(t,o);return e=a.registrationPromise,a.installationEntry});return n.fid===lp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function NR(t){const e=t||{fid:IR(),registrationStatus:0};return z1(e)}function DR(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Es.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=bR(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:VR(t)}:{installationEntry:e}}async function bR(t,e){try{const n=await ER(t,e);return $c(t.appConfig,n)}catch(n){throw P1(n)&&n.customData.serverCode===409?await j1(t.appConfig):await $c(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function VR(t){let e=await Cv(t.appConfig);for(;e.registrationStatus===1;)await M1(100),e=await Cv(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Sm(t);return i||n}return e}function Cv(t){return Sh(t,e=>{if(!e)throw Es.create("installation-not-found");return z1(e)})}function z1(t){return MR(t)?{fid:t.fid,registrationStatus:0}:t}function MR(t){return t.registrationStatus===1&&t.registrationTime+A1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR({appConfig:t,heartbeatServiceProvider:e},n){const i=LR(t,n),o=vR(t,n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const c={installation:{sdkVersion:C1,appId:t.appId}},f={method:"POST",headers:o,body:JSON.stringify(c)},p=await V1(()=>fetch(i,f));if(p.ok){const m=await p.json();return N1(m)}else throw await D1("Generate Auth Token",p)}function LR(t,{fid:e}){return`${k1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Im(t,e=!1){let n;const i=await Sh(t.appConfig,a=>{if(!U1(a))throw Es.create("not-registered");const c=a.authToken;if(!e&&zR(c))return a;if(c.requestStatus===1)return n=FR(t,e),a;{if(!navigator.onLine)throw Es.create("app-offline");const f=$R(a);return n=jR(t,f),f}});return n?await n:i.authToken}async function FR(t,e){let n=await Rv(t.appConfig);for(;n.authToken.requestStatus===1;)await M1(100),n=await Rv(t.appConfig);const i=n.authToken;return i.requestStatus===0?Im(t,e):i}function Rv(t){return Sh(t,e=>{if(!U1(e))throw Es.create("not-registered");const n=e.authToken;return BR(n)?{...e,authToken:{requestStatus:0}}:e})}async function jR(t,e){try{const n=await OR(t,e),i={...e,authToken:n};return await $c(t.appConfig,i),n}catch(n){if(P1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await j1(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await $c(t.appConfig,i)}throw n}}function U1(t){return t!==void 0&&t.registrationStatus===2}function zR(t){return t.requestStatus===2&&!UR(t)}function UR(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+pR}function $R(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function BR(t){return t.requestStatus===1&&t.requestTime+A1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(t){const e=t,{installationEntry:n,registrationPromise:i}=await Sm(e);return i?i.catch(console.error):Im(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(t,e=!1){const n=t;return await QR(n),(await Im(n,e)).token}async function QR(t){const{registrationPromise:e}=await Sm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){if(!t||!t.options)throw wd("App Configuration");if(!t.name)throw wd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw wd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function wd(t){return Es.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="installations",KR="installations-internal",WR=t=>{const e=t.getProvider("app").getImmediate(),n=GR(e),i=As(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},YR=t=>{const e=t.getProvider("app").getImmediate(),n=As(e,$1).getImmediate();return{getId:()=>qR(n),getToken:o=>HR(n,o)}};function XR(){Tr(new er($1,WR,"PUBLIC")),Tr(new er(KR,YR,"PRIVATE"))}XR();Zn(x1,Em);Zn(x1,Em,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc="analytics",JR="firebase_id",ZR="origin",eP=60*1e3,tP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new uh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_n=new bl("analytics","Analytics",nP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t){if(!t.startsWith(xm)){const e=_n.create("invalid-gtag-resource",{gtagURL:t});return ln.warn(e.message),""}return t}function B1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function iP(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function sP(t,e){const n=iP("firebase-js-sdk-policy",{createScriptURL:rP}),i=document.createElement("script"),o=`${xm}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function oP(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function aP(t,e,n,i,o,a){const c=i[o];try{if(c)await e[c];else{const p=(await B1(n)).find(m=>m.measurementId===o);p&&await e[p.appId]}}catch(f){ln.error(f)}t("config",o,a)}async function lP(t,e,n,i,o){try{let a=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const f=await B1(n);for(const p of c){const m=f.find(w=>w.measurementId===p),v=m&&e[m.appId];if(v)a.push(v);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",i,o||{})}catch(a){ln.error(a)}}function uP(t,e,n,i){async function o(a,...c){try{if(a==="event"){const[f,p]=c;await lP(t,e,n,f,p)}else if(a==="config"){const[f,p]=c;await aP(t,e,n,i,f,p)}else if(a==="consent"){const[f,p]=c;t("consent",f,p)}else if(a==="get"){const[f,p,m]=c;t("get",f,p,m)}else if(a==="set"){const[f]=c;t("set",f)}else t(a,...c)}catch(f){ln.error(f)}}return o}function cP(t,e,n,i,o){let a=function(...c){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=uP(a,t,e,n),{gtagCore:a,wrappedGtag:window[o]}}function hP(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(xm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=30,dP=1e3;class pP{constructor(e={},n=dP){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const q1=new pP;function mP(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function gP(t){const{appId:e,apiKey:n}=t,i={method:"GET",headers:mP(n)},o=tP.replace("{app-id}",e),a=await fetch(o,i);if(a.status!==200&&a.status!==304){let c="";try{const f=await a.json();f.error?.message&&(c=f.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c})}return a.json()}async function yP(t,e=q1,n){const{appId:i,apiKey:o,measurementId:a}=t.options;if(!i)throw _n.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw _n.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new wP;return setTimeout(async()=>{f.abort()},eP),H1({appId:i,apiKey:o,measurementId:a},c,f,e)}async function H1(t,{throttleEndTimeMillis:e,backoffCount:n},i,o=q1){const{appId:a,measurementId:c}=t;try{await vP(i,e)}catch(f){if(c)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:a,measurementId:c};throw f}try{const f=await gP(t);return o.deleteThrottleMetadata(a),f}catch(f){const p=f;if(!_P(p)){if(o.deleteThrottleMetadata(a),c)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:a,measurementId:c};throw f}const m=Number(p?.customData?.httpStatus)===503?Od(n,o.intervalMillis,fP):Od(n,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return o.setThrottleMetadata(a,v),ln.debug(`Calling attemptFetch again in ${m} millis`),H1(t,v,i,o)}}function vP(t,e){return new Promise((n,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(a),i(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _P(t){if(!(t instanceof Oi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class wP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function EP(t,e,n,i,o){if(o&&o.global){t("event",n,i);return}else{const a=await e,c={...i,send_to:a};t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(){if(Dl())try{await Bp()}catch(t){return ln.warn(_n.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return ln.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SP(t,e,n,i,o,a,c){const f=yP(t);f.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>ln.error(E)),e.push(f);const p=TP().then(E=>{if(E)return i.getId()}),[m,v]=await Promise.all([f,p]);hP(a)||sP(a,m.measurementId),o("js",new Date);const w=c?.config??{};return w[ZR]="firebase",w.update=!0,v!=null&&(w[JR]=v),o("config",m.measurementId,w),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.app=e}_delete(){return delete hl[this.app.options.appId],Promise.resolve()}}let hl={},Pv=[];const kv={};let Ed="dataLayer",xP="gtag",Nv,Q1,Dv=!1;function AP(){const t=[];if(X_()&&t.push("This is a browser extension environment."),J_()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,o)=>`(${o+1}) ${i}`).join(" "),n=_n.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function CP(t,e,n){AP();const i=t.options.appId;if(!i)throw _n.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _n.create("no-api-key");if(hl[i]!=null)throw _n.create("already-exists",{id:i});if(!Dv){oP(Ed);const{wrappedGtag:a,gtagCore:c}=cP(hl,Pv,kv,Ed,xP);Q1=a,Nv=c,Dv=!0}return hl[i]=SP(t,Pv,kv,e,Nv,Ed,n),new IP(t)}function RP(t=Hp()){t=_s(t);const e=As(t,Bc);return e.isInitialized()?e.getImmediate():PP(t)}function PP(t,e={}){const n=As(t,Bc);if(n.isInitialized()){const o=n.getImmediate();if(gl(e,n.getOptions()))return o;throw _n.create("already-initialized")}return n.initialize({options:e})}async function kP(){if(X_()||!J_()||!Dl())return!1;try{return await Bp()}catch{return!1}}function NP(t,e,n,i){t=_s(t),EP(Q1,hl[t.app.options.appId],e,n,i).catch(o=>ln.error(o))}const bv="@firebase/analytics",Vv="0.10.18";function DP(){Tr(new er(Bc,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return CP(i,o,n)},"PUBLIC")),Tr(new er("analytics-internal",t,"PRIVATE")),Zn(bv,Vv),Zn(bv,Vv,"esm2020");function t(e){try{const n=e.getProvider(Bc).getImmediate();return{logEvent:(i,o,a)=>NP(n,i,o,a)}}catch(n){throw _n.create("interop-component-reg-failed",{reason:n})}}}DP();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=new Map,G1={activated:!1,tokenObservers:[]},bP={initialized:!1,enabled:!1};function St(t){return up.get(t)||{...G1}}function VP(t,e){return up.set(t,e),up.get(t)}function Ih(){return bP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="https://content-firebaseappcheck.googleapis.com/v1",MP="exchangeRecaptchaV3Token",OP="exchangeDebugToken",Mv={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},LP=1440*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n,i,o,a){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=o,o>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new ml,this.pending.promise.catch(n=>{}),await jP(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new ml,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function jP(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},on=new bl("appCheck","AppCheck",zP);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t=!1){return t?self.grecaptcha?.enterprise:self.grecaptcha}function Am(t){if(!St(t).activated)throw on.create("use-before-activation",{appName:t.name})}function W1(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),i=Math.floor((e-n*3600*24)/3600),o=Math.floor((e-n*3600*24-i*3600)/60),a=e-n*3600*24-i*3600-o*60;let c="";return n&&(c+=uc(n)+"d:"),i&&(c+=uc(i)+"h:"),c+=uc(o)+"m:"+uc(a)+"s",c}function uc(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cm({url:t,body:e},n){const i={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){const w=await o.getHeartbeatsHeader();w&&(i["X-Firebase-Client"]=w)}const a={method:"POST",body:JSON.stringify(e),headers:i};let c;try{c=await fetch(t,a)}catch(w){throw on.create("fetch-network-error",{originalErrorMessage:w?.message})}if(c.status!==200)throw on.create("fetch-status-error",{httpStatus:c.status});let f;try{f=await c.json()}catch(w){throw on.create("fetch-parse-error",{originalErrorMessage:w?.message})}const p=f.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw on.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const m=Number(p[1])*1e3,v=Date.now();return{token:f.token,expireTimeMillis:v+m,issuedAtTimeMillis:v}}function UP(t,e){const{projectId:n,appId:i,apiKey:o}=t.options;return{url:`${K1}/projects/${n}/apps/${i}:${MP}?key=${o}`,body:{recaptcha_v3_token:e}}}function Y1(t,e){const{projectId:n,appId:i,apiKey:o}=t.options;return{url:`${K1}/projects/${n}/apps/${i}:${OP}?key=${o}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="firebase-app-check-database",BP=1,Sl="firebase-app-check-store",X1="debug-token";let cc=null;function J1(){return cc||(cc=new Promise((t,e)=>{try{const n=indexedDB.open($P,BP);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{e(on.create("storage-open",{originalErrorMessage:i.target.error?.message}))},n.onupgradeneeded=i=>{const o=i.target.result;switch(i.oldVersion){case 0:o.createObjectStore(Sl,{keyPath:"compositeKey"})}}}catch(n){e(on.create("storage-open",{originalErrorMessage:n?.message}))}}),cc)}function qP(t){return eE(tE(t))}function HP(t,e){return Z1(tE(t),e)}function QP(t){return Z1(X1,t)}function GP(){return eE(X1)}async function Z1(t,e){const i=(await J1()).transaction(Sl,"readwrite"),a=i.objectStore(Sl).put({compositeKey:t,value:e});return new Promise((c,f)=>{a.onsuccess=p=>{c()},i.onerror=p=>{f(on.create("storage-set",{originalErrorMessage:p.target.error?.message}))}})}async function eE(t){const n=(await J1()).transaction(Sl,"readonly"),o=n.objectStore(Sl).get(t);return new Promise((a,c)=>{o.onsuccess=f=>{const p=f.target.result;a(p?p.value:void 0)},n.onerror=f=>{c(on.create("storage-get",{originalErrorMessage:f.target.error?.message}))}})}function tE(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new uh("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(t){if(Dl()){let e;try{e=await qP(t)}catch(n){Ai.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function Td(t,e){return Dl()?HP(t,e).catch(n=>{Ai.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function WP(){let t;try{t=await GP()}catch{}if(t)return t;{const e=crypto.randomUUID();return QP(e).catch(n=>Ai.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(){return Ih().enabled}async function Pm(){const t=Ih();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function YP(){const t=W_(),e=Ih();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new ml;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(WP())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP={error:"UNKNOWN_ERROR"};function JP(t){return zp.encodeString(JSON.stringify(t),!1)}async function cp(t,e=!1,n=!1){const i=t.app;Am(i);const o=St(i);let a=o.token,c;if(a&&!Ro(a)&&(o.token=void 0,a=void 0),!a){const m=await o.cachedTokenPromise;m&&(Ro(m)?a=m:await Td(i,void 0))}if(!e&&a&&Ro(a))return{token:a.token};let f=!1;if(Rm())try{o.exchangeTokenPromise||(o.exchangeTokenPromise=Cm(Y1(i,await Pm()),t.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),f=!0);const m=await o.exchangeTokenPromise;return await Td(i,m),o.token=m,{token:m.token}}catch(m){return m.code==="appCheck/throttled"||m.code==="appCheck/initial-throttle"?Ai.warn(m.message):n&&Ai.error(m),Sd(m)}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),f=!0),a=await St(i).exchangeTokenPromise}catch(m){m.code==="appCheck/throttled"||m.code==="appCheck/initial-throttle"?Ai.warn(m.message):n&&Ai.error(m),c=m}let p;return a?c?Ro(a)?p={token:a.token,internalError:c}:p=Sd(c):(p={token:a.token},o.token=a,await Td(i,a)):p=Sd(c),f&&iE(i,p),p}async function ZP(t){const e=t.app;Am(e);const{provider:n}=St(e);if(Rm()){const i=await Pm(),{token:o}=await Cm(Y1(e,i),t.heartbeatServiceProvider);return{token:o}}else{const{token:i}=await n.getToken();return{token:i}}}function nE(t,e,n,i){const{app:o}=t,a=St(o),c={next:n,error:i,type:e};if(a.tokenObservers=[...a.tokenObservers,c],a.token&&Ro(a.token)){const f=a.token;Promise.resolve().then(()=>{n({token:f.token}),Lv(t)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Lv(t))}function rE(t,e){const n=St(t),i=n.tokenObservers.filter(o=>o.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function Lv(t){const{app:e}=t,n=St(e);let i=n.tokenRefresher;i||(i=ek(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function ek(t){const{app:e}=t;return new FP(async()=>{const n=St(e);let i;if(n.token?i=await cp(t,!0):i=await cp(t),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{const n=St(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const o=n.token.expireTimeMillis-300*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},Mv.RETRIAL_MIN_WAIT,Mv.RETRIAL_MAX_WAIT)}function iE(t,e){const n=St(t).tokenObservers;for(const i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Ro(t){return t.expireTimeMillis-Date.now()>0}function Sd(t){return{token:JP(XP),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=St(this.app);for(const n of e)rE(this.app,n.next);return Promise.resolve()}}function nk(t,e){return new tk(t,e)}function rk(t){return{getToken:e=>cp(t,e),getLimitedUseToken:()=>ZP(t),addTokenListener:e=>nE(t,"INTERNAL",e),removeTokenListener:e=>rE(t.app,e)}}const ik="@firebase/app-check",sk="0.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="https://www.google.com/recaptcha/api.js";function ak(t,e){const n=new ml,i=St(t);i.reCAPTCHAState={initialized:n};const o=lk(t),a=Ov(!1);return a?Fv(t,e,a,o,n):hk(()=>{const c=Ov(!1);if(!c)throw new Error("no recaptcha");Fv(t,e,c,o,n)}),n.promise}function Fv(t,e,n,i,o){n.ready(()=>{ck(t,e,n,i),o.resolve(n)})}function lk(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function uk(t){Am(t);const n=await St(t).reCAPTCHAState.initialized.promise;return new Promise((i,o)=>{const a=St(t).reCAPTCHAState;n.ready(()=>{i(n.execute(a.widgetId,{action:"fire_app_check"}))})})}function ck(t,e,n,i){const o=n.render(i,{sitekey:e,size:"invisible",callback:()=>{St(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{St(t).reCAPTCHAState.succeeded=!1}}),a=St(t);a.reCAPTCHAState={...a.reCAPTCHAState,widgetId:o}}function hk(t){const e=document.createElement("script");e.src=ok,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){dk(this._throttleData);const e=await uk(this._app).catch(i=>{throw on.create("recaptcha-error")});if(!St(this._app).reCAPTCHAState?.succeeded)throw on.create("recaptcha-error");let n;try{n=await Cm(UP(this._app,e),this._heartbeatServiceProvider)}catch(i){throw i.code?.includes("fetch-status-error")?(this._throttleData=fk(Number(i.customData?.httpStatus),this._throttleData),on.create("initial-throttle",{time:W1(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):i}return this._throttleData=null,n}initialize(e){this._app=e,this._heartbeatServiceProvider=As(e,"heartbeat"),ak(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof km?this._siteKey===e._siteKey:!1}}function fk(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+LP,httpStatus:t};{const n=e?e.backoffCount:0,i=Od(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+i,httpStatus:t}}}function dk(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw on.create("throttled",{time:W1(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t=Hp(),e){t=_s(t);const n=As(t,"app-check");if(Ih().initialized||YP(),Rm()&&Pm().then(o=>console.log(`App Check debug token: ${o}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(a.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&a.provider.isEqual(e.provider))return o;throw on.create("already-initialized",{appName:t.name})}const i=n.initialize({options:e});return mk(t,e.provider,e.isTokenAutoRefreshEnabled),St(t).isTokenAutoRefreshEnabled&&nE(i,"INTERNAL",()=>{}),i}function mk(t,e,n=!1){const i=VP(t,{...G1});i.activated=!0,i.provider=e,i.cachedTokenPromise=KP(t).then(o=>(o&&Ro(o)&&(i.token=o,iE(t,{token:o.token})),o)),i.isTokenAutoRefreshEnabled=n&&t.automaticDataCollectionEnabled,!t.automaticDataCollectionEnabled&&n&&Ai.warn("`isTokenAutoRefreshEnabled` is true but `automaticDataCollectionEnabled` was set to false during `initializeApp()`. This blocks automatic token refresh."),i.provider.initialize(t)}const gk="app-check",jv="app-check-internal";function yk(){Tr(new er(gk,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return nk(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(jv).initialize()})),Tr(new er(jv,t=>{const e=t.getProvider("app-check").getImmediate();return rk(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Zn(ik,sk)}yk();const sE={apiKey:"AIzaSyBNnluwADJFaceTVz9NHv9Uv23CGbgF9Iw",authDomain:"wander-month-map.firebaseapp.com",projectId:"wander-month-map",storageBucket:"wander-month-map.firebasestorage.app",messagingSenderId:"704472271281",appId:"1:704472271281:web:3e6620c41e9b9929721590",measurementId:"G-DLL5TMYY76",appCheckSiteKey:"6LfuA8ArAAAAACaHuZpRP0Bo6icA-hpI2cVYRZ-E"},hp=nw(sE);if(typeof window<"u"){const t=sE.appCheckSiteKey;window.location.hostname==="localhost"&&(window.FIREBASE_APPCHECK_DEBUG_TOKEN=!0),t&&pk(hp,{provider:new km(t),isTokenAutoRefreshEnabled:!0}),kP().then(e=>e?RP(hp):null).then(e=>{})}const vk=Q2(hp);let fl=null;const _k=async()=>{if(fl)return fl;try{const t=H2(vk,"countries"),e=sR(t,oR("name")),n=await cR(e),i=[];if(n.forEach(o=>{const a=o.data(),{createdAt:c,updatedAt:f,...p}=a;i.push(p)}),!Array.isArray(i))throw new Error("Invalid tourism data format: missing countries array");return fl=i,i}catch{return[]}},wk=async()=>["January","February","March","April","May","June","July","August","September","October","November","December"],xh=()=>fl||[],Nm=t=>{if(!t)return"";const e=xh(),n={};return e.forEach(i=>{n[i.code]=i.code,n[i.name.toUpperCase()]=i.code,i.alternativeCodes&&(i.alternativeCodes.alpha3&&(n[i.alternativeCodes.alpha3]=i.code),i.alternativeCodes.numeric&&(n[i.alternativeCodes.numeric]=i.code),i.alternativeCodes.commonNames&&i.alternativeCodes.commonNames.forEach(o=>{n[o.toUpperCase()]=i.code}))}),n[t]||t},Ek=(t,e)=>{const n=Nm(t),o=xh().find(a=>a.code===n);return!!(o&&o.monthlyData[e])},Tk=t=>{const[e,n]=fe.useState(null),i=fe.useRef(null),o=fe.useRef(null),a=(m,v)=>{const w=Nm(v),I=xh().find(le=>le.code===w);if(!I||!I.monthlyData[t]||i.current===v)return;i.current=v;const P=I.monthlyData[t],k=m.currentTarget.closest(".relative")?.getBoundingClientRect();let H,X;if("touches"in m){const le=m.touches[0];H=le.clientX,X=le.clientY}else H=m.clientX,X=m.clientY;const J=k?H-k.left:H,Z=k?X-k.top:X;n({country:I.name,avgDayTemp:P.avgDayTemp,avgNightTemp:P.avgNightTemp,rainfall:P.rainfall,description:P.description||"",bestTime:P.bestTime,x:J,y:Z,regions:I.regions,selectedMonth:t})},c=()=>{o.current&&(clearTimeout(o.current),o.current=null),n(null),i.current=null};return{tooltip:e,handleCountryHover:a,handleCountryLeave:c,handleTouchStart:(m,v)=>{m.preventDefault(),a(m,v)},handleTouchEnd:m=>{m.preventDefault(),o.current=setTimeout(()=>{c()},150)}}},Sk="modulepreload",Ik=function(t){return"/wander-weather/"+t},zv={},xk=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let m=function(v){return Promise.all(v.map(w=>Promise.resolve(w).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};var c=m;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");o=m(n.map(v=>{if(v=Ik(v),v in zv)return;zv[v]=!0;const w=v.endsWith(".css"),E=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${E}`))return;const I=document.createElement("link");if(I.rel=w?"stylesheet":Sk,w||(I.as="script"),I.crossOrigin="",I.href=v,p&&I.setAttribute("nonce",p),document.head.appendChild(I),w)return new Promise((P,L)=>{I.addEventListener("load",P),I.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${v}`)))})}))}function a(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return o.then(f=>{for(const p of f||[])p.status==="rejected"&&a(p.reason);return e().catch(a)})};function Ak(t){return t}function Ck(t){if(t==null)return Ak;var e,n,i=t.scale[0],o=t.scale[1],a=t.translate[0],c=t.translate[1];return function(f,p){p||(e=n=0);var m=2,v=f.length,w=new Array(v);for(w[0]=(e+=f[0])*i+a,w[1]=(n+=f[1])*o+c;m<v;)w[m]=f[m],++m;return w}}function Rk(t,e){for(var n,i=t.length,o=i-e;o<--i;)n=t[o],t[o++]=t[i],t[i]=n}function Pk(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return Uv(t,n)})}:Uv(t,e)}function Uv(t,e){var n=e.id,i=e.bbox,o=e.properties==null?{}:e.properties,a=kk(t,e);return n==null&&i==null?{type:"Feature",properties:o,geometry:a}:i==null?{type:"Feature",id:n,properties:o,geometry:a}:{type:"Feature",id:n,bbox:i,properties:o,geometry:a}}function kk(t,e){var n=Ck(t.transform),i=t.arcs;function o(v,w){w.length&&w.pop();for(var E=i[v<0?~v:v],I=0,P=E.length;I<P;++I)w.push(n(E[I],I));v<0&&Rk(w,P)}function a(v){return n(v)}function c(v){for(var w=[],E=0,I=v.length;E<I;++E)o(v[E],w);return w.length<2&&w.push(w[0]),w}function f(v){for(var w=c(v);w.length<4;)w.push(w[0]);return w}function p(v){return v.map(f)}function m(v){var w=v.type,E;switch(w){case"GeometryCollection":return{type:w,geometries:v.geometries.map(m)};case"Point":E=a(v.coordinates);break;case"MultiPoint":E=v.coordinates.map(a);break;case"LineString":E=c(v.arcs);break;case"MultiLineString":E=v.arcs.map(c);break;case"Polygon":E=p(v.arcs);break;case"MultiPolygon":E=v.arcs.map(p);break;default:return null}return{type:w,coordinates:E}}return m(e)}const Nk=()=>{const[t,e]=fe.useState(null),[n,i]=fe.useState(!0),[o,a]=fe.useState(null);return fe.useEffect(()=>{(async()=>{try{i(!0);const f=await xk(()=>import("./countries-50m-DgYPl3oJ.js"),[]),p=Pk(f,f.objects.countries);e(p),a(null)}catch(f){console.error("Error loading world data:",f),a("Failed to load world map data"),e(null)}finally{i(!1)}})()},[]),{worldData:t,loading:n,error:o}};var fp="http://www.w3.org/1999/xhtml";const $v={svg:"http://www.w3.org/2000/svg",xhtml:fp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ah(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),$v.hasOwnProperty(e)?{space:$v[e],local:t}:t}function Dk(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===fp&&e.documentElement.namespaceURI===fp?e.createElement(t):e.createElementNS(n,t)}}function bk(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function oE(t){var e=Ah(t);return(e.local?bk:Dk)(e)}function Vk(){}function Dm(t){return t==null?Vk:function(){return this.querySelector(t)}}function Mk(t){typeof t!="function"&&(t=Dm(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],c=a.length,f=i[o]=new Array(c),p,m,v=0;v<c;++v)(p=a[v])&&(m=t.call(p,p.__data__,v,a))&&("__data__"in p&&(m.__data__=p.__data__),f[v]=m);return new wn(i,this._parents)}function Ok(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Lk(){return[]}function aE(t){return t==null?Lk:function(){return this.querySelectorAll(t)}}function Fk(t){return function(){return Ok(t.apply(this,arguments))}}function jk(t){typeof t=="function"?t=Fk(t):t=aE(t);for(var e=this._groups,n=e.length,i=[],o=[],a=0;a<n;++a)for(var c=e[a],f=c.length,p,m=0;m<f;++m)(p=c[m])&&(i.push(t.call(p,p.__data__,m,c)),o.push(p));return new wn(i,o)}function lE(t){return function(){return this.matches(t)}}function uE(t){return function(e){return e.matches(t)}}var zk=Array.prototype.find;function Uk(t){return function(){return zk.call(this.children,t)}}function $k(){return this.firstElementChild}function Bk(t){return this.select(t==null?$k:Uk(typeof t=="function"?t:uE(t)))}var qk=Array.prototype.filter;function Hk(){return Array.from(this.children)}function Qk(t){return function(){return qk.call(this.children,t)}}function Gk(t){return this.selectAll(t==null?Hk:Qk(typeof t=="function"?t:uE(t)))}function Kk(t){typeof t!="function"&&(t=lE(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],c=a.length,f=i[o]=[],p,m=0;m<c;++m)(p=a[m])&&t.call(p,p.__data__,m,a)&&f.push(p);return new wn(i,this._parents)}function cE(t){return new Array(t.length)}function Wk(){return new wn(this._enter||this._groups.map(cE),this._parents)}function qc(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}qc.prototype={constructor:qc,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Yk(t){return function(){return t}}function Xk(t,e,n,i,o,a){for(var c=0,f,p=e.length,m=a.length;c<m;++c)(f=e[c])?(f.__data__=a[c],i[c]=f):n[c]=new qc(t,a[c]);for(;c<p;++c)(f=e[c])&&(o[c]=f)}function Jk(t,e,n,i,o,a,c){var f,p,m=new Map,v=e.length,w=a.length,E=new Array(v),I;for(f=0;f<v;++f)(p=e[f])&&(E[f]=I=c.call(p,p.__data__,f,e)+"",m.has(I)?o[f]=p:m.set(I,p));for(f=0;f<w;++f)I=c.call(t,a[f],f,a)+"",(p=m.get(I))?(i[f]=p,p.__data__=a[f],m.delete(I)):n[f]=new qc(t,a[f]);for(f=0;f<v;++f)(p=e[f])&&m.get(E[f])===p&&(o[f]=p)}function Zk(t){return t.__data__}function eN(t,e){if(!arguments.length)return Array.from(this,Zk);var n=e?Jk:Xk,i=this._parents,o=this._groups;typeof t!="function"&&(t=Yk(t));for(var a=o.length,c=new Array(a),f=new Array(a),p=new Array(a),m=0;m<a;++m){var v=i[m],w=o[m],E=w.length,I=tN(t.call(v,v&&v.__data__,m,i)),P=I.length,L=f[m]=new Array(P),k=c[m]=new Array(P),H=p[m]=new Array(E);n(v,w,L,k,H,I,e);for(var X=0,J=0,Z,le;X<P;++X)if(Z=L[X]){for(X>=J&&(J=X+1);!(le=k[J])&&++J<P;);Z._next=le||null}}return c=new wn(c,i),c._enter=f,c._exit=p,c}function tN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function nN(){return new wn(this._exit||this._groups.map(cE),this._parents)}function rN(t,e,n){var i=this.enter(),o=this,a=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?a.remove():n(a),i&&o?i.merge(o).order():o}function iN(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,a=i.length,c=Math.min(o,a),f=new Array(o),p=0;p<c;++p)for(var m=n[p],v=i[p],w=m.length,E=f[p]=new Array(w),I,P=0;P<w;++P)(I=m[P]||v[P])&&(E[P]=I);for(;p<o;++p)f[p]=n[p];return new wn(f,this._parents)}function sN(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,a=i[o],c;--o>=0;)(c=i[o])&&(a&&c.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(c,a),a=c);return this}function oN(t){t||(t=aN);function e(w,E){return w&&E?t(w.__data__,E.__data__):!w-!E}for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a){for(var c=n[a],f=c.length,p=o[a]=new Array(f),m,v=0;v<f;++v)(m=c[v])&&(p[v]=m);p.sort(e)}return new wn(o,this._parents).order()}function aN(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function lN(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function uN(){return Array.from(this)}function cN(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,a=i.length;o<a;++o){var c=i[o];if(c)return c}return null}function hN(){let t=0;for(const e of this)++t;return t}function fN(){return!this.node()}function dN(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],a=0,c=o.length,f;a<c;++a)(f=o[a])&&t.call(f,f.__data__,a,o);return this}function pN(t){return function(){this.removeAttribute(t)}}function mN(t){return function(){this.removeAttributeNS(t.space,t.local)}}function gN(t,e){return function(){this.setAttribute(t,e)}}function yN(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function vN(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function _N(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function wN(t,e){var n=Ah(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?mN:pN:typeof e=="function"?n.local?_N:vN:n.local?yN:gN)(n,e))}function hE(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function EN(t){return function(){this.style.removeProperty(t)}}function TN(t,e,n){return function(){this.style.setProperty(t,e,n)}}function SN(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function IN(t,e,n){return arguments.length>1?this.each((e==null?EN:typeof e=="function"?SN:TN)(t,e,n??"")):qo(this.node(),t)}function qo(t,e){return t.style.getPropertyValue(e)||hE(t).getComputedStyle(t,null).getPropertyValue(e)}function xN(t){return function(){delete this[t]}}function AN(t,e){return function(){this[t]=e}}function CN(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function RN(t,e){return arguments.length>1?this.each((e==null?xN:typeof e=="function"?CN:AN)(t,e)):this.node()[t]}function fE(t){return t.trim().split(/^|\s+/)}function bm(t){return t.classList||new dE(t)}function dE(t){this._node=t,this._names=fE(t.getAttribute("class")||"")}dE.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function pE(t,e){for(var n=bm(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function mE(t,e){for(var n=bm(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function PN(t){return function(){pE(this,t)}}function kN(t){return function(){mE(this,t)}}function NN(t,e){return function(){(e.apply(this,arguments)?pE:mE)(this,t)}}function DN(t,e){var n=fE(t+"");if(arguments.length<2){for(var i=bm(this.node()),o=-1,a=n.length;++o<a;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?NN:e?PN:kN)(n,e))}function bN(){this.textContent=""}function VN(t){return function(){this.textContent=t}}function MN(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ON(t){return arguments.length?this.each(t==null?bN:(typeof t=="function"?MN:VN)(t)):this.node().textContent}function LN(){this.innerHTML=""}function FN(t){return function(){this.innerHTML=t}}function jN(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function zN(t){return arguments.length?this.each(t==null?LN:(typeof t=="function"?jN:FN)(t)):this.node().innerHTML}function UN(){this.nextSibling&&this.parentNode.appendChild(this)}function $N(){return this.each(UN)}function BN(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qN(){return this.each(BN)}function HN(t){var e=typeof t=="function"?t:oE(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function QN(){return null}function GN(t,e){var n=typeof t=="function"?t:oE(t),i=e==null?QN:typeof e=="function"?e:Dm(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function KN(){var t=this.parentNode;t&&t.removeChild(this)}function WN(){return this.each(KN)}function YN(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function XN(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function JN(t){return this.select(t?XN:YN)}function ZN(t){return arguments.length?this.property("__data__",t):this.node().__data__}function eD(t){return function(e){t.call(this,e,this.__data__)}}function tD(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function nD(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,a;n<o;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++i]=a;++i?e.length=i:delete this.__on}}}function rD(t,e,n){return function(){var i=this.__on,o,a=eD(e);if(i){for(var c=0,f=i.length;c<f;++c)if((o=i[c]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=e;return}}this.addEventListener(t.type,a,n),o={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(o):this.__on=[o]}}function iD(t,e,n){var i=tD(t+""),o,a=i.length,c;if(arguments.length<2){var f=this.node().__on;if(f){for(var p=0,m=f.length,v;p<m;++p)for(o=0,v=f[p];o<a;++o)if((c=i[o]).type===v.type&&c.name===v.name)return v.value}return}for(f=e?rD:nD,o=0;o<a;++o)this.each(f(i[o],e,n));return this}function gE(t,e,n){var i=hE(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function sD(t,e){return function(){return gE(this,t,e)}}function oD(t,e){return function(){return gE(this,t,e.apply(this,arguments))}}function aD(t,e){return this.each((typeof e=="function"?oD:sD)(t,e))}function*lD(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,a=i.length,c;o<a;++o)(c=i[o])&&(yield c)}var yE=[null];function wn(t,e){this._groups=t,this._parents=e}function Fl(){return new wn([[document.documentElement]],yE)}function uD(){return this}wn.prototype=Fl.prototype={constructor:wn,select:Mk,selectAll:jk,selectChild:Bk,selectChildren:Gk,filter:Kk,data:eN,enter:Wk,exit:nN,join:rN,merge:iN,selection:uD,order:sN,sort:oN,call:lN,nodes:uN,node:cN,size:hN,empty:fN,each:dN,attr:wN,style:IN,property:RN,classed:DN,text:ON,html:zN,raise:$N,lower:qN,append:HN,insert:GN,remove:WN,clone:JN,datum:ZN,on:iD,dispatch:aD,[Symbol.iterator]:lD};function vn(t){return typeof t=="string"?new wn([[document.querySelector(t)]],[document.documentElement]):new wn([[t]],yE)}function cD(t){let e;for(;e=t.sourceEvent;)t=e;return t}function hs(t,e){if(t=cD(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}var hD={value:()=>{}};function Vm(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ic(n)}function Ic(t){this._=t}function fD(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ic.prototype=Vm.prototype={constructor:Ic,on:function(t,e){var n=this._,i=fD(t+"",n),o,a=-1,c=i.length;if(arguments.length<2){for(;++a<c;)if((o=(t=i[a]).type)&&(o=dD(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<c;)if(o=(t=i[a]).type)n[o]=Bv(n[o],t.name,e);else if(e==null)for(o in n)n[o]=Bv(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ic(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,a;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],i=0,o=a.length;i<o;++i)a[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,a=i.length;o<a;++o)i[o].value.apply(e,n)}};function dD(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function Bv(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=hD,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}const dp={capture:!0,passive:!1};function pp(t){t.preventDefault(),t.stopImmediatePropagation()}function pD(t){var e=t.document.documentElement,n=vn(t).on("dragstart.drag",pp,dp);"onselectstart"in e?n.on("selectstart.drag",pp,dp):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function mD(t,e){var n=t.document.documentElement,i=vn(t).on("dragstart.drag",null);e&&(i.on("click.drag",pp,dp),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Mm(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vE(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function jl(){}var Il=.7,Hc=1/Il,Oo="\\s*([+-]?\\d+)\\s*",xl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Er="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gD=/^#([0-9a-f]{3,8})$/,yD=new RegExp(`^rgb\\(${Oo},${Oo},${Oo}\\)$`),vD=new RegExp(`^rgb\\(${Er},${Er},${Er}\\)$`),_D=new RegExp(`^rgba\\(${Oo},${Oo},${Oo},${xl}\\)$`),wD=new RegExp(`^rgba\\(${Er},${Er},${Er},${xl}\\)$`),ED=new RegExp(`^hsl\\(${xl},${Er},${Er}\\)$`),TD=new RegExp(`^hsla\\(${xl},${Er},${Er},${xl}\\)$`),qv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mm(jl,Al,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Hv,formatHex:Hv,formatHex8:SD,formatHsl:ID,formatRgb:Qv,toString:Qv});function Hv(){return this.rgb().formatHex()}function SD(){return this.rgb().formatHex8()}function ID(){return _E(this).formatHsl()}function Qv(){return this.rgb().formatRgb()}function Al(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=gD.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Gv(e):n===3?new an(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?hc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?hc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yD.exec(t))?new an(e[1],e[2],e[3],1):(e=vD.exec(t))?new an(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_D.exec(t))?hc(e[1],e[2],e[3],e[4]):(e=wD.exec(t))?hc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ED.exec(t))?Yv(e[1],e[2]/100,e[3]/100,1):(e=TD.exec(t))?Yv(e[1],e[2]/100,e[3]/100,e[4]):qv.hasOwnProperty(t)?Gv(qv[t]):t==="transparent"?new an(NaN,NaN,NaN,0):null}function Gv(t){return new an(t>>16&255,t>>8&255,t&255,1)}function hc(t,e,n,i){return i<=0&&(t=e=n=NaN),new an(t,e,n,i)}function xD(t){return t instanceof jl||(t=Al(t)),t?(t=t.rgb(),new an(t.r,t.g,t.b,t.opacity)):new an}function mp(t,e,n,i){return arguments.length===1?xD(t):new an(t,e,n,i??1)}function an(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Mm(an,mp,vE(jl,{brighter(t){return t=t==null?Hc:Math.pow(Hc,t),new an(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Il:Math.pow(Il,t),new an(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new an(vs(this.r),vs(this.g),vs(this.b),Qc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kv,formatHex:Kv,formatHex8:AD,formatRgb:Wv,toString:Wv}));function Kv(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}`}function AD(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}${ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wv(){const t=Qc(this.opacity);return`${t===1?"rgb(":"rgba("}${vs(this.r)}, ${vs(this.g)}, ${vs(this.b)}${t===1?")":`, ${t})`}`}function Qc(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ms(t){return t=vs(t),(t<16?"0":"")+t.toString(16)}function Yv(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Jn(t,e,n,i)}function _E(t){if(t instanceof Jn)return new Jn(t.h,t.s,t.l,t.opacity);if(t instanceof jl||(t=Al(t)),!t)return new Jn;if(t instanceof Jn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),a=Math.max(e,n,i),c=NaN,f=a-o,p=(a+o)/2;return f?(e===a?c=(n-i)/f+(n<i)*6:n===a?c=(i-e)/f+2:c=(e-n)/f+4,f/=p<.5?a+o:2-a-o,c*=60):f=p>0&&p<1?0:c,new Jn(c,f,p,t.opacity)}function CD(t,e,n,i){return arguments.length===1?_E(t):new Jn(t,e,n,i??1)}function Jn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Mm(Jn,CD,vE(jl,{brighter(t){return t=t==null?Hc:Math.pow(Hc,t),new Jn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Il:Math.pow(Il,t),new Jn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new an(Id(t>=240?t-240:t+120,o,i),Id(t,o,i),Id(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new Jn(Xv(this.h),fc(this.s),fc(this.l),Qc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qc(this.opacity);return`${t===1?"hsl(":"hsla("}${Xv(this.h)}, ${fc(this.s)*100}%, ${fc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Xv(t){return t=(t||0)%360,t<0?t+360:t}function fc(t){return Math.max(0,Math.min(1,t||0))}function Id(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const wE=t=>()=>t;function RD(t,e){return function(n){return t+n*e}}function PD(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function kD(t){return(t=+t)==1?EE:function(e,n){return n-e?PD(e,n,t):wE(isNaN(e)?n:e)}}function EE(t,e){var n=e-t;return n?RD(t,n):wE(isNaN(t)?e:t)}const Jv=function t(e){var n=kD(e);function i(o,a){var c=n((o=mp(o)).r,(a=mp(a)).r),f=n(o.g,a.g),p=n(o.b,a.b),m=EE(o.opacity,a.opacity);return function(v){return o.r=c(v),o.g=f(v),o.b=p(v),o.opacity=m(v),o+""}}return i.gamma=t,i}(1);function Ti(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var gp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xd=new RegExp(gp.source,"g");function ND(t){return function(){return t}}function DD(t){return function(e){return t(e)+""}}function bD(t,e){var n=gp.lastIndex=xd.lastIndex=0,i,o,a,c=-1,f=[],p=[];for(t=t+"",e=e+"";(i=gp.exec(t))&&(o=xd.exec(e));)(a=o.index)>n&&(a=e.slice(n,a),f[c]?f[c]+=a:f[++c]=a),(i=i[0])===(o=o[0])?f[c]?f[c]+=o:f[++c]=o:(f[++c]=null,p.push({i:c,x:Ti(i,o)})),n=xd.lastIndex;return n<e.length&&(a=e.slice(n),f[c]?f[c]+=a:f[++c]=a),f.length<2?p[0]?DD(p[0].x):ND(e):(e=p.length,function(m){for(var v=0,w;v<e;++v)f[(w=p[v]).i]=w.x(m);return f.join("")})}var Zv=180/Math.PI,yp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function TE(t,e,n,i,o,a){var c,f,p;return(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c),(p=t*n+e*i)&&(n-=t*p,i-=e*p),(f=Math.sqrt(n*n+i*i))&&(n/=f,i/=f,p/=f),t*i<e*n&&(t=-t,e=-e,p=-p,c=-c),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*Zv,skewX:Math.atan(p)*Zv,scaleX:c,scaleY:f}}var dc;function VD(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?yp:TE(e.a,e.b,e.c,e.d,e.e,e.f)}function MD(t){return t==null||(dc||(dc=document.createElementNS("http://www.w3.org/2000/svg","g")),dc.setAttribute("transform",t),!(t=dc.transform.baseVal.consolidate()))?yp:(t=t.matrix,TE(t.a,t.b,t.c,t.d,t.e,t.f))}function SE(t,e,n,i){function o(m){return m.length?m.pop()+" ":""}function a(m,v,w,E,I,P){if(m!==w||v!==E){var L=I.push("translate(",null,e,null,n);P.push({i:L-4,x:Ti(m,w)},{i:L-2,x:Ti(v,E)})}else(w||E)&&I.push("translate("+w+e+E+n)}function c(m,v,w,E){m!==v?(m-v>180?v+=360:v-m>180&&(m+=360),E.push({i:w.push(o(w)+"rotate(",null,i)-2,x:Ti(m,v)})):v&&w.push(o(w)+"rotate("+v+i)}function f(m,v,w,E){m!==v?E.push({i:w.push(o(w)+"skewX(",null,i)-2,x:Ti(m,v)}):v&&w.push(o(w)+"skewX("+v+i)}function p(m,v,w,E,I,P){if(m!==w||v!==E){var L=I.push(o(I)+"scale(",null,",",null,")");P.push({i:L-4,x:Ti(m,w)},{i:L-2,x:Ti(v,E)})}else(w!==1||E!==1)&&I.push(o(I)+"scale("+w+","+E+")")}return function(m,v){var w=[],E=[];return m=t(m),v=t(v),a(m.translateX,m.translateY,v.translateX,v.translateY,w,E),c(m.rotate,v.rotate,w,E),f(m.skewX,v.skewX,w,E),p(m.scaleX,m.scaleY,v.scaleX,v.scaleY,w,E),m=v=null,function(I){for(var P=-1,L=E.length,k;++P<L;)w[(k=E[P]).i]=k.x(I);return w.join("")}}}var OD=SE(VD,"px, ","px)","deg)"),LD=SE(MD,", ",")",")"),FD=1e-12;function e_(t){return((t=Math.exp(t))+1/t)/2}function jD(t){return((t=Math.exp(t))-1/t)/2}function zD(t){return((t=Math.exp(2*t))-1)/(t+1)}const UD=function t(e,n,i){function o(a,c){var f=a[0],p=a[1],m=a[2],v=c[0],w=c[1],E=c[2],I=v-f,P=w-p,L=I*I+P*P,k,H;if(L<FD)H=Math.log(E/m)/e,k=function(D){return[f+D*I,p+D*P,m*Math.exp(e*D*H)]};else{var X=Math.sqrt(L),J=(E*E-m*m+i*L)/(2*m*n*X),Z=(E*E-m*m-i*L)/(2*E*n*X),le=Math.log(Math.sqrt(J*J+1)-J),ce=Math.log(Math.sqrt(Z*Z+1)-Z);H=(ce-le)/e,k=function(D){var x=D*H,A=e_(le),b=m/(n*X)*(A*zD(e*x+le)-jD(le));return[f+b*I,p+b*P,m*A/e_(e*x+le)]}}return k.duration=H*1e3*e/Math.SQRT2,k}return o.rho=function(a){var c=Math.max(.001,+a),f=c*c,p=f*f;return t(c,f,p)},o}(Math.SQRT2,2,4);var Ho=0,Za=0,Ka=0,IE=1e3,Gc,el,Kc=0,Ss=0,Ch=0,Cl=typeof performance=="object"&&performance.now?performance:Date,xE=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Om(){return Ss||(xE($D),Ss=Cl.now()+Ch)}function $D(){Ss=0}function Wc(){this._call=this._time=this._next=null}Wc.prototype=AE.prototype={constructor:Wc,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Om():+n)+(e==null?0:+e),!this._next&&el!==this&&(el?el._next=this:Gc=this,el=this),this._call=t,this._time=n,vp()},stop:function(){this._call&&(this._call=null,this._time=1/0,vp())}};function AE(t,e,n){var i=new Wc;return i.restart(t,e,n),i}function BD(){Om(),++Ho;for(var t=Gc,e;t;)(e=Ss-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ho}function t_(){Ss=(Kc=Cl.now())+Ch,Ho=Za=0;try{BD()}finally{Ho=0,HD(),Ss=0}}function qD(){var t=Cl.now(),e=t-Kc;e>IE&&(Ch-=e,Kc=t)}function HD(){for(var t,e=Gc,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Gc=n);el=t,vp(i)}function vp(t){if(!Ho){Za&&(Za=clearTimeout(Za));var e=t-Ss;e>24?(t<1/0&&(Za=setTimeout(t_,t-Cl.now()-Ch)),Ka&&(Ka=clearInterval(Ka))):(Ka||(Kc=Cl.now(),Ka=setInterval(qD,IE)),Ho=1,xE(t_))}}function n_(t,e,n){var i=new Wc;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var QD=Vm("start","end","cancel","interrupt"),GD=[],CE=0,r_=1,_p=2,xc=3,i_=4,wp=5,Ac=6;function Rh(t,e,n,i,o,a){var c=t.__transition;if(!c)t.__transition={};else if(n in c)return;KD(t,n,{name:e,index:i,group:o,on:QD,tween:GD,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:CE})}function Lm(t,e){var n=nr(t,e);if(n.state>CE)throw new Error("too late; already scheduled");return n}function Ir(t,e){var n=nr(t,e);if(n.state>xc)throw new Error("too late; already running");return n}function nr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function KD(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=AE(a,0,n.time);function a(m){n.state=r_,n.timer.restart(c,n.delay,n.time),n.delay<=m&&c(m-n.delay)}function c(m){var v,w,E,I;if(n.state!==r_)return p();for(v in i)if(I=i[v],I.name===n.name){if(I.state===xc)return n_(c);I.state===i_?(I.state=Ac,I.timer.stop(),I.on.call("interrupt",t,t.__data__,I.index,I.group),delete i[v]):+v<e&&(I.state=Ac,I.timer.stop(),I.on.call("cancel",t,t.__data__,I.index,I.group),delete i[v])}if(n_(function(){n.state===xc&&(n.state=i_,n.timer.restart(f,n.delay,n.time),f(m))}),n.state=_p,n.on.call("start",t,t.__data__,n.index,n.group),n.state===_p){for(n.state=xc,o=new Array(E=n.tween.length),v=0,w=-1;v<E;++v)(I=n.tween[v].value.call(t,t.__data__,n.index,n.group))&&(o[++w]=I);o.length=w+1}}function f(m){for(var v=m<n.duration?n.ease.call(null,m/n.duration):(n.timer.restart(p),n.state=wp,1),w=-1,E=o.length;++w<E;)o[w].call(t,v);n.state===wp&&(n.on.call("end",t,t.__data__,n.index,n.group),p())}function p(){n.state=Ac,n.timer.stop(),delete i[e];for(var m in i)return;delete t.__transition}}function Cc(t,e){var n=t.__transition,i,o,a=!0,c;if(n){e=e==null?null:e+"";for(c in n){if((i=n[c]).name!==e){a=!1;continue}o=i.state>_p&&i.state<wp,i.state=Ac,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[c]}a&&delete t.__transition}}function WD(t){return this.each(function(){Cc(this,t)})}function YD(t,e){var n,i;return function(){var o=Ir(this,t),a=o.tween;if(a!==n){i=n=a;for(var c=0,f=i.length;c<f;++c)if(i[c].name===e){i=i.slice(),i.splice(c,1);break}}o.tween=i}}function XD(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var a=Ir(this,t),c=a.tween;if(c!==i){o=(i=c).slice();for(var f={name:e,value:n},p=0,m=o.length;p<m;++p)if(o[p].name===e){o[p]=f;break}p===m&&o.push(f)}a.tween=o}}function JD(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=nr(this.node(),n).tween,o=0,a=i.length,c;o<a;++o)if((c=i[o]).name===t)return c.value;return null}return this.each((e==null?YD:XD)(n,t,e))}function Fm(t,e,n){var i=t._id;return t.each(function(){var o=Ir(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return nr(o,i).value[e]}}function RE(t,e){var n;return(typeof e=="number"?Ti:e instanceof Al?Jv:(n=Al(e))?(e=n,Jv):bD)(t,e)}function ZD(t){return function(){this.removeAttribute(t)}}function e4(t){return function(){this.removeAttributeNS(t.space,t.local)}}function t4(t,e,n){var i,o=n+"",a;return function(){var c=this.getAttribute(t);return c===o?null:c===i?a:a=e(i=c,n)}}function n4(t,e,n){var i,o=n+"",a;return function(){var c=this.getAttributeNS(t.space,t.local);return c===o?null:c===i?a:a=e(i=c,n)}}function r4(t,e,n){var i,o,a;return function(){var c,f=n(this),p;return f==null?void this.removeAttribute(t):(c=this.getAttribute(t),p=f+"",c===p?null:c===i&&p===o?a:(o=p,a=e(i=c,f)))}}function i4(t,e,n){var i,o,a;return function(){var c,f=n(this),p;return f==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),p=f+"",c===p?null:c===i&&p===o?a:(o=p,a=e(i=c,f)))}}function s4(t,e){var n=Ah(t),i=n==="transform"?LD:RE;return this.attrTween(t,typeof e=="function"?(n.local?i4:r4)(n,i,Fm(this,"attr."+t,e)):e==null?(n.local?e4:ZD)(n):(n.local?n4:t4)(n,i,e))}function o4(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function a4(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function l4(t,e){var n,i;function o(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&a4(t,a)),n}return o._value=e,o}function u4(t,e){var n,i;function o(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&o4(t,a)),n}return o._value=e,o}function c4(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Ah(t);return this.tween(n,(i.local?l4:u4)(i,e))}function h4(t,e){return function(){Lm(this,t).delay=+e.apply(this,arguments)}}function f4(t,e){return e=+e,function(){Lm(this,t).delay=e}}function d4(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?h4:f4)(e,t)):nr(this.node(),e).delay}function p4(t,e){return function(){Ir(this,t).duration=+e.apply(this,arguments)}}function m4(t,e){return e=+e,function(){Ir(this,t).duration=e}}function g4(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?p4:m4)(e,t)):nr(this.node(),e).duration}function y4(t,e){if(typeof e!="function")throw new Error;return function(){Ir(this,t).ease=e}}function v4(t){var e=this._id;return arguments.length?this.each(y4(e,t)):nr(this.node(),e).ease}function _4(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ir(this,t).ease=n}}function w4(t){if(typeof t!="function")throw new Error;return this.each(_4(this._id,t))}function E4(t){typeof t!="function"&&(t=lE(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],c=a.length,f=i[o]=[],p,m=0;m<c;++m)(p=a[m])&&t.call(p,p.__data__,m,a)&&f.push(p);return new Yr(i,this._parents,this._name,this._id)}function T4(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),c=new Array(i),f=0;f<a;++f)for(var p=e[f],m=n[f],v=p.length,w=c[f]=new Array(v),E,I=0;I<v;++I)(E=p[I]||m[I])&&(w[I]=E);for(;f<i;++f)c[f]=e[f];return new Yr(c,this._parents,this._name,this._id)}function S4(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function I4(t,e,n){var i,o,a=S4(e)?Lm:Ir;return function(){var c=a(this,t),f=c.on;f!==i&&(o=(i=f).copy()).on(e,n),c.on=o}}function x4(t,e){var n=this._id;return arguments.length<2?nr(this.node(),n).on.on(t):this.each(I4(n,t,e))}function A4(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function C4(){return this.on("end.remove",A4(this._id))}function R4(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Dm(t));for(var i=this._groups,o=i.length,a=new Array(o),c=0;c<o;++c)for(var f=i[c],p=f.length,m=a[c]=new Array(p),v,w,E=0;E<p;++E)(v=f[E])&&(w=t.call(v,v.__data__,E,f))&&("__data__"in v&&(w.__data__=v.__data__),m[E]=w,Rh(m[E],e,n,E,m,nr(v,n)));return new Yr(a,this._parents,e,n)}function P4(t){var e=this._name,n=this._id;typeof t!="function"&&(t=aE(t));for(var i=this._groups,o=i.length,a=[],c=[],f=0;f<o;++f)for(var p=i[f],m=p.length,v,w=0;w<m;++w)if(v=p[w]){for(var E=t.call(v,v.__data__,w,p),I,P=nr(v,n),L=0,k=E.length;L<k;++L)(I=E[L])&&Rh(I,e,n,L,E,P);a.push(E),c.push(v)}return new Yr(a,c,e,n)}var k4=Fl.prototype.constructor;function N4(){return new k4(this._groups,this._parents)}function D4(t,e){var n,i,o;return function(){var a=qo(this,t),c=(this.style.removeProperty(t),qo(this,t));return a===c?null:a===n&&c===i?o:o=e(n=a,i=c)}}function PE(t){return function(){this.style.removeProperty(t)}}function b4(t,e,n){var i,o=n+"",a;return function(){var c=qo(this,t);return c===o?null:c===i?a:a=e(i=c,n)}}function V4(t,e,n){var i,o,a;return function(){var c=qo(this,t),f=n(this),p=f+"";return f==null&&(p=f=(this.style.removeProperty(t),qo(this,t))),c===p?null:c===i&&p===o?a:(o=p,a=e(i=c,f))}}function M4(t,e){var n,i,o,a="style."+e,c="end."+a,f;return function(){var p=Ir(this,t),m=p.on,v=p.value[a]==null?f||(f=PE(e)):void 0;(m!==n||o!==v)&&(i=(n=m).copy()).on(c,o=v),p.on=i}}function O4(t,e,n){var i=(t+="")=="transform"?OD:RE;return e==null?this.styleTween(t,D4(t,i)).on("end.style."+t,PE(t)):typeof e=="function"?this.styleTween(t,V4(t,i,Fm(this,"style."+t,e))).each(M4(this._id,t)):this.styleTween(t,b4(t,i,e),n).on("end.style."+t,null)}function L4(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function F4(t,e,n){var i,o;function a(){var c=e.apply(this,arguments);return c!==o&&(i=(o=c)&&L4(t,c,n)),i}return a._value=e,a}function j4(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,F4(t,e,n??""))}function z4(t){return function(){this.textContent=t}}function U4(t){return function(){var e=t(this);this.textContent=e??""}}function $4(t){return this.tween("text",typeof t=="function"?U4(Fm(this,"text",t)):z4(t==null?"":t+""))}function B4(t){return function(e){this.textContent=t.call(this,e)}}function q4(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&B4(o)),e}return i._value=t,i}function H4(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,q4(t))}function Q4(){for(var t=this._name,e=this._id,n=kE(),i=this._groups,o=i.length,a=0;a<o;++a)for(var c=i[a],f=c.length,p,m=0;m<f;++m)if(p=c[m]){var v=nr(p,e);Rh(p,t,n,m,c,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new Yr(i,this._parents,t,n)}function G4(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(a,c){var f={value:c},p={value:function(){--o===0&&a()}};n.each(function(){var m=Ir(this,i),v=m.on;v!==t&&(e=(t=v).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(p)),m.on=e}),o===0&&a()})}var K4=0;function Yr(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function kE(){return++K4}var qr=Fl.prototype;Yr.prototype={constructor:Yr,select:R4,selectAll:P4,selectChild:qr.selectChild,selectChildren:qr.selectChildren,filter:E4,merge:T4,selection:N4,transition:Q4,call:qr.call,nodes:qr.nodes,node:qr.node,size:qr.size,empty:qr.empty,each:qr.each,on:x4,attr:s4,attrTween:c4,style:O4,styleTween:j4,text:$4,textTween:H4,remove:C4,tween:JD,delay:d4,duration:g4,ease:v4,easeVarying:w4,end:G4,[Symbol.iterator]:qr[Symbol.iterator]};function W4(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Y4={time:null,delay:0,duration:250,ease:W4};function X4(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function J4(t){var e,n;t instanceof Yr?(e=t._id,t=t._name):(e=kE(),(n=Y4).time=Om(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var c=i[a],f=c.length,p,m=0;m<f;++m)(p=c[m])&&Rh(p,t,e,m,c,n||X4(p,e));return new Yr(i,this._parents,t,e)}Fl.prototype.interrupt=WD;Fl.prototype.transition=J4;const pc=t=>()=>t;function Z4(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Gr(t,e,n){this.k=t,this.x=e,this.y=n}Gr.prototype={constructor:Gr,scale:function(t){return t===1?this:new Gr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Gr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jm=new Gr(1,0,0);Gr.prototype;function Ad(t){t.stopImmediatePropagation()}function Wa(t){t.preventDefault(),t.stopImmediatePropagation()}function eb(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function tb(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function s_(){return this.__zoom||jm}function nb(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function rb(){return navigator.maxTouchPoints||"ontouchstart"in this}function ib(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],c=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),c>a?(a+c)/2:Math.min(0,a)||Math.max(0,c))}function o_(){var t=eb,e=tb,n=ib,i=nb,o=rb,a=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,p=UD,m=Vm("start","zoom","end"),v,w,E,I=500,P=150,L=0,k=10;function H(z){z.property("__zoom",s_).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",b).filter(o).on("touchstart.zoom",N).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}H.transform=function(z,U,G,ie){var Y=z.selection?z.selection():z;Y.property("__zoom",s_),z!==Y?le(z,U,G,ie):Y.interrupt().each(function(){ce(this,arguments).event(ie).start().zoom(null,typeof U=="function"?U.apply(this,arguments):U).end()})},H.scaleBy=function(z,U,G,ie){H.scaleTo(z,function(){var Y=this.__zoom.k,ne=typeof U=="function"?U.apply(this,arguments):U;return Y*ne},G,ie)},H.scaleTo=function(z,U,G,ie){H.transform(z,function(){var Y=e.apply(this,arguments),ne=this.__zoom,ee=G==null?Z(Y):typeof G=="function"?G.apply(this,arguments):G,O=ne.invert(ee),K=typeof U=="function"?U.apply(this,arguments):U;return n(J(X(ne,K),ee,O),Y,c)},G,ie)},H.translateBy=function(z,U,G,ie){H.transform(z,function(){return n(this.__zoom.translate(typeof U=="function"?U.apply(this,arguments):U,typeof G=="function"?G.apply(this,arguments):G),e.apply(this,arguments),c)},null,ie)},H.translateTo=function(z,U,G,ie,Y){H.transform(z,function(){var ne=e.apply(this,arguments),ee=this.__zoom,O=ie==null?Z(ne):typeof ie=="function"?ie.apply(this,arguments):ie;return n(jm.translate(O[0],O[1]).scale(ee.k).translate(typeof U=="function"?-U.apply(this,arguments):-U,typeof G=="function"?-G.apply(this,arguments):-G),ne,c)},ie,Y)};function X(z,U){return U=Math.max(a[0],Math.min(a[1],U)),U===z.k?z:new Gr(U,z.x,z.y)}function J(z,U,G){var ie=U[0]-G[0]*z.k,Y=U[1]-G[1]*z.k;return ie===z.x&&Y===z.y?z:new Gr(z.k,ie,Y)}function Z(z){return[(+z[0][0]+ +z[1][0])/2,(+z[0][1]+ +z[1][1])/2]}function le(z,U,G,ie){z.on("start.zoom",function(){ce(this,arguments).event(ie).start()}).on("interrupt.zoom end.zoom",function(){ce(this,arguments).event(ie).end()}).tween("zoom",function(){var Y=this,ne=arguments,ee=ce(Y,ne).event(ie),O=e.apply(Y,ne),K=G==null?Z(O):typeof G=="function"?G.apply(Y,ne):G,de=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),_e=Y.__zoom,Te=typeof U=="function"?U.apply(Y,ne):U,Ce=p(_e.invert(K).concat(de/_e.k),Te.invert(K).concat(de/Te.k));return function(ke){if(ke===1)ke=Te;else{var Ne=Ce(ke),Be=de/Ne[2];ke=new Gr(Be,K[0]-Ne[0]*Be,K[1]-Ne[1]*Be)}ee.zoom(null,ke)}})}function ce(z,U,G){return!G&&z.__zooming||new D(z,U)}function D(z,U){this.that=z,this.args=U,this.active=0,this.sourceEvent=null,this.extent=e.apply(z,U),this.taps=0}D.prototype={event:function(z){return z&&(this.sourceEvent=z),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(z,U){return this.mouse&&z!=="mouse"&&(this.mouse[1]=U.invert(this.mouse[0])),this.touch0&&z!=="touch"&&(this.touch0[1]=U.invert(this.touch0[0])),this.touch1&&z!=="touch"&&(this.touch1[1]=U.invert(this.touch1[0])),this.that.__zoom=U,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(z){var U=vn(this.that).datum();m.call(z,this.that,new Z4(z,{sourceEvent:this.sourceEvent,target:H,transform:this.that.__zoom,dispatch:m}),U)}};function x(z,...U){if(!t.apply(this,arguments))return;var G=ce(this,U).event(z),ie=this.__zoom,Y=Math.max(a[0],Math.min(a[1],ie.k*Math.pow(2,i.apply(this,arguments)))),ne=hs(z);if(G.wheel)(G.mouse[0][0]!==ne[0]||G.mouse[0][1]!==ne[1])&&(G.mouse[1]=ie.invert(G.mouse[0]=ne)),clearTimeout(G.wheel);else{if(ie.k===Y)return;G.mouse=[ne,ie.invert(ne)],Cc(this),G.start()}Wa(z),G.wheel=setTimeout(ee,P),G.zoom("mouse",n(J(X(ie,Y),G.mouse[0],G.mouse[1]),G.extent,c));function ee(){G.wheel=null,G.end()}}function A(z,...U){if(E||!t.apply(this,arguments))return;var G=z.currentTarget,ie=ce(this,U,!0).event(z),Y=vn(z.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",de,!0),ne=hs(z,G),ee=z.clientX,O=z.clientY;pD(z.view),Ad(z),ie.mouse=[ne,this.__zoom.invert(ne)],Cc(this),ie.start();function K(_e){if(Wa(_e),!ie.moved){var Te=_e.clientX-ee,Ce=_e.clientY-O;ie.moved=Te*Te+Ce*Ce>L}ie.event(_e).zoom("mouse",n(J(ie.that.__zoom,ie.mouse[0]=hs(_e,G),ie.mouse[1]),ie.extent,c))}function de(_e){Y.on("mousemove.zoom mouseup.zoom",null),mD(_e.view,ie.moved),Wa(_e),ie.event(_e).end()}}function b(z,...U){if(t.apply(this,arguments)){var G=this.__zoom,ie=hs(z.changedTouches?z.changedTouches[0]:z,this),Y=G.invert(ie),ne=G.k*(z.shiftKey?.5:2),ee=n(J(X(G,ne),ie,Y),e.apply(this,U),c);Wa(z),f>0?vn(this).transition().duration(f).call(le,ee,ie,z):vn(this).call(H.transform,ee,ie,z)}}function N(z,...U){if(t.apply(this,arguments)){var G=z.touches,ie=G.length,Y=ce(this,U,z.changedTouches.length===ie).event(z),ne,ee,O,K;for(Ad(z),ee=0;ee<ie;++ee)O=G[ee],K=hs(O,this),K=[K,this.__zoom.invert(K),O.identifier],Y.touch0?!Y.touch1&&Y.touch0[2]!==K[2]&&(Y.touch1=K,Y.taps=0):(Y.touch0=K,ne=!0,Y.taps=1+!!v);v&&(v=clearTimeout(v)),ne&&(Y.taps<2&&(w=K[0],v=setTimeout(function(){v=null},I)),Cc(this),Y.start())}}function j(z,...U){if(this.__zooming){var G=ce(this,U).event(z),ie=z.changedTouches,Y=ie.length,ne,ee,O,K;for(Wa(z),ne=0;ne<Y;++ne)ee=ie[ne],O=hs(ee,this),G.touch0&&G.touch0[2]===ee.identifier?G.touch0[0]=O:G.touch1&&G.touch1[2]===ee.identifier&&(G.touch1[0]=O);if(ee=G.that.__zoom,G.touch1){var de=G.touch0[0],_e=G.touch0[1],Te=G.touch1[0],Ce=G.touch1[1],ke=(ke=Te[0]-de[0])*ke+(ke=Te[1]-de[1])*ke,Ne=(Ne=Ce[0]-_e[0])*Ne+(Ne=Ce[1]-_e[1])*Ne;ee=X(ee,Math.sqrt(ke/Ne)),O=[(de[0]+Te[0])/2,(de[1]+Te[1])/2],K=[(_e[0]+Ce[0])/2,(_e[1]+Ce[1])/2]}else if(G.touch0)O=G.touch0[0],K=G.touch0[1];else return;G.zoom("touch",n(J(ee,O,K),G.extent,c))}}function C(z,...U){if(this.__zooming){var G=ce(this,U).event(z),ie=z.changedTouches,Y=ie.length,ne,ee;for(Ad(z),E&&clearTimeout(E),E=setTimeout(function(){E=null},I),ne=0;ne<Y;++ne)ee=ie[ne],G.touch0&&G.touch0[2]===ee.identifier?delete G.touch0:G.touch1&&G.touch1[2]===ee.identifier&&delete G.touch1;if(G.touch1&&!G.touch0&&(G.touch0=G.touch1,delete G.touch1),G.touch0)G.touch0[1]=this.__zoom.invert(G.touch0[0]);else if(G.end(),G.taps===2&&(ee=hs(ee,this),Math.hypot(w[0]-ee[0],w[1]-ee[1])<k)){var O=vn(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return H.wheelDelta=function(z){return arguments.length?(i=typeof z=="function"?z:pc(+z),H):i},H.filter=function(z){return arguments.length?(t=typeof z=="function"?z:pc(!!z),H):t},H.touchable=function(z){return arguments.length?(o=typeof z=="function"?z:pc(!!z),H):o},H.extent=function(z){return arguments.length?(e=typeof z=="function"?z:pc([[+z[0][0],+z[0][1]],[+z[1][0],+z[1][1]]]),H):e},H.scaleExtent=function(z){return arguments.length?(a[0]=+z[0],a[1]=+z[1],H):[a[0],a[1]]},H.translateExtent=function(z){return arguments.length?(c[0][0]=+z[0][0],c[1][0]=+z[1][0],c[0][1]=+z[0][1],c[1][1]=+z[1][1],H):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},H.constrain=function(z){return arguments.length?(n=z,H):n},H.duration=function(z){return arguments.length?(f=+z,H):f},H.interpolate=function(z){return arguments.length?(p=z,H):p},H.on=function(){var z=m.on.apply(m,arguments);return z===m?H:z},H.clickDistance=function(z){return arguments.length?(L=(z=+z)*z,H):Math.sqrt(L)},H.tapDistance=function(z){return arguments.length?(k=+z,H):k},H}const sb=()=>{const t=fe.useRef(null),[e,n]=fe.useState(null),i=fe.useRef(null),[o,a]=fe.useState(1),c=fe.useRef(null),f=E=>{i.current=E,n(E)};fe.useEffect(()=>()=>{e&&vn(e).on(".zoom",null),c.current=null},[e]),fe.useEffect(()=>{if(!e||c.current)return;const E=vn(e),I=o_().scaleExtent([.5,8]).on("zoom",P=>{const{transform:L}=P,k=E.select("#map-group");k.empty()||k.attr("transform",L.toString()),a(L.k)});c.current=I,E.call(I),setTimeout(()=>{const P=E.select("#map-group");P.empty()||P.attr("transform","translate(0,0) scale(1)")},50)},[e]);const p=()=>{if(!c.current&&e){const E=vn(e),I=o_().scaleExtent([.5,8]).on("zoom",P=>{const{transform:L}=P,k=E.select("#map-group");k.empty()||k.attr("transform",L.toString()),a(L.k)});return c.current=I,E.call(I),!0}return!!c.current};return{containerRef:t,svgRef:f,zoomIn:()=>{e&&p()&&vn(e).transition().duration(300).call(c.current.scaleBy,1.5)},zoomOut:()=>{e&&p()&&vn(e).transition().duration(300).call(c.current.scaleBy,1/1.5)},resetZoom:()=>{e&&p()&&vn(e).transition().duration(500).call(c.current.transform,jm)},currentZoom:o}},Ph=()=>{const[t,e]=fe.useState([]),[n,i]=fe.useState([]),[o,a]=fe.useState(!0),[c,f]=fe.useState(null);return fe.useEffect(()=>{(async()=>{try{a(!0),f(null);const[m,v]=await Promise.all([_k(),wk()]);e(m),i(v)}catch(m){console.error("Failed to load tourism data:",m),f(m instanceof Error?m.message:"Failed to load data")}finally{a(!1)}})()},[]),{tourismData:t,months:n,loading:o,error:c}},NE=()=>{const[t,e]=fe.useState(!1),n=fe.useCallback(()=>{const c=document,f=document.fullscreenElement||c.webkitFullscreenElement||c.mozFullScreenElement||c.msFullscreenElement;e(!!f)},[]),i=fe.useCallback(async c=>{const f=c||document.documentElement;try{if(f.requestFullscreen)await f.requestFullscreen();else if(f.webkitRequestFullscreen)await f.webkitRequestFullscreen();else if(f.mozRequestFullScreen)await f.mozRequestFullScreen();else if(f.msRequestFullscreen)await f.msRequestFullscreen();else throw new Error("Fullscreen API not supported")}catch(p){console.error("Error entering fullscreen:",p)}},[]),o=fe.useCallback(async()=>{const c=document;try{document.exitFullscreen?await document.exitFullscreen():c.webkitExitFullscreen?await c.webkitExitFullscreen():c.mozCancelFullScreen?await c.mozCancelFullScreen():c.msExitFullscreen&&await c.msExitFullscreen()}catch(f){console.error("Error exiting fullscreen:",f)}},[]),a=fe.useCallback(c=>{if(t)o();else{const f=c||document.documentElement;i(f)}},[t,i,o]);return fe.useEffect(()=>{const c=()=>{setTimeout(()=>{n()},10)};return document.addEventListener("fullscreenchange",c),document.addEventListener("webkitfullscreenchange",c),document.addEventListener("mozfullscreenchange",c),document.addEventListener("MSFullscreenChange",c),n(),()=>{document.removeEventListener("fullscreenchange",c),document.removeEventListener("webkitfullscreenchange",c),document.removeEventListener("mozfullscreenchange",c),document.removeEventListener("MSFullscreenChange",c)}},[n]),{isFullscreen:t,enterFullscreen:i,exitFullscreen:o,toggleFullscreen:a}},a_=({selectedMonth:t,onMonthSelect:e,isFullscreen:n=!1})=>{const{months:i,loading:o}=Ph();return o?M.jsx("div",{className:n?"bg-white/95 backdrop-blur-sm rounded-lg shadow-xl border p-3 w-64":"bg-white rounded-lg shadow-lg border p-4 sm:p-6 h-fit",children:M.jsxs("div",{className:"animate-pulse",children:[M.jsx("div",{className:"h-4 sm:h-6 bg-gray-200 rounded mb-3 sm:mb-4"}),M.jsx("div",{className:n?"grid grid-cols-3 gap-1":"grid grid-cols-3 sm:grid-cols-2 gap-1 sm:gap-2",children:Array(12).fill(0).map((a,c)=>M.jsx("div",{className:"h-8 sm:h-12 bg-gray-200 rounded"},c))})]})}):M.jsxs("div",{className:n?"bg-white/95 backdrop-blur-sm rounded-lg shadow-xl border p-3 w-64":"bg-white rounded-lg shadow-lg border p-4 sm:p-6 h-fit",children:[M.jsx("h2",{className:`font-semibold text-foreground ${n?"text-sm mb-2":"text-base sm:text-lg mb-3 sm:mb-4"}`,children:n?"Select Month":"Select a Month to Explore"}),M.jsx("div",{className:n?"grid grid-cols-3 gap-1":"grid grid-cols-3 sm:grid-cols-2 gap-1 sm:gap-2",children:i.map(a=>M.jsx("button",{onClick:()=>e(a),className:`rounded-lg font-medium transition-all duration-200 text-left ${n?"px-2 py-1 text-xs":"px-2 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm"} ${t===a?"bg-blue-600 text-white shadow-md transform scale-105":"bg-gray-50 text-gray-700 hover:bg-blue-50 hover:text-blue-700 hover:shadow-sm"}`,children:n?a.substring(0,3):a},a))})]})};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DE=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ab={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=fe.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:c,...f},p)=>fe.createElement("svg",{ref:p,...ab,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:DE("lucide",o),...f},[...c.map(([m,v])=>fe.createElement(m,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=(t,e)=>{const n=fe.forwardRef(({className:i,...o},a)=>fe.createElement(lb,{ref:a,iconNode:e,className:DE(`lucide-${ob(t)}`,i),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=xr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=xr("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=xr("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=xr("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=xr("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=xr("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=xr("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=xr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=xr("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=xr("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),l_=({selectedCategory:t,onCategorySelect:e})=>M.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 justify-center mb-4 sm:mb-6 px-2 sm:px-0",children:[M.jsxs("button",{onClick:()=>e("temperature"),className:`flex items-center justify-center gap-2 px-3 sm:px-6 py-2 sm:py-3 rounded-lg transition-all duration-300 text-sm sm:text-base ${t==="temperature"?"bg-primary text-primary-foreground shadow-lg transform scale-105":"bg-secondary text-secondary-foreground hover:bg-primary/10"}`,children:[M.jsx(mb,{size:16,className:"sm:w-5 sm:h-5"}),M.jsx("span",{className:"hidden xs:inline",children:"Temperature"}),M.jsx("span",{className:"xs:hidden",children:"Temp"})]}),M.jsxs("button",{onClick:()=>e("rainfall"),className:`flex items-center justify-center gap-2 px-3 sm:px-6 py-2 sm:py-3 rounded-lg transition-all duration-300 text-sm sm:text-base ${t==="rainfall"?"bg-primary text-primary-foreground shadow-lg transform scale-105":"bg-secondary text-secondary-foreground hover:bg-primary/10"}`,children:[M.jsx(cb,{size:16,className:"sm:w-5 sm:h-5"}),M.jsx("span",{className:"hidden xs:inline",children:"Rainfall"}),M.jsx("span",{className:"xs:hidden",children:"Rain"})]}),M.jsxs("button",{onClick:()=>e("bestTime"),className:`flex items-center justify-center gap-2 px-3 sm:px-6 py-2 sm:py-3 rounded-lg transition-all duration-300 text-sm sm:text-base ${t==="bestTime"?"bg-primary text-primary-foreground shadow-lg transform scale-105":"bg-secondary text-secondary-foreground hover:bg-primary/10"}`,children:[M.jsx(ub,{size:16,className:"sm:w-5 sm:h-5"}),M.jsx("span",{className:"hidden sm:inline",children:"Best time to visit"}),M.jsx("span",{className:"sm:hidden",children:"Best time"})]})]});class Is{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let i=0;for(let o=0;o<this._n&&o<32;o++){const a=n[o],c=e+a,f=Math.abs(e)<Math.abs(a)?e-(c-a):a-(c-e);f&&(n[i++]=f),e=c}return n[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let n=this._n,i,o,a,c=0;if(n>0){for(c=e[--n];n>0&&(i=c,o=e[--n],c=i+o,a=o-(c-i),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(o=a*2,i=c+o,o==i-c&&(c=i))}return c}}function*_b(t){for(const e of t)yield*e}function bE(t){return Array.from(_b(t))}var Qe=1e-6,ze=Math.PI,bn=ze/2,u_=ze/4,Mn=ze*2,Hr=180/ze,yn=ze/180,tt=Math.abs,wb=Math.atan,Rl=Math.atan2,ut=Math.cos,ct=Math.sin,Eb=Math.sign||function(t){return t>0?1:t<0?-1:0},Ps=Math.sqrt;function Tb(t){return t>1?0:t<-1?ze:Math.acos(t)}function Pl(t){return t>1?bn:t<-1?-bn:Math.asin(t)}function Vn(){}function Yc(t,e){t&&h_.hasOwnProperty(t.type)&&h_[t.type](t,e)}var c_={Feature:function(t,e){Yc(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)Yc(n[i].geometry,e)}},h_={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Ep(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)Ep(n[i],e,0)},Polygon:function(t,e){f_(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)f_(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)Yc(n[i],e)}};function Ep(t,e,n){var i=-1,o=t.length-n,a;for(e.lineStart();++i<o;)a=t[i],e.point(a[0],a[1],a[2]);e.lineEnd()}function f_(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Ep(t[n],e,1);e.polygonEnd()}function Co(t,e){t&&c_.hasOwnProperty(t.type)?c_[t.type](t,e):Yc(t,e)}function Tp(t){return[Rl(t[1],t[0]),Pl(t[2])]}function Qo(t){var e=t[0],n=t[1],i=ut(n);return[i*ut(e),i*ct(e),ct(n)]}function mc(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Xc(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Cd(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function gc(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Sp(t){var e=Ps(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ip(t,e){function n(i,o){return i=t(i,o),e(i[0],i[1])}return t.invert&&e.invert&&(n.invert=function(i,o){return i=e.invert(i,o),i&&t.invert(i[0],i[1])}),n}function xp(t,e){return tt(t)>ze&&(t-=Math.round(t/Mn)*Mn),[t,e]}xp.invert=xp;function Sb(t,e,n){return(t%=Mn)?e||n?Ip(p_(t),m_(e,n)):p_(t):e||n?m_(e,n):xp}function d_(t){return function(e,n){return e+=t,tt(e)>ze&&(e-=Math.round(e/Mn)*Mn),[e,n]}}function p_(t){var e=d_(t);return e.invert=d_(-t),e}function m_(t,e){var n=ut(t),i=ct(t),o=ut(e),a=ct(e);function c(f,p){var m=ut(p),v=ut(f)*m,w=ct(f)*m,E=ct(p),I=E*n+v*i;return[Rl(w*o-I*a,v*n-E*i),Pl(I*o+w*a)]}return c.invert=function(f,p){var m=ut(p),v=ut(f)*m,w=ct(f)*m,E=ct(p),I=E*o-w*a;return[Rl(w*o+E*a,v*n+I*i),Pl(I*n-v*i)]},c}function Ib(t,e,n,i,o,a){if(n){var c=ut(e),f=ct(e),p=i*n;o==null?(o=e+i*Mn,a=e-p/2):(o=g_(c,o),a=g_(c,a),(i>0?o<a:o>a)&&(o+=i*Mn));for(var m,v=o;i>0?v>a:v<a;v-=p)m=Tp([c,-f*ut(v),-f*ct(v)]),t.point(m[0],m[1])}}function g_(t,e){e=Qo(e),e[0]-=t,Sp(e);var n=Tb(-e[1]);return((-e[2]<0?-n:n)+Mn-Qe)%Mn}function VE(){var t=[],e;return{point:function(n,i,o){e.push([n,i,o])},lineStart:function(){t.push(e=[])},lineEnd:Vn,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Rc(t,e){return tt(t[0]-e[0])<Qe&&tt(t[1]-e[1])<Qe}function yc(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ME(t,e,n,i,o){var a=[],c=[],f,p;if(t.forEach(function(P){if(!((L=P.length-1)<=0)){var L,k=P[0],H=P[L],X;if(Rc(k,H)){if(!k[2]&&!H[2]){for(o.lineStart(),f=0;f<L;++f)o.point((k=P[f])[0],k[1]);o.lineEnd();return}H[0]+=2*Qe}a.push(X=new yc(k,P,null,!0)),c.push(X.o=new yc(k,null,X,!1)),a.push(X=new yc(H,P,null,!1)),c.push(X.o=new yc(H,null,X,!0))}}),!!a.length){for(c.sort(e),y_(a),y_(c),f=0,p=c.length;f<p;++f)c[f].e=n=!n;for(var m=a[0],v,w;;){for(var E=m,I=!0;E.v;)if((E=E.n)===m)return;v=E.z,o.lineStart();do{if(E.v=E.o.v=!0,E.e){if(I)for(f=0,p=v.length;f<p;++f)o.point((w=v[f])[0],w[1]);else i(E.x,E.n.x,1,o);E=E.n}else{if(I)for(v=E.p.z,f=v.length-1;f>=0;--f)o.point((w=v[f])[0],w[1]);else i(E.x,E.p.x,-1,o);E=E.p}E=E.o,v=E.z,I=!I}while(!E.v);o.lineEnd()}}}function y_(t){if(e=t.length){for(var e,n=0,i=t[0],o;++n<e;)i.n=o=t[n],o.p=i,i=o;i.n=o=t[0],o.p=i}}function Rd(t){return tt(t[0])<=ze?t[0]:Eb(t[0])*((tt(t[0])+ze)%Mn-ze)}function xb(t,e){var n=Rd(e),i=e[1],o=ct(i),a=[ct(n),-ut(n),0],c=0,f=0,p=new Is;o===1?i=bn+Qe:o===-1&&(i=-bn-Qe);for(var m=0,v=t.length;m<v;++m)if(E=(w=t[m]).length)for(var w,E,I=w[E-1],P=Rd(I),L=I[1]/2+u_,k=ct(L),H=ut(L),X=0;X<E;++X,P=Z,k=ce,H=D,I=J){var J=w[X],Z=Rd(J),le=J[1]/2+u_,ce=ct(le),D=ut(le),x=Z-P,A=x>=0?1:-1,b=A*x,N=b>ze,j=k*ce;if(p.add(Rl(j*A*ct(b),H*D+j*ut(b))),c+=N?x+A*Mn:x,N^P>=n^Z>=n){var C=Xc(Qo(I),Qo(J));Sp(C);var z=Xc(a,C);Sp(z);var U=(N^x>=0?-1:1)*Pl(z[2]);(i>U||i===U&&(C[0]||C[1]))&&(f+=N^x>=0?1:-1)}}return(c<-Qe||c<Qe&&p<-1e-12)^f&1}function OE(t,e,n,i){return function(o){var a=e(o),c=VE(),f=e(c),p=!1,m,v,w,E={point:I,lineStart:L,lineEnd:k,polygonStart:function(){E.point=H,E.lineStart=X,E.lineEnd=J,v=[],m=[]},polygonEnd:function(){E.point=I,E.lineStart=L,E.lineEnd=k,v=bE(v);var Z=xb(m,i);v.length?(p||(o.polygonStart(),p=!0),ME(v,Cb,Z,n,o)):Z&&(p||(o.polygonStart(),p=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),p&&(o.polygonEnd(),p=!1),v=m=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function I(Z,le){t(Z,le)&&o.point(Z,le)}function P(Z,le){a.point(Z,le)}function L(){E.point=P,a.lineStart()}function k(){E.point=I,a.lineEnd()}function H(Z,le){w.push([Z,le]),f.point(Z,le)}function X(){f.lineStart(),w=[]}function J(){H(w[0][0],w[0][1]),f.lineEnd();var Z=f.clean(),le=c.result(),ce,D=le.length,x,A,b;if(w.pop(),m.push(w),w=null,!!D){if(Z&1){if(A=le[0],(x=A.length-1)>0){for(p||(o.polygonStart(),p=!0),o.lineStart(),ce=0;ce<x;++ce)o.point((b=A[ce])[0],b[1]);o.lineEnd()}return}D>1&&Z&2&&le.push(le.pop().concat(le.shift())),v.push(le.filter(Ab))}}return E}}function Ab(t){return t.length>1}function Cb(t,e){return((t=t.x)[0]<0?t[1]-bn-Qe:bn-t[1])-((e=e.x)[0]<0?e[1]-bn-Qe:bn-e[1])}const v_=OE(function(){return!0},Rb,kb,[-ze,-bn]);function Rb(t){var e=NaN,n=NaN,i=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(a,c){var f=a>0?ze:-ze,p=tt(a-e);tt(p-ze)<Qe?(t.point(e,n=(n+c)/2>0?bn:-bn),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(a,n),o=0):i!==f&&p>=ze&&(tt(e-i)<Qe&&(e-=i*Qe),tt(a-f)<Qe&&(a-=f*Qe),n=Pb(e,n,a,c),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(f,n),o=0),t.point(e=a,n=c),i=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-o}}}function Pb(t,e,n,i){var o,a,c=ct(t-n);return tt(c)>Qe?wb((ct(e)*(a=ut(i))*ct(n)-ct(i)*(o=ut(e))*ct(t))/(o*a*c)):(e+i)/2}function kb(t,e,n,i){var o;if(t==null)o=n*bn,i.point(-ze,o),i.point(0,o),i.point(ze,o),i.point(ze,0),i.point(ze,-o),i.point(0,-o),i.point(-ze,-o),i.point(-ze,0),i.point(-ze,o);else if(tt(t[0]-e[0])>Qe){var a=t[0]<e[0]?ze:-ze;o=n*a/2,i.point(-a,o),i.point(0,o),i.point(a,o)}else i.point(e[0],e[1])}function Nb(t){var e=ut(t),n=2*yn,i=e>0,o=tt(e)>Qe;function a(v,w,E,I){Ib(I,t,n,E,v,w)}function c(v,w){return ut(v)*ut(w)>e}function f(v){var w,E,I,P,L;return{lineStart:function(){P=I=!1,L=1},point:function(k,H){var X=[k,H],J,Z=c(k,H),le=i?Z?0:m(k,H):Z?m(k+(k<0?ze:-ze),H):0;if(!w&&(P=I=Z)&&v.lineStart(),Z!==I&&(J=p(w,X),(!J||Rc(w,J)||Rc(X,J))&&(X[2]=1)),Z!==I)L=0,Z?(v.lineStart(),J=p(X,w),v.point(J[0],J[1])):(J=p(w,X),v.point(J[0],J[1],2),v.lineEnd()),w=J;else if(o&&w&&i^Z){var ce;!(le&E)&&(ce=p(X,w,!0))&&(L=0,i?(v.lineStart(),v.point(ce[0][0],ce[0][1]),v.point(ce[1][0],ce[1][1]),v.lineEnd()):(v.point(ce[1][0],ce[1][1]),v.lineEnd(),v.lineStart(),v.point(ce[0][0],ce[0][1],3)))}Z&&(!w||!Rc(w,X))&&v.point(X[0],X[1]),w=X,I=Z,E=le},lineEnd:function(){I&&v.lineEnd(),w=null},clean:function(){return L|(P&&I)<<1}}}function p(v,w,E){var I=Qo(v),P=Qo(w),L=[1,0,0],k=Xc(I,P),H=mc(k,k),X=k[0],J=H-X*X;if(!J)return!E&&v;var Z=e*H/J,le=-e*X/J,ce=Xc(L,k),D=gc(L,Z),x=gc(k,le);Cd(D,x);var A=ce,b=mc(D,A),N=mc(A,A),j=b*b-N*(mc(D,D)-1);if(!(j<0)){var C=Ps(j),z=gc(A,(-b-C)/N);if(Cd(z,D),z=Tp(z),!E)return z;var U=v[0],G=w[0],ie=v[1],Y=w[1],ne;G<U&&(ne=U,U=G,G=ne);var ee=G-U,O=tt(ee-ze)<Qe,K=O||ee<Qe;if(!O&&Y<ie&&(ne=ie,ie=Y,Y=ne),K?O?ie+Y>0^z[1]<(tt(z[0]-U)<Qe?ie:Y):ie<=z[1]&&z[1]<=Y:ee>ze^(U<=z[0]&&z[0]<=G)){var de=gc(A,(-b+C)/N);return Cd(de,D),[z,Tp(de)]}}}function m(v,w){var E=i?t:ze-t,I=0;return v<-E?I|=1:v>E&&(I|=2),w<-E?I|=4:w>E&&(I|=8),I}return OE(c,f,a,i?[0,-t]:[-ze,t-ze])}function Db(t,e,n,i,o,a){var c=t[0],f=t[1],p=e[0],m=e[1],v=0,w=1,E=p-c,I=m-f,P;if(P=n-c,!(!E&&P>0)){if(P/=E,E<0){if(P<v)return;P<w&&(w=P)}else if(E>0){if(P>w)return;P>v&&(v=P)}if(P=o-c,!(!E&&P<0)){if(P/=E,E<0){if(P>w)return;P>v&&(v=P)}else if(E>0){if(P<v)return;P<w&&(w=P)}if(P=i-f,!(!I&&P>0)){if(P/=I,I<0){if(P<v)return;P<w&&(w=P)}else if(I>0){if(P>w)return;P>v&&(v=P)}if(P=a-f,!(!I&&P<0)){if(P/=I,I<0){if(P>w)return;P>v&&(v=P)}else if(I>0){if(P<v)return;P<w&&(w=P)}return v>0&&(t[0]=c+v*E,t[1]=f+v*I),w<1&&(e[0]=c+w*E,e[1]=f+w*I),!0}}}}}var tl=1e9,vc=-tl;function bb(t,e,n,i){function o(m,v){return t<=m&&m<=n&&e<=v&&v<=i}function a(m,v,w,E){var I=0,P=0;if(m==null||(I=c(m,w))!==(P=c(v,w))||p(m,v)<0^w>0)do E.point(I===0||I===3?t:n,I>1?i:e);while((I=(I+w+4)%4)!==P);else E.point(v[0],v[1])}function c(m,v){return tt(m[0]-t)<Qe?v>0?0:3:tt(m[0]-n)<Qe?v>0?2:1:tt(m[1]-e)<Qe?v>0?1:0:v>0?3:2}function f(m,v){return p(m.x,v.x)}function p(m,v){var w=c(m,1),E=c(v,1);return w!==E?w-E:w===0?v[1]-m[1]:w===1?m[0]-v[0]:w===2?m[1]-v[1]:v[0]-m[0]}return function(m){var v=m,w=VE(),E,I,P,L,k,H,X,J,Z,le,ce,D={point:x,lineStart:j,lineEnd:C,polygonStart:b,polygonEnd:N};function x(U,G){o(U,G)&&v.point(U,G)}function A(){for(var U=0,G=0,ie=I.length;G<ie;++G)for(var Y=I[G],ne=1,ee=Y.length,O=Y[0],K,de,_e=O[0],Te=O[1];ne<ee;++ne)K=_e,de=Te,O=Y[ne],_e=O[0],Te=O[1],de<=i?Te>i&&(_e-K)*(i-de)>(Te-de)*(t-K)&&++U:Te<=i&&(_e-K)*(i-de)<(Te-de)*(t-K)&&--U;return U}function b(){v=w,E=[],I=[],ce=!0}function N(){var U=A(),G=ce&&U,ie=(E=bE(E)).length;(G||ie)&&(m.polygonStart(),G&&(m.lineStart(),a(null,null,1,m),m.lineEnd()),ie&&ME(E,f,U,a,m),m.polygonEnd()),v=m,E=I=P=null}function j(){D.point=z,I&&I.push(P=[]),le=!0,Z=!1,X=J=NaN}function C(){E&&(z(L,k),H&&Z&&w.rejoin(),E.push(w.result())),D.point=x,Z&&v.lineEnd()}function z(U,G){var ie=o(U,G);if(I&&P.push([U,G]),le)L=U,k=G,H=ie,le=!1,ie&&(v.lineStart(),v.point(U,G));else if(ie&&Z)v.point(U,G);else{var Y=[X=Math.max(vc,Math.min(tl,X)),J=Math.max(vc,Math.min(tl,J))],ne=[U=Math.max(vc,Math.min(tl,U)),G=Math.max(vc,Math.min(tl,G))];Db(Y,ne,t,e,n,i)?(Z||(v.lineStart(),v.point(Y[0],Y[1])),v.point(ne[0],ne[1]),ie||v.lineEnd(),ce=!1):ie&&(v.lineStart(),v.point(U,G),ce=!1)}X=U,J=G,Z=ie}return D}}const Ap=t=>t;var Pd=new Is,Cp=new Is,LE,FE,Rp,Pp,Qr={point:Vn,lineStart:Vn,lineEnd:Vn,polygonStart:function(){Qr.lineStart=Vb,Qr.lineEnd=Ob},polygonEnd:function(){Qr.lineStart=Qr.lineEnd=Qr.point=Vn,Pd.add(tt(Cp)),Cp=new Is},result:function(){var t=Pd/2;return Pd=new Is,t}};function Vb(){Qr.point=Mb}function Mb(t,e){Qr.point=jE,LE=Rp=t,FE=Pp=e}function jE(t,e){Cp.add(Pp*t-Rp*e),Rp=t,Pp=e}function Ob(){jE(LE,FE)}var Go=1/0,Jc=Go,kl=-Go,Zc=kl,eh={point:Lb,lineStart:Vn,lineEnd:Vn,polygonStart:Vn,polygonEnd:Vn,result:function(){var t=[[Go,Jc],[kl,Zc]];return kl=Zc=-(Jc=Go=1/0),t}};function Lb(t,e){t<Go&&(Go=t),t>kl&&(kl=t),e<Jc&&(Jc=e),e>Zc&&(Zc=e)}var kp=0,Np=0,nl=0,th=0,nh=0,Po=0,Dp=0,bp=0,rl=0,zE,UE,gr,yr,Dn={point:xs,lineStart:__,lineEnd:w_,polygonStart:function(){Dn.lineStart=zb,Dn.lineEnd=Ub},polygonEnd:function(){Dn.point=xs,Dn.lineStart=__,Dn.lineEnd=w_},result:function(){var t=rl?[Dp/rl,bp/rl]:Po?[th/Po,nh/Po]:nl?[kp/nl,Np/nl]:[NaN,NaN];return kp=Np=nl=th=nh=Po=Dp=bp=rl=0,t}};function xs(t,e){kp+=t,Np+=e,++nl}function __(){Dn.point=Fb}function Fb(t,e){Dn.point=jb,xs(gr=t,yr=e)}function jb(t,e){var n=t-gr,i=e-yr,o=Ps(n*n+i*i);th+=o*(gr+t)/2,nh+=o*(yr+e)/2,Po+=o,xs(gr=t,yr=e)}function w_(){Dn.point=xs}function zb(){Dn.point=$b}function Ub(){$E(zE,UE)}function $b(t,e){Dn.point=$E,xs(zE=gr=t,UE=yr=e)}function $E(t,e){var n=t-gr,i=e-yr,o=Ps(n*n+i*i);th+=o*(gr+t)/2,nh+=o*(yr+e)/2,Po+=o,o=yr*t-gr*e,Dp+=o*(gr+t),bp+=o*(yr+e),rl+=o*3,xs(gr=t,yr=e)}function BE(t){this._context=t}BE.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Mn);break}}},result:Vn};var Vp=new Is,kd,qE,HE,il,sl,Nl={point:Vn,lineStart:function(){Nl.point=Bb},lineEnd:function(){kd&&QE(qE,HE),Nl.point=Vn},polygonStart:function(){kd=!0},polygonEnd:function(){kd=null},result:function(){var t=+Vp;return Vp=new Is,t}};function Bb(t,e){Nl.point=QE,qE=il=t,HE=sl=e}function QE(t,e){il-=t,sl-=e,Vp.add(Ps(il*il+sl*sl)),il=t,sl=e}let E_,rh,T_,S_;class I_{constructor(e){this._append=e==null?GE:qb(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==T_||this._append!==rh){const i=this._radius,o=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,T_=i,rh=this._append,S_=this._,this._=o}this._+=S_;break}}}result(){const e=this._;return this._="",e.length?e:null}}function GE(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qb(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return GE;if(e!==E_){const n=10**e;E_=e,rh=function(o){let a=1;this._+=o[0];for(const c=o.length;a<c;++a)this._+=Math.round(arguments[a]*n)/n+o[a]}}return rh}function Hb(t,e){let n=3,i=4.5,o,a;function c(f){return f&&(typeof i=="function"&&a.pointRadius(+i.apply(this,arguments)),Co(f,o(a))),a.result()}return c.area=function(f){return Co(f,o(Qr)),Qr.result()},c.measure=function(f){return Co(f,o(Nl)),Nl.result()},c.bounds=function(f){return Co(f,o(eh)),eh.result()},c.centroid=function(f){return Co(f,o(Dn)),Dn.result()},c.projection=function(f){return arguments.length?(o=f==null?(t=null,Ap):(t=f).stream,c):t},c.context=function(f){return arguments.length?(a=f==null?(e=null,new I_(n)):new BE(e=f),typeof i!="function"&&a.pointRadius(i),c):e},c.pointRadius=function(f){return arguments.length?(i=typeof f=="function"?f:(a.pointRadius(+f),+f),c):i},c.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const p=Math.floor(f);if(!(p>=0))throw new RangeError(`invalid digits: ${f}`);n=p}return e===null&&(a=new I_(n)),c},c.projection(t).digits(n).context(e)}function zm(t){return function(e){var n=new Mp;for(var i in t)n[i]=t[i];return n.stream=e,n}}function Mp(){}Mp.prototype={constructor:Mp,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Um(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),Co(n,t.stream(eh)),e(eh.result()),i!=null&&t.clipExtent(i),t}function KE(t,e,n){return Um(t,function(i){var o=e[1][0]-e[0][0],a=e[1][1]-e[0][1],c=Math.min(o/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),f=+e[0][0]+(o-c*(i[1][0]+i[0][0]))/2,p=+e[0][1]+(a-c*(i[1][1]+i[0][1]))/2;t.scale(150*c).translate([f,p])},n)}function Qb(t,e,n){return KE(t,[[0,0],e],n)}function Gb(t,e,n){return Um(t,function(i){var o=+e,a=o/(i[1][0]-i[0][0]),c=(o-a*(i[1][0]+i[0][0]))/2,f=-a*i[0][1];t.scale(150*a).translate([c,f])},n)}function Kb(t,e,n){return Um(t,function(i){var o=+e,a=o/(i[1][1]-i[0][1]),c=-a*i[0][0],f=(o-a*(i[1][1]+i[0][1]))/2;t.scale(150*a).translate([c,f])},n)}var x_=16,Wb=ut(30*yn);function A_(t,e){return+e?Xb(t,e):Yb(t)}function Yb(t){return zm({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Xb(t,e){function n(i,o,a,c,f,p,m,v,w,E,I,P,L,k){var H=m-i,X=v-o,J=H*H+X*X;if(J>4*e&&L--){var Z=c+E,le=f+I,ce=p+P,D=Ps(Z*Z+le*le+ce*ce),x=Pl(ce/=D),A=tt(tt(ce)-1)<Qe||tt(a-w)<Qe?(a+w)/2:Rl(le,Z),b=t(A,x),N=b[0],j=b[1],C=N-i,z=j-o,U=X*C-H*z;(U*U/J>e||tt((H*C+X*z)/J-.5)>.3||c*E+f*I+p*P<Wb)&&(n(i,o,a,c,f,p,N,j,A,Z/=D,le/=D,ce,L,k),k.point(N,j),n(N,j,A,Z,le,ce,m,v,w,E,I,P,L,k))}}return function(i){var o,a,c,f,p,m,v,w,E,I,P,L,k={point:H,lineStart:X,lineEnd:Z,polygonStart:function(){i.polygonStart(),k.lineStart=le},polygonEnd:function(){i.polygonEnd(),k.lineStart=X}};function H(x,A){x=t(x,A),i.point(x[0],x[1])}function X(){w=NaN,k.point=J,i.lineStart()}function J(x,A){var b=Qo([x,A]),N=t(x,A);n(w,E,v,I,P,L,w=N[0],E=N[1],v=x,I=b[0],P=b[1],L=b[2],x_,i),i.point(w,E)}function Z(){k.point=H,i.lineEnd()}function le(){X(),k.point=ce,k.lineEnd=D}function ce(x,A){J(o=x,A),a=w,c=E,f=I,p=P,m=L,k.point=J}function D(){n(w,E,v,I,P,L,a,c,o,f,p,m,x_,i),k.lineEnd=Z,Z()}return k}}var Jb=zm({point:function(t,e){this.stream.point(t*yn,e*yn)}});function Zb(t){return zm({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}function eV(t,e,n,i,o){function a(c,f){return c*=i,f*=o,[e+t*c,n-t*f]}return a.invert=function(c,f){return[(c-e)/t*i,(n-f)/t*o]},a}function C_(t,e,n,i,o,a){if(!a)return eV(t,e,n,i,o);var c=ut(a),f=ct(a),p=c*t,m=f*t,v=c/t,w=f/t,E=(f*n-c*e)/t,I=(f*e+c*n)/t;function P(L,k){return L*=i,k*=o,[p*L-m*k+e,n-m*L-p*k]}return P.invert=function(L,k){return[i*(v*L-w*k+E),o*(I-w*L-v*k)]},P}function tV(t){return nV(function(){return t})()}function nV(t){var e,n=150,i=480,o=250,a=0,c=0,f=0,p=0,m=0,v,w=0,E=1,I=1,P=null,L=v_,k=null,H,X,J,Z=Ap,le=.5,ce,D,x,A,b;function N(U){return x(U[0]*yn,U[1]*yn)}function j(U){return U=x.invert(U[0],U[1]),U&&[U[0]*Hr,U[1]*Hr]}N.stream=function(U){return A&&b===U?A:A=Jb(Zb(v)(L(ce(Z(b=U)))))},N.preclip=function(U){return arguments.length?(L=U,P=void 0,z()):L},N.postclip=function(U){return arguments.length?(Z=U,k=H=X=J=null,z()):Z},N.clipAngle=function(U){return arguments.length?(L=+U?Nb(P=U*yn):(P=null,v_),z()):P*Hr},N.clipExtent=function(U){return arguments.length?(Z=U==null?(k=H=X=J=null,Ap):bb(k=+U[0][0],H=+U[0][1],X=+U[1][0],J=+U[1][1]),z()):k==null?null:[[k,H],[X,J]]},N.scale=function(U){return arguments.length?(n=+U,C()):n},N.translate=function(U){return arguments.length?(i=+U[0],o=+U[1],C()):[i,o]},N.center=function(U){return arguments.length?(a=U[0]%360*yn,c=U[1]%360*yn,C()):[a*Hr,c*Hr]},N.rotate=function(U){return arguments.length?(f=U[0]%360*yn,p=U[1]%360*yn,m=U.length>2?U[2]%360*yn:0,C()):[f*Hr,p*Hr,m*Hr]},N.angle=function(U){return arguments.length?(w=U%360*yn,C()):w*Hr},N.reflectX=function(U){return arguments.length?(E=U?-1:1,C()):E<0},N.reflectY=function(U){return arguments.length?(I=U?-1:1,C()):I<0},N.precision=function(U){return arguments.length?(ce=A_(D,le=U*U),z()):Ps(le)},N.fitExtent=function(U,G){return KE(N,U,G)},N.fitSize=function(U,G){return Qb(N,U,G)},N.fitWidth=function(U,G){return Gb(N,U,G)},N.fitHeight=function(U,G){return Kb(N,U,G)};function C(){var U=C_(n,0,0,E,I,w).apply(null,e(a,c)),G=C_(n,i-U[0],o-U[1],E,I,w);return v=Sb(f,p,m),D=Ip(e,G),x=Ip(v,D),ce=A_(D,le),z()}function z(){return A=b=null,N}return function(){return e=t.apply(this,arguments),N.invert=e.invert&&j,C()}}function WE(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(-.013791+i*(.003971*n-.001529*i))),e*(1.007226+n*(.015085+i*(-.044475+.028874*n-.005916*i)))]}WE.invert=function(t,e){var n=e,i=25,o;do{var a=n*n,c=a*a;n-=o=(n*(1.007226+a*(.015085+c*(-.044475+.028874*a-.005916*c)))-e)/(1.007226+a*(.015085*3+c*(-.044475*7+.028874*9*a-.005916*11*c)))}while(tt(o)>Qe&&--i>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function rV(){return tV(WE).scale(175.295)}const iV={scale:230,translateX:580,translateY:325},sV=(t=iV)=>rV().scale(t.scale).translate([t.translateX,t.translateY]),oV=t=>Hb().projection(t),aV={viewBox:"0 0 1200 650"},lV=(t,e,n)=>{const i=Nm(t),a=xh().find(f=>f.code===i);if(!a||!a.monthlyData[e])return"hsl(0, 0%, 85%)";const c=a.monthlyData[e];return JE(n,c)},YE=t=>t<=0?"hsl(240, 100%, 70%)":t<=10?"hsl(220, 80%, 60%)":t<=20?"hsl(180, 60%, 50%)":t<=25?"hsl(120, 60%, 50%)":t<=30?"hsl(60, 80%, 50%)":t<=35?"hsl(30, 90%, 55%)":"hsl(0, 90%, 60%)",XE=t=>t<=10?"hsl(45, 70%, 85%)":t<=25?"hsl(200, 40%, 80%)":t<=50?"hsl(200, 50%, 70%)":t<=100?"hsl(200, 60%, 60%)":t<=150?"hsl(200, 70%, 50%)":t<=200?"hsl(210, 80%, 40%)":"hsl(220, 90%, 30%)",uV=t=>{switch(t){case"best":return"hsl(120, 70%, 50%)";case"okay":return"hsl(45, 80%, 55%)";case"avoid":return"hsl(0, 70%, 55%)";default:return"hsl(0, 0%, 80%)"}},JE=(t,e)=>{switch(t){case"temperature":return YE(e.avgDayTemp);case"rainfall":return XE(e.rainfall);case"bestTime":return uV(e.bestTime);default:return"hsl(0, 0%, 80%)"}},cV=(t,e,n)=>{const i=(t+e)/2;return n>200?{icon:"🌊⛈️",emoji:"⛈️",bgColor:"bg-gradient-to-br from-gray-700 to-blue-900",textColor:"text-white",borderColor:"border-blue-400",description:"Heavy storms & flooding"}:n>100&&i>20?{icon:"🌧️🌴",emoji:"🌧️",bgColor:"bg-gradient-to-br from-green-600 to-blue-600",textColor:"text-white",borderColor:"border-green-400",description:"Tropical rainy season"}:n>100?{icon:"🌧️❄️",emoji:"🌧️",bgColor:"bg-gradient-to-br from-gray-500 to-blue-600",textColor:"text-white",borderColor:"border-blue-300",description:"Cold & wet season"}:n>50?{icon:"🌦️🍃",emoji:"🌦️",bgColor:"bg-gradient-to-br from-blue-400 to-green-500",textColor:"text-white",borderColor:"border-blue-300",description:"Showery weather"}:t>35&&n<20?{icon:"🏜️☀️",emoji:"☀️",bgColor:"bg-gradient-to-br from-yellow-400 to-orange-600",textColor:"text-white",borderColor:"border-orange-400",description:"Hot & arid desert"}:t>30?{icon:"🌞🔥",emoji:"🌞",bgColor:"bg-gradient-to-br from-yellow-300 to-red-500",textColor:"text-white",borderColor:"border-yellow-400",description:"Very hot & sunny"}:i>20?{icon:"☀️🌸",emoji:"☀️",bgColor:"bg-gradient-to-br from-yellow-200 to-green-400",textColor:"text-gray-800",borderColor:"border-yellow-300",description:"Warm & pleasant"}:i>10?{icon:"🌤️🍂",emoji:"🌤️",bgColor:"bg-gradient-to-br from-blue-200 to-gray-400",textColor:"text-gray-800",borderColor:"border-blue-300",description:"Cool & mild"}:i>0?{icon:"🌨️🧊",emoji:"❄️",bgColor:"bg-gradient-to-br from-blue-300 to-gray-600",textColor:"text-white",borderColor:"border-blue-400",description:"Cold & chilly"}:{icon:"❄️🏔️",emoji:"❄️",bgColor:"bg-gradient-to-br from-blue-600 to-purple-800",textColor:"text-white",borderColor:"border-blue-500",description:"Freezing conditions"}},hV=t=>t===0?"No rain":t<=10?"Very light":t<=30?"Light":t<=60?"Moderate":t<=100?"Heavy":t<=200?"Very heavy":"Extreme",R_=t=>t<0?"Freezing":t<10?"Cold":t<20?"Cool":t<25?"Mild":t<30?"Warm":t<35?"Hot":"Very hot",ZE=({tooltip:t,maxWidth:e=1e3,maxHeight:n=600})=>{if(!t)return null;const i=cV(t.avgDayTemp,t.avgNightTemp,t.rainfall),o=hV(t.rainfall),a=R_(t.avgDayTemp),c=R_(t.avgNightTemp),f=240,p=320,m=t.y>n*.3,v=Math.min(Math.max(t.x-p/2,15),e-p-15),w=m?Math.max(t.y-f-30,15):Math.min(t.y+20,n-f-15);return M.jsxs("div",{className:`absolute z-50 rounded-xl shadow-2xl border-2 transition-all duration-200 pointer-events-none ${i.bgColor} ${i.textColor} ${i.borderColor} max-w-[280px] sm:max-w-[320px]`,style:{left:v,top:w,maxWidth:`${p}px`,transform:"translateZ(0)"},children:[M.jsxs("div",{className:"p-3 sm:p-4 pb-2",children:[M.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[M.jsx("h3",{className:"font-bold text-xs sm:text-sm",children:t.country}),M.jsxs("div",{className:"justify-end items-center flex gap-1 sm:gap-2",children:[M.jsx("div",{className:"text-sm sm:text-md",children:i.emoji}),M.jsx("div",{className:`text-sm sm:text-md font-bold ${t.bestTime==="best"?"text-green-300":t.bestTime==="okay"?"text-yellow-300":"text-red-300"}`,children:t.bestTime==="best"?"✅":t.bestTime==="okay"?"⚠️":"❌"})]})]}),M.jsx("div",{className:"text-center mb-2 sm:mb-3",children:M.jsxs("div",{className:"text-xs font-medium opacity-90",children:[i.icon," ",t.description]})})]}),M.jsxs("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-2 sm:space-y-3",children:[M.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[M.jsxs("div",{className:"bg-black bg-opacity-20 rounded-md p-2 sm:p-3",children:[M.jsx("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:M.jsx("span",{className:"text-xs font-medium opacity-80",children:"🌡️ Temperature"})}),M.jsxs("div",{className:"grid grid-cols-2 gap-1 sm:gap-2 text-xs sm:text-sm",children:[M.jsxs("div",{className:"text-center",children:[M.jsxs("div",{className:"text-xs font-bold",children:["🌅 ",t.avgDayTemp,"°C"]}),M.jsx("div",{className:"text-xs opacity-75",children:a})]}),M.jsxs("div",{className:"text-center",children:[M.jsxs("div",{className:"text-xs font-bold",children:["🌙 ",t.avgNightTemp,"°C"]}),M.jsx("div",{className:"text-xs opacity-75",children:c})]})]})]}),M.jsxs("div",{className:"bg-black bg-opacity-20 rounded-lg p-2 sm:p-3",children:[M.jsx("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:M.jsx("span",{className:"text-xs font-medium opacity-80",children:"💧 Precipitation"})}),M.jsxs("div",{className:"text-center",children:[M.jsxs("div",{className:"text-xs font-bold",children:[t.rainfall,"mm"]}),M.jsxs("div",{className:"text-xs opacity-75",children:[o," rainfall"]})]})]})]}),t.regions&&t.selectedMonth&&M.jsxs("div",{className:"bg-black bg-opacity-20 rounded-lg p-2 sm:p-3",children:[M.jsx("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:M.jsx("span",{className:"text-xs font-medium opacity-80",children:"🌍 Regional Variations"})}),M.jsx("div",{className:"space-y-1 sm:space-y-2",children:t.regions.map((E,I)=>{const P=E.monthlyData[t.selectedMonth];if(!P)return null;const L=P.bestTime==="best"?"✅":P.bestTime==="okay"?"⚠️":"❌",k=P.bestTime==="best"?"text-green-300":P.bestTime==="okay"?"text-yellow-300":"text-red-300";return M.jsxs("div",{className:"flex items-center justify-between text-xs",children:[M.jsxs("div",{className:"flex items-center gap-1",children:[M.jsx("span",{className:k,children:L}),M.jsx("span",{className:"opacity-90",children:E.name})]}),M.jsxs("div",{className:"text-right opacity-80 flex gap-1 sm:gap-2",children:[M.jsxs("div",{children:[P.avgDayTemp,"°C"]}),M.jsxs("div",{className:"text-xs opacity-60",children:[P.rainfall,"mm"]})]})]},I)})})]})]})]})},eT=({selectedCategory:t,countryCount:e})=>M.jsxs("div",{className:"absolute bottom-2 sm:bottom-4 left-2 sm:left-4 bg-white/90 backdrop-blur-sm rounded-lg p-2 sm:p-3 shadow-lg max-w-[200px] sm:max-w-none",children:[M.jsx("h3",{className:"font-semibold text-xs sm:text-sm mb-1 sm:mb-2",children:t==="temperature"?"Temperature (°C)":t==="rainfall"?"Rainfall (mm)":"Best time to visit"}),M.jsx("div",{className:"flex items-center gap-1 sm:gap-2 text-xs",children:t==="temperature"?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"w-3 sm:w-4 h-2 sm:h-3 bg-gradient-to-r from-blue-400 to-red-500 rounded"}),M.jsx("span",{children:"Cold → Hot"})]}):t==="rainfall"?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"w-3 sm:w-4 h-2 sm:h-3 bg-gradient-to-r from-gray-300 to-blue-600 rounded"}),M.jsx("span",{children:"Low → High"})]}):M.jsxs("div",{className:"space-y-1",children:[M.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[M.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 bg-green-500 rounded"}),M.jsx("span",{children:"Best time"})]}),M.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[M.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 bg-yellow-500 rounded"}),M.jsx("span",{children:"Okay time"})]}),M.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[M.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 bg-red-500 rounded"}),M.jsx("span",{children:"Avoid"})]})]})}),M.jsxs("div",{className:"mt-1 sm:mt-2 text-xs text-gray-600",children:[M.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[M.jsx("div",{className:"w-2 sm:w-3 h-2 sm:h-3 rounded-full bg-blue-500 border border-white"}),M.jsx("span",{className:"text-xs",children:"Interactive data points"})]}),M.jsx("div",{className:"text-xs font-medium text-blue-600",children:"Tap countries for detailed data"})]})]}),fV=({selectedMonth:t,selectedCategory:e,countryCount:n})=>M.jsxs("div",{className:"absolute bottom-2 sm:bottom-4 right-2 sm:right-4 bg-white/90 backdrop-blur-sm rounded-lg p-2 sm:p-3 shadow-lg",children:[M.jsx("div",{className:"text-xs sm:text-sm font-semibold",children:t}),M.jsxs("div",{className:"text-xs text-muted-foreground capitalize",children:[e," View"]}),M.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[n," countries with data"]})]}),dV=({selectedMonth:t,selectedCategory:e,projection:n,onCountryHover:i,onCountryLeave:o,currentZoom:a=1})=>{const{tourismData:c,loading:f}=Ph();return f||!c.length?null:M.jsx(M.Fragment,{children:c.map(p=>{if(!p.coordinates)return console.log(`No coordinates found for ${p.name}`),null;const[m,v]=p.coordinates,[w,E]=n([v,m])||[0,0];if(!p.monthlyData)return console.log(`No monthly data found for ${p.name}`),null;if(!p.monthlyData.hasOwnProperty(t))return console.log(`No data for ${t} found for ${p.name}`),null;const I=p.monthlyData[t],P=JE(e,I),L=1/a;return M.jsxs("g",{transform:`translate(${w}, ${E}) scale(${L}) translate(${-w}, ${-E})`,children:[M.jsx("circle",{cx:w,cy:E,r:"12",fill:P,stroke:"white",strokeWidth:"1",className:"cursor-pointer transition-all duration-300 hover:r-16 touch-manipulation",onMouseEnter:k=>i(k,p.code),onMouseLeave:o,onTouchStart:k=>{k.preventDefault(),i(k,p.code)},onTouchEnd:k=>{k.preventDefault(),o()}}),M.jsx("text",{x:w,y:E+5,textAnchor:"middle",className:"text-xs font-bold fill-white pointer-events-none",children:p.code})]},`marker-${p.code}`)})})},pV=({selectedMonth:t,selectedCategory:e,tooltip:n,onCountryHover:i,onCountryLeave:o})=>{const{tourismData:a,loading:c}=Ph();return c||!a.length?M.jsx("div",{className:"relative w-full h-[500px] sm:h-[600px] md:h-[700px] bg-blue-100 rounded-lg overflow-hidden shadow-lg flex items-center justify-center",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),M.jsx("p",{className:"text-gray-600",children:"Loading fallback map..."})]})}):M.jsxs("div",{className:"relative w-full h-[500px] sm:h-[600px] md:h-[650px] bg-blue-100 rounded-lg overflow-hidden shadow-lg",children:[M.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:M.jsxs("div",{className:"text-center p-4 sm:p-8",children:[M.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Loading World Map..."}),M.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3 sm:mb-4",children:"Displaying available countries while map loads"}),M.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-4 max-h-[400px] overflow-y-auto touch-scroll",children:a.map(f=>{const p=f.monthlyData[t],m=e==="temperature"?YE(p.avgDayTemp):XE(p.rainfall);return M.jsxs("div",{className:"p-2 sm:p-4 rounded-lg cursor-pointer transition-all duration-300 hover:scale-105 border touch-manipulation",style:{backgroundColor:m},onMouseEnter:v=>i(v,f.code),onMouseLeave:o,onTouchStart:v=>{v.preventDefault(),i(v,f.code)},onTouchEnd:v=>{v.preventDefault(),o()},children:[M.jsx("div",{className:"text-xs sm:text-sm font-medium text-white mix-blend-difference",children:f.name}),M.jsx("div",{className:"text-xs text-white mix-blend-difference mt-1",children:e==="temperature"?`${p.avgDayTemp}°C`:`${p.rainfall}mm`})]},f.code)})})]})}),M.jsx(eT,{selectedCategory:e,countryCount:a.length}),M.jsx(ZE,{tooltip:n,maxWidth:1e3,maxHeight:600})]})},mV=()=>M.jsxs(M.Fragment,{children:[M.jsx("defs",{children:M.jsxs("linearGradient",{id:"oceanGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[M.jsx("stop",{offset:"0%",stopColor:"hsl(200, 80%, 82%)"}),M.jsx("stop",{offset:"50%",stopColor:"hsl(205, 85%, 78%)"}),M.jsx("stop",{offset:"100%",stopColor:"hsl(210, 80%, 76%)"})]})}),M.jsx("rect",{width:"100%",height:"100%",fill:"url(#oceanGradient)"})]}),gV=({onZoomIn:t,onZoomOut:e,onReset:n,onToggleFullscreen:i,isFullscreen:o,currentZoom:a})=>M.jsxs("div",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 flex flex-col gap-1 sm:gap-2 bg-white/90 backdrop-blur-sm rounded-lg p-1 sm:p-2 shadow-lg",children:[M.jsx("button",{onClick:t,className:"p-2 sm:p-2 hover:bg-gray-100 rounded-md transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation",disabled:a>=8,title:"Zoom In",children:M.jsx(yb,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),M.jsx("button",{onClick:e,className:"p-2 sm:p-2 hover:bg-gray-100 rounded-md transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation",disabled:a<=1.01,title:"Zoom Out",children:M.jsx(vb,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),M.jsx("div",{className:"border-t border-gray-300 mx-1"}),M.jsx("button",{onClick:n,className:"p-2 sm:p-2 hover:bg-gray-100 rounded-md transition-colors duration-200 touch-manipulation",title:"Reset Zoom",children:M.jsx(pb,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),M.jsx("div",{className:"border-t border-gray-300 mx-1"}),M.jsx("button",{onClick:i,className:"p-2 sm:p-2 hover:bg-gray-100 rounded-md transition-colors duration-200 touch-manipulation",title:o?"Exit Fullscreen":"Enter Fullscreen",children:o?M.jsx(db,{size:16,className:"sm:w-[18px] sm:h-[18px]"}):M.jsx(fb,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),M.jsxs("div",{className:"text-xs text-center text-gray-600 font-mono px-1 py-1",children:[Math.round(a*100),"%"]})]}),P_=({selectedMonth:t,selectedCategory:e})=>{const{worldData:n,loading:i,error:o}=Nk(),{tourismData:a,loading:c,error:f}=Ph(),{tooltip:p,handleCountryHover:m,handleCountryLeave:v,handleTouchStart:w,handleTouchEnd:E}=Tk(t),{containerRef:I,svgRef:P,zoomIn:L,zoomOut:k,resetZoom:H,currentZoom:X}=sb(),{isFullscreen:J,toggleFullscreen:Z}=NE(),le=sV(),ce=oV(le),D=i||c,x=o||f;return D?M.jsx("div",{className:"relative w-full h-full bg-blue-100 rounded-lg overflow-hidden shadow-lg flex items-center justify-center",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),M.jsx("p",{className:"text-gray-600",children:"Loading climate data..."})]})}):x?M.jsx("div",{className:"relative w-full h-full bg-red-50 rounded-lg overflow-hidden shadow-lg flex items-center justify-center",children:M.jsxs("div",{className:"text-center text-red-600",children:[M.jsx("p",{className:"font-semibold mb-2",children:"Error loading data"}),M.jsx("p",{className:"text-sm",children:x})]})}):n?M.jsxs("div",{className:"relative w-full h-full bg-blue-100 rounded-lg overflow-hidden shadow-lg",children:[M.jsx("div",{ref:I,className:"w-full h-full",style:{touchAction:"none"},children:M.jsx("svg",{ref:P,width:"100%",height:"100%",viewBox:aV.viewBox,className:"w-full h-full cursor-grab active:cursor-grabbing",style:{touchAction:"none",pointerEvents:"all"},children:M.jsxs("g",{id:"map-group",children:[M.jsx(mV,{}),n.features.map((A,b)=>{const N=ce(A),j=A.id,C=lV(j,t,e),z=Ek(j,t);return M.jsx("path",{d:N||"",fill:C,stroke:"hsl(0, 0%, 100%)",strokeWidth:"0.5",className:`transition-all duration-300 cursor-pointer ${z?"hover:stroke-4 hover:stroke-blue-500":"hover:stroke-2"}`,onMouseEnter:U=>m(U,j),onMouseLeave:v,onTouchStart:U=>w(U,j),onTouchEnd:E},`country-${j}-${b}`)}),M.jsx(dV,{selectedMonth:t,selectedCategory:e,projection:le,onCountryHover:m,onCountryLeave:v,currentZoom:X})]})})}),M.jsx(gV,{onZoomIn:L,onZoomOut:k,onReset:H,onToggleFullscreen:()=>Z(),isFullscreen:J,currentZoom:X}),M.jsx(eT,{selectedCategory:e,countryCount:a.length}),M.jsx(ZE,{tooltip:p,maxWidth:1e3,maxHeight:600}),M.jsx(fV,{selectedMonth:t,selectedCategory:e,countryCount:a.length})]}):M.jsx(pV,{selectedMonth:t,selectedCategory:e,tooltip:p,onCountryHover:m,onCountryLeave:v})},yV=()=>{const t=new Date().toLocaleString("default",{month:"long"}),[e,n]=fe.useState(t),[i,o]=fe.useState("temperature"),{isFullscreen:a}=NE();return a?M.jsx("div",{className:"fixed inset-0 bg-blue-100 z-50",children:M.jsx("main",{className:"h-full relative",children:M.jsxs("div",{className:"h-full relative",children:[M.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50",children:M.jsx(l_,{selectedCategory:i,onCategorySelect:o})}),M.jsx(P_,{selectedMonth:e,selectedCategory:i}),M.jsx("div",{className:"absolute bottom-40 left-4 z-40",children:M.jsx(a_,{selectedMonth:e,onMonthSelect:n,isFullscreen:!0})})]})})}):M.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background to-primary/5",children:[M.jsxs("header",{className:"text-center py-4 px-4 sm:py-6 md:py-8",children:[M.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[M.jsx(hb,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),M.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Wander Weather"})]}),M.jsx("p",{className:"text-sm sm:text-base md:text-lg text-muted-foreground max-w-2xl mx-auto px-2",children:"Discover the best destinations around the world based on seasonal weather patterns and climate data"})]}),M.jsxs("main",{className:"container mx-auto px-2 sm:px-4 space-y-4 sm:space-y-6 md:space-y-8",children:[M.jsx(l_,{selectedCategory:i,onCategorySelect:o}),M.jsxs("div",{className:"flex flex-col xl:flex-row gap-4 sm:gap-6 max-w-7xl mx-auto",children:[M.jsx("div",{className:"xl:w-64 flex-shrink-0 order-1 xl:order-1",children:M.jsx(a_,{selectedMonth:e,onMonthSelect:n,isFullscreen:!1})}),M.jsx("div",{className:"flex-1 order-2 xl:order-2",children:M.jsx(P_,{selectedMonth:e,selectedCategory:i})})]}),M.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mt-8 sm:mt-12 px-2 sm:px-0",children:[M.jsxs("div",{className:"bg-card rounded-lg p-4 sm:p-6 shadow-lg border",children:[M.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[M.jsx(gb,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),M.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"How to Use"})]}),M.jsxs("ul",{className:"space-y-1 sm:space-y-2 text-xs sm:text-sm text-muted-foreground",children:[M.jsx("li",{children:"• Select a month to see seasonal weather patterns"}),M.jsx("li",{children:"• Choose between temperature and rainfall views"}),M.jsx("li",{children:"• Hover over countries for detailed climate information"}),M.jsx("li",{children:"• Colors indicate optimal travel conditions"})]})]}),M.jsxs("div",{className:"bg-card rounded-lg p-4 sm:p-6 shadow-lg border",children:[M.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3",children:"Current Selection"}),M.jsxs("div",{className:"space-y-2 text-xs sm:text-sm",children:[M.jsxs("div",{children:[M.jsx("span",{className:"font-medium",children:"Month:"})," ",e]}),M.jsxs("div",{children:[M.jsx("span",{className:"font-medium",children:"Category:"})," ",M.jsx("span",{className:"capitalize",children:i==="bestTime"?"Best time to visit":i})]}),M.jsx("div",{className:"mt-3 text-xs text-muted-foreground",children:i==="temperature"?"Red indicates hot weather, blue indicates cold weather":i==="rainfall"?"Blue indicates high rainfall, gray indicates low rainfall":"Green = best time, yellow = okay, red = avoid visiting"})]})]})]}),M.jsx("footer",{className:"text-center py-4 sm:py-6 md:py-8 mt-8 sm:mt-12 md:mt-16 border-t border-border/50",children:M.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Wander Weather • ",M.jsx("a",{href:"https://github.com/rajat19/wander-weather",children:"Github"})]})})]})]})},vV=()=>M.jsx(yV,{}),_V=()=>{const t=Q_();return fe.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:M.jsxs("div",{className:"text-center",children:[M.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),M.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),M.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},wV=new OS,EV=()=>M.jsx(zS,{client:wV,children:M.jsx(CI,{basename:"/wander-weather/",children:M.jsxs(II,{children:[M.jsx(Vd,{path:"",element:M.jsx(vV,{})}),M.jsx(Vd,{path:"*",element:M.jsx(_V,{})})]})})});dS.createRoot(document.getElementById("root")).render(M.jsx(EV,{}));
